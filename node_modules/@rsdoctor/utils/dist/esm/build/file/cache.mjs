import fs_extra from "fs-extra";
const cache = new Map();
async function readFile(path) {
    if (cache.has(path)) return cache.get(path);
    const res = await fs_extra.readFile(path, 'utf-8');
    cache.set(path, res);
    return res;
}
function readFileSync(path) {
    if (cache.has(path)) return cache.get(path);
    const res = fs_extra.readFileSync(path, 'utf-8');
    cache.set(path, res);
    return res;
}
async function readJSON(path) {
    const str = await readFile(path);
    return JSON.parse(str);
}
function readJSONSync(path) {
    const str = readFileSync(path);
    return JSON.parse(str);
}
export { readFile, readFileSync, readJSON, readJSONSync };
