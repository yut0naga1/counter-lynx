let entrypoint_id = 1;
class EntryPoint {
    static init() {
        entrypoint_id = 1;
    }
    addChunk(chunk) {
        if (this._chunks.includes(chunk)) return;
        this._chunks.push(chunk);
    }
    addAsset(asset) {
        if (this._assets.includes(asset)) return;
        this._assets.push(asset);
    }
    toData() {
        return {
            id: this.id,
            name: this.name,
            chunks: this._chunks.map((e)=>e.id),
            assets: this._assets.map((e)=>e.path),
            size: this._assets.length ? this._assets.reduce((t, e)=>t + e.size, 0) : 0
        };
    }
    setChunks(chunks) {
        this._chunks = chunks;
    }
    setAssets(assets) {
        this._assets = assets;
    }
    setId(id) {
        this.id = id;
    }
    constructor(name){
        this.name = name;
        this._chunks = [];
        this._assets = [];
        this.id = entrypoint_id++;
    }
}
export { EntryPoint };
