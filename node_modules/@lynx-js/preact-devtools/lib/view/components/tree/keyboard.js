import { useCallback } from "preact/hooks";
export function useKeyListNav(opts) {
    return useCallback((e) => {
        if (/^Arrow/.test(e.key))
            e.preventDefault();
        const sel = opts.selected;
        const { onCollapse, canCollapse, checkCollapsed: checkCollapssed, onPrev, onNext, } = opts;
        if (e.key === "ArrowLeft") {
            if (canCollapse(sel) && !checkCollapssed(sel)) {
                return onCollapse(sel, true);
            }
            onPrev(sel);
        }
        else if (e.key === "ArrowUp") {
            onPrev(sel);
        }
        else if (e.key === "ArrowRight") {
            if (canCollapse(sel) && checkCollapssed(sel)) {
                return onCollapse(sel, false);
            }
            onNext(sel);
        }
        else if (e.key === "ArrowDown") {
            onNext(sel);
        }
    }, [opts.selected]);
}
