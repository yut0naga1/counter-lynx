import { h } from "preact";
import { Icon } from "../icons";
import s from "./FilterPopup.module.css";
export function FilterCheck({ checked, label, onInput, }) {
    return (<label class={s.filterRow}>
			<span class={s.filterCheck}>
				<input type="checkbox" checked={checked} onInput={e => onInput(e.target.checked)}/>
				<Icon icon={checked ? "checkbox-checked" : "checkbox-unchecked"}/>
			</span>
			<span class={`${s.filterValue} ${s.filterValueText}`}>{label}</span>
		</label>);
}
export function FilterNumber({ value, label, onInput, units, defaultValue, }) {
    const checked = value !== false;
    return (<label class={s.filterRow}>
			<span class={s.filterCheck}>
				<input type="checkbox" checked={checked} onInput={e => onInput(e.target.checked ? defaultValue : false)}/>
				<Icon icon={checked ? "checkbox-checked" : "checkbox-unchecked"}/>
			</span>
			<span class={`${s.filterValue} ${s.filterValueText}`}>
				{label}{" "}
				<input type="number" class={s.filterInputNumber} value={checked ? value : defaultValue} onInput={e => {
            onInput(e.target.value);
        }}></input>{" "}
				{units}
			</span>
		</label>);
}
export function FilterPopup({ children, onFiltersSubmit, filterActions, className, }) {
    return (<div class={`${s.filter} ${className}`} data-testid="filter-popup">
			<form onSubmit={e => {
            e.preventDefault();
            onFiltersSubmit();
        }}>
				{children}
				<div class={s.vSep}/>
				<div class={s.filterActions}>
					{filterActions}
					<button type="submit" class={s.filterSubmitBtn} data-testid="filter-update">
						Update
					</button>
				</div>
			</form>
		</div>);
}
