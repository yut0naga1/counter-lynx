import { h } from "preact";
import { useEffect, useRef } from "preact/hooks";
export function OutsideClick(props) {
    const ref = useRef(null);
    useEffect(() => {
        if (!ref.current)
            return;
        const listener = (e) => {
            if (ref.current && !ref.current.contains(e.target)) {
                props.onClick();
            }
        };
        const root = ref.current.getRootNode();
        root.addEventListener("click", listener);
        return () => root.removeEventListener("click", listener);
    }, [props.children, ref.current]);
    return (<div ref={ref} class={props.class} style={props.style}>
			{props.children}
		</div>);
}
