
document.head.appendChild(document.createElement('style')).textContent = `.btnIcon-seIUDF {
  cursor: pointer;
  color: var(--color-text);
  background: none;
  border: none;
  outline: none;
  align-items: center;
  display: inline-flex;
}

.btnIcon-seIUDF[data-active="true"] {
  color: var(--color-button-active);
}

.btnWrapper-WVjaDv {
  justify-content: center;
  align-items: center;
  height: 100%;
  padding-left: .25rem;
  padding-right: .25rem;
  display: flex;
}

.searchContainer-NSWqfN {
  flex: auto;
  align-items: center;
  min-width: 0;
  height: 100%;
  margin-left: .5rem;
  margin-right: .5rem;
  display: flex;
}

.search-WQtumk {
  height: 100%;
  color: var(--color-text);
  background: none;
  border: none;
  border-top: .025rem solid #0000;
  border-bottom: .0625rem solid #0000;
  flex: auto;
  padding: .25rem 0;
  position: relative;
  margin-left: .25rem !important;
}

.search-WQtumk:focus {
  border-bottom: .0625rem solid var(--color-selected-bg);
  outline: none;
}

.searchCounter-F4KeeY {
  font-size: var(--font-small);
  color: var(--color-text-empty);
  display: inline-flex;
}

.removeWrapper-qCiGxW {
  flex: none;
  justify-content: flex-end;
  width: 1.5rem;
  display: flex;
}

.vSep-Zu_Pw9 {
  height: .0625rem;
  margin: .4rem 0;
}

.filterBtnWrapper-etdwmc {
  align-items: center;
  height: 100%;
  display: flex;
  position: relative;
}

.filter-NGA4xe {
  border-top: none;
  border: .0625rem solid var(--color-border);
  background: var(--color-bg);
  z-index: 10;
  width: 12rem;
  padding: .5rem .5rem .5rem .75rem;
  position: absolute;
  top: 90%;
  right: -.5rem;
}

.filter-NGA4xe form {
  margin: 0;
}

.filter-NGA4xe label {
  cursor: pointer;
}

.filterRow-SvbDAc {
  align-items: center;
  height: 1.375rem;
  display: flex;
}

.filterCheck-qzapLP {
  flex: none;
  justify-content: flex-start;
  align-items: center;
  width: 1.25rem;
  display: flex;
}

.filterCheck-qzapLP svg {
  width: 1.25rem;
}

.filterCheck-qzapLP input {
  opacity: 0;
  position: absolute;
  left: 0;
}

.filterCheck-qzapLP input:checked + svg {
  color: var(--color-selected-bg);
}

.filterValue-BnhEqF {
  text-align: left;
}

.filterValueText-fgf6yV {
  padding-left: .25rem;
  font-size: .875rem;
}

.filterAdd-YA1RAK {
  align-items: center;
  font-size: .875rem;
  display: flex;
}

.filterName-tYuZcu {
  background: var(--color-props-input-bg);
  width: 100%;
  color: var(--color-text-input);
  border: none;
  align-items: center;
  padding: .15rem .3rem;
  font-size: .75rem;
  display: flex;
}

.filterActions-xwv547 {
  justify-content: space-between;
  align-items: center;
  display: flex;
}

.filterSubmitBtn-notwQU {
  background: var(--color-selected-bg);
  color: var(--color-selected-text);
  border: none;
  border-radius: .1875rem;
  padding: .25rem .5rem;
  font-size: .875rem;
  display: block;
}

.filterSubmitBtn-notwQU svg {
  margin-right: .25rem;
}

.filterInputNumber-iS3dFj {
  width: 3rem;
  padding: .15rem;
}

.root-W3wwIU {
  font-family: var(--font-monospace);
  font-size: 1rem;
}

.form-BXwMak {
  width: 100%;
}

.row-fZc0MQ {
  width: 100%;
  font-size: var(--font-small);
  height: 1.125rem;
  line-height: 1.4;
  font-family: var(--font-monospace);
  --indent-depth: .75rem;
  flex-direction: row;
  align-items: center;
  display: flex;
}

.name-SPWCIB {
  white-space: nowrap;
  color: var(--name-static);
  flex-shrink: 0;
  padding: 0 0 0 .2em;
  line-height: 1;
  display: inline-block;
}

.name-SPWCIB.nameEditable-XqiqeW {
  color: var(--name-dynamic);
}

.name-SPWCIB:not([data-type="empty"]):after {
  content: ":";
  font-family: var(--font-monospace);
  color: var(--color-props-sep);
}

.nameInput-Fpw5GN {
  color: inherit;
  font-family: var(--font-monospace);
  background: none;
  border: none;
  outline: none;
  padding: .3em 0 .3em .4em;
}

.nameInput-Fpw5GN:focus {
  background: var(--color-props-input-bg);
}

.property-JBQN3e {
  text-overflow: ellipsis;
  white-space: nowrap;
  color: var(--property-static);
  padding-left: .25rem;
  display: inline-block;
  overflow: hidden;
}

.noCollapse-Y5Z_b3 {
  padding-left: 1.25rem;
}

.toggle-sc4rRO {
  cursor: pointer;
  color: #aaa;
  background: none;
  align-items: center;
  width: 100%;
  height: 100%;
  padding: 0 .13em;
  display: flex;
  overflow: hidden;
}

.toggle-sc4rRO:focus {
  outline: none;
}

.toggle-sc4rRO svg {
  flex-shrink: 0;
  transition: transform .2s;
}

.toggle-sc4rRO[data-collapsed="true"] svg {
  transform: rotate(-90deg);
}

.mask-AODJHB {
  text-overflow: ellipsis;
  white-space: nowrap;
  display: block;
  overflow: hidden;
}

.valueWrapper-IXU_AO {
  justify-content: flex-end;
  max-width: 100%;
  display: flex;
}

.check-ultGYe {
  cursor: pointer;
  align-self: center;
}

.withCheck-Se4n_c .valueInput-jVm22p {
  color: #0000 !important;
}

.withCheck-Se4n_c:focus-within .valueInput-jVm22p {
  color: inherit !important;
}

.valueInput-jVm22p {
  font-family: var(--font-monospace);
  z-index: 20;
  color: inherit;
  min-width: 0;
  box-shadow: none;
  white-space: nowrap;
  text-overflow: ellipsis;
  background: none;
  border: none;
  flex: 1;
  padding-right: .2em;
  line-height: 1;
}

.innerWrapper-nhnlMC {
  flex: 1;
  min-width: 0;
  display: flex;
}

.innerWrapper-nhnlMC .valueInput-jVm22p:focus {
  background: var(--color-props-input-bg);
  outline: none;
}

.innerWrapper-nhnlMC .valueInput-jVm22p:invalid {
  border-bottom: .125rem solid var(--color-input-invalid);
  outline: none;
}

.undoBtn-zq8_0v {
  cursor: pointer;
  opacity: 0;
  visibility: hidden;
  color: var(--color-text);
  background: none;
  border: none;
  outline: none;
  padding: 0 .75rem;
  transition: all .2s;
}

.showUndoBtn-vajPyj {
  visibility: visible;
  opacity: 1;
}

.undoBtn-zq8_0v:hover, .undoBtn-zq8_0v:focus {
  color: var(--color-button-active);
}

.mask-xGZn98 {
  position: relative;
}

.valueInput-jVm22p[data-type="string"]:not(:focus) {
  color: var(--color-props-string);
}

.valueInput-jVm22p[data-type="function"]:not(:focus) {
  color: var(--color-props-function);
}

.valueInput-jVm22p[data-type="number"]:not(:focus) {
  color: var(--color-props-number);
}

.valueInput-jVm22p[data-type="boolean"]:not(:focus) {
  color: var(--color-props-boolean);
}

.valueInput-jVm22p[data-type="array"]:not(:focus) {
  color: var(--color-props-array);
}

.valueInput-jVm22p[data-type="object"]:not(:focus) {
  color: var(--color-props-object);
}

.valueInput-jVm22p[data-type="null"]:not(:focus) {
  color: var(--color-props-null);
}

.valueInput-jVm22p[data-type="vnode"]:not(:focus) {
  color: var(--color-props-vnode);
}

.root-I4YC6u {
  grid-template: "switcher" 1.625rem
                 "content" 1fr
                 / 1fr;
  height: 100%;
  font-family: sans-serif;
  display: grid;
  overflow: hidden;
}

.root-I4YC6u * {
  box-sizing: border-box;
}

button, input {
  font: inherit;
  border: none;
  padding: 0;
}

p {
  margin: 0;
}

.theme-Q21hsy {
  background: var(--color-bg);
  color: var(--color-text);
}

.theme-Q21hsy button::-moz-focus-inner {
  border: none;
}

.theme-Q21hsy input {
  margin: 0;
}

:root {
  --font-monospace: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
  --font-xxxsmall: .5625rem;
  --font-xxsmall: .625rem;
  --font-xsmall: .6875rem;
  --font-small: .75rem;
  --font-xnormal: .875rem;
}

.light .theme-Q21hsy {
  --color-bg: white;
  --color-code: #e3e3e3;
  --color-code-border: #c2c2c2;
  --color-text: #333;
  --color-text-input: #333;
  --color-text-stronger: #111;
  --color-disabled: #dedede;
  --color-panelbar-bg: #f7f7f7;
  --color-selected-bg: #8058ca;
  --color-selected-text: white;
  --color-selected-inactive-bg: #e5e5e5;
  --color-selected-inactive-text: #673ab8;
  --color-toggle: #aaa;
  --color-toggle-selected: white;
  --property-static: #333;
  --name-dynamic: #673ab8;
  --name-static: #767676;
  --color-element-text: #673ab8;
  --color-element-non-interactive: #1b1b1b;
  --color-dim-active-bg: #e9e1f8;
  --color-dim-bg: #eaeaea;
  --color-inactive-child-bg: #e9e1f8;
  --color-hover: #e9e1f8;
  --color-border: #dedede;
  --color-dim-border: #dedede;
  --color-text-empty: #444;
  --color-button-active: #7245c7;
  --color-modal-backdrop: #c5c5c5cc;
  --color-modal-border: #bbb;
  --color-marker: yellow;
  --color-marker-selected: orange;
  --color-input-border: #4d4d4d;
  --color-input-invalid: #ff5722;
  --color-empty-logo: #e0e0e0;
  --color-key-label: gray;
  --color-key-label-selected: #dadada;
  --color-key-label-selected-nofocus: #303030;
  --color-key-value: #ff5722;
  --color-key-value-selected-focus: yellow;
  --color-key-value-selected: #ff5722;
  --color-radio: #7245c7;
  --color-shadow: #00000026;
  --color-hoc-bg: #ddd;
  --color-hoc-not-rendered: #ddd;
  --color-hoc-text: #111;
  --color-hoc-selected-text: #fff;
  --color-hoc-selected-bg: #4101b3;
  --table-hover: #ae80ff66;
  --color-props-input-bg: #f0f0f0;
  --color-props-sep: #444;
  --color-props-string: #009906;
  --color-props-function: #1b1b1b;
  --color-props-number: #ff5722;
  --color-props-boolean: #03a9f4;
  --color-props-array: #1b1b1b;
  --color-props-object: #1b1b1b;
  --color-props-null: #1b1b1b;
  --color-props-vnode: #1b1b1b;
  --color-props-hook-label: #e4e4e4;
  --color-bystander-text: #333;
  --color-record-active: #ff5722;
  --color-profiler-old: #e7e7e7;
  --color-profiler-gradient-0: #37afa9;
  --color-profiler-gradient-1: #63b19e;
  --color-profiler-gradient-2: #80b393;
  --color-profiler-gradient-3: #97b488;
  --color-profiler-gradient-4: #abb67d;
  --color-profiler-gradient-5: #beb771;
  --color-profiler-gradient-6: #cfb965;
  --color-profiler-gradient-7: #dfba57;
  --color-profiler-gradient-8: #efbb49;
  --color-profiler-gradient-9: #febc38;
  --message-info-bg: #e3f7fc;
  --message-info-border: #c2eaf9;
  --message-info-strong: #0265c7;
  --message-info-link: #0265c7;
  --message-warning-bg: #fffabc;
  --message-warning-border: #ffd400;
  --message-warning-strong: #ffab00;
  --message-warning-link: #0265c7;
}

.dark .theme-Q21hsy {
  --color-bg: #242424;
  --color-code: black;
  --color-code-border: #5c5858;
  --color-text: #b0b0b0;
  --color-text-input: #c9c5c5;
  --color-text-stronger: #dcdcdc;
  --color-disabled: #575757;
  --color-panelbar-bg: #373737;
  --color-selected-bg: #ae80ff;
  --color-selected-text: white;
  --color-selected-inactive-bg: gray;
  --color-selected-inactive-text: white;
  --color-toggle: #aaa;
  --color-toggle-selected: #eee;
  --property-static: #eee;
  --name-dynamic: #d2adff;
  --name-static: #aaa;
  --color-element-text: #d2adff;
  --color-element-non-interactive: #dedede;
  --color-dim-bg: #545454;
  --color-dim-active-bg: #545454;
  --color-inactive-child-bg: #e9e1f8;
  --color-hover: #3a3a3a;
  --color-border: #424242;
  --color-dim-border: #474747;
  --color-text-empty: #999;
  --color-button-active: #d2adff;
  --color-sidebar-title: #e0e0e0;
  --color-modal-backdrop: #323232cc;
  --color-modal-border: #4d4d4d;
  --color-marker: yellow;
  --color-marker-selected: orange;
  --color-input-border: #666;
  --color-input-invalid: #ff5722;
  --color-empty-logo: #3d3d3d;
  --color-key-label: gray;
  --color-key-label-selected: #dedede;
  --color-key-label-selected-nofocus: #dedede;
  --color-key-value: #ff5722;
  --color-key-value-selected-focus: yellow;
  --color-key-value-selected: yellow;
  --color-radio: #d2adff;
  --color-shadow: #ffffff26;
  --color-hoc-bg: #505050;
  --color-hoc-not-rendered: black;
  --color-hoc-text: #fff;
  --color-hoc-selected-text: #fff;
  --color-hoc-selected-bg: #8251d8;
  --table-hover: #ae80ff66;
  --color-props-input-bg: #444;
  --color-props-sep: #eee;
  --color-props-string: #9eeca1;
  --color-props-function: #dedede;
  --color-props-number: #fdca31;
  --color-props-boolean: #79ccf2;
  --color-props-array: #dedede;
  --color-props-object: #dedede;
  --color-props-null: #dedede;
  --color-props-vnode: #dedede;
  --color-props-hook-label: #464646;
  --color-bystander-text: #d8d8d8;
  --color-record-active: #ff5722;
  --color-profiler-old: #6e6e6e;
  --color-profiler-gradient-0: #37afa9;
  --color-profiler-gradient-1: #63b19e;
  --color-profiler-gradient-2: #80b393;
  --color-profiler-gradient-3: #97b488;
  --color-profiler-gradient-4: #abb67d;
  --color-profiler-gradient-5: #beb771;
  --color-profiler-gradient-6: #cfb965;
  --color-profiler-gradient-7: #dfba57;
  --color-profiler-gradient-8: #efbb49;
  --color-profiler-gradient-9: #febc38;
  --message-info-bg: #1b3941;
  --message-info-border: #006e97;
  --message-info-strong: #8dbff2;
  --message-info-link: #8dbff2;
  --message-warning-bg: #323018;
  --message-warning-border: #917b0f;
  --message-warning-strong: #ffab00;
  --message-warning-link: #8dbff2;
}

.va-middle {
  vertical-align: middle;
}

.switcher-qZj76Q {
  border-bottom: .0625rem solid var(--color-dim-border);
  background: var(--color-panelbar-bg);
  flex-direction: row;
  grid-area: switcher;
  justify-content: space-between;
  height: 1.625rem;
  display: flex;
}

.switcherInner-h5uLGt {
  height: 100%;
  display: flex;
}

.bugLink-X4leex {
  color: var(--color-element-text);
  font-size: var(--font-small);
  margin-right: .25rem;
  text-decoration: none;
}

.componentActions-vLn1lj {
  grid-area: treeActions;
}

.components-YyNm1_ {
  grid-area: tree;
  min-height: 0;
  overflow: hidden;
}

.sidebarActions-gysJBv {
  border-left: .0625rem solid var(--color-border);
  grid-area: sidebarActions;
  max-width: 100%;
}

.sidebar-elnvJw {
  border-left: .0625rem solid var(--color-border);
  grid-area: sidebar;
  min-height: 0;
  overflow: auto;
}

.filterPopup-ZTtOMe {
  width: 18rem;
}

.timelineActions-Di5f6S {
  flex: auto;
  justify-content: space-between;
  display: flex;
}

.timelineCommitsEmpty-dd4FOa {
  padding: 0 .3rem;
  font-size: .8rem;
}

.svg-icon {
  width: 1rem;
  height: 1rem;
}

.hook-number {
  background: var(--color-props-hook-label);
  border-radius: .1875rem;
  justify-content: center;
  align-items: center;
  min-width: 1rem;
  height: 1rem;
  margin-right: .125rem;
  font-size: .6875rem;
  display: inline-flex;
}

.sidebar-layout {
  grid-template: "treeActions" 2.25rem
                 "tree" 1fr
                 "sidebarActions" 2.25rem
                 "sidebar" 1fr
                 / 1fr;
  height: 100%;
  font-family: sans-serif;
  display: grid;
  overflow: auto;
}

@media (min-width: 37.5rem) {
  .sidebar-layout {
    grid-template: "treeActions sidebarActions" 2.25rem
                   "tree sidebar" 1fr
                   / minmax(0, 75%) minmax(35%, 15rem);
  }
}

.sidebar-layout-single {
  grid-template: "actions" 2.25rem
                 "content" 1fr
                 / 1fr;
  height: 100%;
  font-family: sans-serif;
  display: grid;
  overflow: hidden;
}

.sidebar-layout-root {
  height: 100%;
  display: flex;
  overflow: hidden;
}

.sidebar-layout-inner {
  width: 100%;
  overflow: auto;
}

.sidebar-actions {
  justify-content: space-between;
  padding: 0 .6rem !important;
}

@media (max-width: 37.5rem) {
  .sidebar-actions {
    border-top: .0625rem solid var(--color-border);
  }
}

.sidebar-icon-actions {
  align-items: center;
  display: flex;
}

.sidebar-icon-actions > * + * {
  margin-left: .5rem;
}

.checkbox-root {
  padding-bottom: .25rem;
  font-size: 1rem;
  display: flex;
}

.checkbox-wrapper {
  flex: none;
  justify-content: flex-start;
  align-items: center;
  width: 1.25rem;
  display: flex;
}

.checkbox-wrapper input {
  opacity: 0;
  position: absolute;
  left: 0;
}

.checkbox-wrapper input:checked + svg {
  color: var(--color-selected-bg);
}

.checkbox-content {
  color: var(--color-text-stronger);
}

.icon-btn {
  background: none;
  border: none;
  outline: none;
  flex: none;
  align-items: center;
  padding: 0;
  display: inline-flex;
  position: relative;
}

.icon-btn:not([disabled]) {
  color: var(--color-text);
  cursor: pointer;
}

.icon-btn[disabled] {
  color: var(--color-disabled);
}

.icon-btn svg {
  z-index: 1;
  position: relative;
}

.icon-btn-inner {
  outline: none;
  justify-content: center;
  align-items: center;
  display: flex;
}

.icon-btn:active .icon-btn-inner, .icon-btn:focus .icon-btn-inner {
  z-index: 2;
  position: relative;
}

.icon-btn:not([disabled])[data-active="true"] .icon-btn-inner, .icon-btn:focus .icon-btn-inner, .icon-btn:not([disabled]):active .icon-btn-inner {
  color: var(--color-selected-text);
}

.icon-btn[data-kind="secondary"]:active .icon-btn-inner {
  transform: translate3d(0, .0625rem, 0);
  color: var(--color-text) !important;
}

.icon-btn-bg {
  display: none;
}

.icon-btn:focus .bg {
  z-index: -1;
}

.icon-btn:not([disabled])[data-active="true"] .icon-btn-bg {
  content: "";
  background: var(--color-selected-bg);
  border-radius: .2rem;
  display: block;
  position: absolute;
  top: -.25rem;
  bottom: -.25rem;
  left: -.25rem;
  right: -.25rem;
}

.actions {
  border-bottom: .0625rem solid var(--color-border);
  flex-direction: row;
  flex: none;
  align-items: center;
  height: 2.25rem;
  padding-left: .25rem;
  padding-right: .25rem;
  display: flex;
}

.actions-sep {
  background: var(--color-border);
  flex-basis: .125rem;
  width: .0625rem;
  height: 50%;
  margin: 0 .25rem;
  display: flex;
}

.tree-view {
  z-index: 1;
  -webkit-user-select: none;
  user-select: none;
  outline: none;
  width: 100%;
  height: 100%;
  position: relative;
  overflow: auto;
}

.tree-view-empty {
  flex: 1;
  justify-content: center;
  align-items: center;
  height: 100%;
  display: flex;
}

.tree-view-empty-inner {
  flex-direction: column;
  justify-content: center;
  align-items: center;
  display: flex;
  position: relative;
}

.tree-view-empty p {
  display: block;
}

.tree-view-empty code {
  font-family: var(--font-monospace);
  background: var(--color-code);
  color: var(--color-text);
  border: .0625rem solid var(--color-code-border);
  border-radius: .125rem;
  padding-left: .25rem;
  padding-right: .25rem;
}

:root .tree-view-empty-descr {
  text-align: center;
  max-width: 28rem;
  margin-left: auto;
  margin-right: auto;
}

.tree-view-empty-logo {
  color: var(--color-empty-logo);
  z-index: -1;
  opacity: .4;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate3d(-50%, -42%, 0);
}

.tree-view-pane {
  --indent-depth: .875rem;
  position: relative;
}

.tree-view-item {
  font-size: .9rem;
  font-family: var(--font-monospace);
  color: var(--color-element-text);
  white-space: nowrap;
  width: 100%;
  height: 1.125rem;
  position: absolute;
  left: 0;
}

.tree-view:focus-within .tree-view-item[data-selected="true"] {
  background: var(--color-selected-bg);
  color: var(--color-selected-text);
}

.tree-view:focus-within .tree-view-item[data-selected="true"] :global(.hoc-item) {
  background: var(--color-hoc-selected-bg);
  color: var(--color-hoc-selected-text);
}

.tree-view:focus-within .tree-view-item[data-selected="true"]:after {
  background: var(--color-selected-bg);
}

.tree-view .tree-view-item[data-selected="true"]:after {
  background: var(--color-selected-inactive-bg);
}

.tree-view-item[data-selected="true"] {
  background: var(--color-selected-inactive-bg);
  color: var(--color-selected-inactive-text);
}

.tree-view-item:not([data-selected="true"]):hover, .tree-view-item:not([data-selected="true"]):hover:after {
  background: var(--color-hover);
}

.tree-view-item-header {
  cursor: default;
  align-items: center;
  height: 100%;
  padding: 0 .25rem;
  display: inline-flex;
}

.tree-view-collapse {
  width: 1.25rem;
  height: 1.25rem;
  color: var(--color-toggle);
  z-index: 100;
  background: none;
  border: none;
  outline: none;
  place-content: center;
  padding: .2em .13em;
  transition: transform .3s;
  display: inline-flex;
  transform: rotate(0);
}

.tree-view-item[data-selected="true"] .tree-view-collapse {
  color: var(--color-toggle-selected);
}

[data-collapsed="true"].tree-view-collapse svg {
  transform: rotate(-90deg);
}

.tree-view-no-collapse {
  width: 1.25rem;
  height: 1.25rem;
}

.tree-view-name {
  font-size: var(--font-xsmall);
}

.tree-view-dimmer {
  background: var(--color-dim-bg);
  pointer-events: none;
  opacity: .5;
  z-index: -1;
  position: absolute;
  left: 0;
  right: 0;
}

.tree-view:focus-within .tree-view-dimmer {
  background: var(--color-dim-active-bg);
}

.tree-view-key-label {
  color: var(--color-key-label);
}

.tree-view:not(:focus-within) [data-selected="true"] .tree-view-key-label {
  color: var(--color-key-label-selected-no-focus);
}

.tree-view:focus-within [data-selected="true"] .tree-view-key-label {
  color: var(--color-key-label-selected);
}

.tree-view-key {
  color: var(--color-key-value);
}

.tree-view:not(:focus-within) [data-selected="true"] .tree-view-key {
  color: var(--color-key-value-selected);
}

.tree-view:focus-within [data-selected="true"] .tree-view-key {
  color: var(--color-key-value-selected-focus);
}

.mark {
  background: var(--color-marker);
}

.mark[data-marked="true"] {
  background: var(--color-marker-selected);
}

.hocs {
  margin-left: .5rem;
}

.hocs > * + * {
  margin-left: .25rem;
}

.tree-view-root-label {
  color: var(--color-key-value);
  padding-left: .2rem;
  display: inline-block;
}

.rendered-by-wrapper {
  margin-left: .3rem;
}

.rendered-at-item {
  color: var(--color-element-text);
  text-align: start;
  width: 100%;
  font-size: var(--font-small);
  cursor: pointer;
  background: none;
  border: none;
  border-radius: .1875rem;
  align-items: center;
  padding: .25rem 1rem;
  display: flex;
}

.rendered-at-item:hover {
  background: var(--color-dim-bg);
}

.rendered-at-item[data-active="true"] {
  color: var(--color-selected-text);
  background: var(--color-selected-bg);
}

.rendered-at-item span {
  display: block;
}

.sidebar-preact-version {
  color: var(--color-text);
  font-size: var(--font-small);
  margin-top: .5rem;
  margin-left: 1rem;
  display: block;
}

.hoc-panel {
  border-bottom: .0625rem solid var(--color-border);
  flex-wrap: wrap;
  padding: .1875rem .6rem;
  display: flex;
}

.hoc-panel .hoc {
  margin-top: .2rem;
  margin-bottom: .2rem;
  margin-right: .4rem;
}

.hoc-panel:last-of-type(.hoc) {
  margin-right: 0;
}

.hoc {
  background: var(--color-hoc-bg);
  font-size: var(--font-small);
  font-family: var(--font-monospace);
  color: var(--color-hoc-text);
  border-radius: .1875rem;
  padding: .2rem .4rem;
  line-height: normal;
  display: inline-block;
}

.hoc[data-size="small"] {
  font-size: var(--font-xxxsmall);
  border-radius: .125rem;
  padding: .125rem .25rem;
}

.keypanel-value {
  color: var(--color-key-value);
  font-family: var(--font-monospace);
  font-size: var(--font-small);
  text-overflow: ellipsis;
  white-space: nowrap;
  width: 100%;
  padding-left: 1.25rem;
  display: inline-block;
  overflow: hidden;
}

.newprop-root {
  flex-direction: row;
  margin-top: .5rem;
  padding-left: 1rem;
  display: flex;
}

.newprop-name {
  background: var(--color-props-input-bg);
  width: 5rem;
}

.newprop-namewrapper:after {
  margin: 0 .2rem;
  display: inline-block;
}

.newprop-value {
  background: var(--color-props-input-bg);
  max-width: 5rem;
  padding-left: .2rem;
}

.render-reason {
  margin: 0 0 0 .75rem;
}

.render-reason-name {
  display: inline-block;
}

.render-reason-value {
  margin-left: .75rem;
  display: inline-block;
}

.render-reason-message {
  margin-top: 1rem;
}

.component-name-title {
  text-overflow: ellipsis;
  white-space: nowrap;
  color: var(--color-element-text);
  font-family: var(--font-monospace);
  font-size: var(--font-xnormal);
  overflow: hidden;
}

.component-name-ch {
  color: var(--color-text);
  font-size: var(--font-small);
}

.commit-info-list {
  margin: 0 0 0 .75rem;
}

.commit-info-title {
  margin-bottom: .15rem;
  font-size: .8rem;
  display: inline-block;
}

.commit-info-value {
  color: var(--color-text);
  margin: 0 0 0 .5rem;
  display: inline-block;
}

.sidebar-panel {
  padding: .6rem .6rem .6rem 0;
}

.sidebar-panel + .sidebar-panel {
  border-top: .0625rem solid var(--color-border);
}

.sidebar-panel-placeholder {
  color: var(--color-text-empty);
  padding-left: 1.2rem;
  font-size: .65rem;
  font-style: italic;
}

.sidebar-panel-header {
  justify-content: space-between;
  display: flex;
}

.sidebar-panel-title {
  color: var(--color-sidebar-title);
  text-transform: lowercase;
  margin: 0 0 .1rem;
  padding-left: .6rem;
  font-size: .8rem;
  font-weight: normal;
  line-height: 1.4;
}

.sidebar-panel-content {
  padding: .25rem 0 0 .25rem;
}

.sidebar-nav-panel-content {
  padding-left: .4rem;
}

.commit-timeline {
  flex-grow: 1;
  flex-shrink: 0;
  justify-content: flex-end;
  height: 100%;
  display: flex;
  position: relative;
}

.commit-timeline-inner {
  align-items: center;
  height: 100%;
  display: flex;
}

.commit-timeline-legend {
  flex-direction: row;
  margin-left: .25rem;
  font-size: .8rem;
  display: flex;
}

.commit-timeline-item-container {
  height: 100%;
  position: relative;
  overflow: hidden;
}

.commit-timeline-items {
  height: 100%;
  min-height: 1rem;
  margin: 0 0;
  padding-top: .25rem;
  padding-bottom: .25rem;
  transition: all .15s;
  display: flex;
  position: absolute;
  top: 0;
  bottom: 0;
}

.commit-timeline-item {
  cursor: pointer;
  width: 100%;
  min-width: .75rem;
  max-width: 1.75rem;
  position: relative;
}

.commit-timeline-item::-moz-focus-inner {
  border: 0;
}

.commit-timeline-item + .commit-timeline-item {
  margin-left: .1rem;
}

.commit-timeline-item[data-selected="true"]:after {
  content: "";
  background: var(--color-selected-bg);
  width: 100%;
  height: .1875rem;
  position: absolute;
  top: calc(100% + .0625rem);
  left: 0;
}

.commit-timeline-item-inner {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
}

.commit-time-line-nav-btn {
  cursor: pointer;
  color: var(--color-text);
  background: none;
  border: none;
  padding: 0 .5rem;
  transition: color .3s;
  display: flex;
}

.commit-time-line-nav-btn[disabled] {
  color: var(--color-disabled);
  cursor: inherit;
}

.commit-timeline-item[data-weight="0"] .commit-timeline-item-inner {
  background: var(--color-profiler-gradient-0);
}

.commit-timeline-item[data-weight="1"] .commit-timeline-item-inner {
  background: var(--color-profiler-gradient-1);
}

.commit-timeline-item[data-weight="2"] .commit-timeline-item-inner {
  background: var(--color-profiler-gradient-2);
}

.commit-timeline-item[data-weight="3"] .commit-timeline-item-inner {
  background: var(--color-profiler-gradient-3);
}

.commit-timeline-item[data-weight="4"] .commit-timeline-item-inner {
  background: var(--color-profiler-gradient-4);
}

.commit-timeline-item[data-weight="5"] .commit-timeline-item-inner {
  background: var(--color-profiler-gradient-5);
}

.commit-timeline-item[data-weight="6"] .commit-timeline-item-inner {
  background: var(--color-profiler-gradient-6);
}

.commit-timeline-item[data-weight="7"] .commit-timeline-item-inner {
  background: var(--color-profiler-gradient-7);
}

.commit-timeline-item[data-weight="8"] .commit-timeline-item-inner {
  background: var(--color-profiler-gradient-8);
}

.commit-timeline-item[data-weight="9"] .commit-timeline-item-inner {
  background: var(--color-profiler-gradient-9);
}

.commit-timeline-hidden {
  visibility: hidden;
}

.message {
  background: var(--bg);
  border-style: solid;
  border-width: .0625rem;
  border-color: var(--border);
  border-radius: 3px;
  align-items: center;
  padding: .2rem .4rem;
  font-size: .8rem;
  display: inline-flex;
}

.message[data-type="info"] {
  --bg: var(--message-info-bg);
  --border: var(--message-info-border);
  --btn: var(--message-info-link);
  --icon: var(--message-info-strong);
}

.message[data-type="warning"] {
  --bg: var(--message-warning-bg);
  --border: var(--message-warning-border);
  --btn: var(--message-warning-link);
  --icon: var(--message-warning-strong);
}

.message-icon {
  color: var(--icon);
  margin-right: .4rem;
  display: inline-flex;
}

.message-btn {
  color: var(--btn);
  cursor: pointer;
  background: none;
  border: none;
  margin-left: .25rem;
  padding: 0;
  text-decoration: underline;
  display: inline-block;
}

.message svg {
  width: 1rem;
  height: 1rem;
}

.radio-bar label:first-of-type .radio-bar-text {
  border-top-left-radius: .3rem;
  border-bottom-left-radius: .3rem;
}

.radio-bar label:last-of-type .radio-bar-text {
  border-top-right-radius: .3rem;
  border-bottom-right-radius: .3rem;
}

.radio-bar-input {
  opacity: 0;
  position: absolute;
}

.radio-bar-input:focus + .radio-bar-text, .radio-bar-input:checked + .radio-bar-text {
  background: var(--color-radio);
  color: var(--color-bg);
}

.radio-bar-text {
  color: var(--color-radio);
  border: .0625rem solid var(--color-radio);
  padding: .2rem .6rem;
}

.radio-bar-text:hover {
  cursor: pointer;
}

.radio-bar label + label .radio-bar-text {
  border-left: none;
}

.tab-group {
  align-items: center;
  display: flex;
}

.tab {
  cursor: pointer;
  height: 100%;
  display: flex;
}

.tab-title {
  font-size: var(--font-small);
  align-items: center;
  height: 100%;
  padding: 0 .5rem;
  display: flex;
  position: relative;
}

.tab-input {
  visibility: hidden;
  position: absolute;
}

.tab-input[disabled] + * {
  opacity: .5;
}

.tab-input:checked + .tab-title:after {
  content: "";
  background: var(--color-selected-bg);
  height: .125rem;
  position: absolute;
  bottom: -.0625rem;
  left: 0;
  right: 0;
}

.tab-icon-wrapper {
  cursor: pointer;
  height: 100%;
  display: flex;
}

.tab-input:checked:not([disabled]) + .tab-icon-inner:after {
  content: "";
  background: var(--color-selected-bg);
  height: .1875rem;
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
}

.tab-icon-inner {
  align-items: center;
  padding: 0 .5rem;
  display: flex;
  position: relative;
}

.tab-icon-label {
  font-size: var(--font-small);
  margin-left: .25rem;
  display: none;
}

@media (min-width: 46rem) {
  .tab-icon-label {
    display: inline-block;
  }
}

.flamegraph-wrapper {
  padding: .4rem;
}

.profiler-sidebar-panel {
  padding: .6rem;
}

.profiler-info {
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100%;
  padding: 1rem;
  display: flex;
}

.profiler-info-title {
  color: var(--color-text);
  margin: 0 0 .5rem;
}

.profiler-info-descr {
  align-items: center;
  margin: 0;
  font-size: .9rem;
  display: inline-flex;
}

.profiler-info-btn {
  align-items: center;
  margin: 0 .25rem;
  display: inline-flex;
}

.flamegraph {
  scrollbar-gutter: stable;
  width: 100%;
  max-width: 100%;
  height: 100%;
  position: relative;
  overflow-x: hidden;
}

.flamegraph-pane {
  position: relative;
}

.flamegraph-node {
  cursor: pointer;
  color: #000;
  font-size: var(--font-small);
  align-items: center;
  height: 100%;
  padding: 0 0 1px;
  transition-property: all;
  transition-duration: .3s;
  display: flex;
  position: absolute;
}

.flamegraph-node:after {
  content: "";
  z-index: -1;
  background: var(--color-profiler-old);
  position: absolute;
  top: 0;
  bottom: 1px;
  left: 0;
  right: 1px;
}

.flamegraph-node[data-overflow="true"] .flamegraph-text {
  display: none;
}

.flamegraph-node[data-visible="true"] {
  transition-property: all;
}

.flamegraph-node:not([data-visible="true"]) {
  opacity: 0;
  pointer-events: none;
  transition-property: opacity;
  transition-duration: .2s;
}

.flamegraph-node[data-visible="true"]:not([data-maximized="true"]) {
  opacity: 1;
}

.flamegraph-node[data-weight="-1"]:not([data-commit-parent="true"]) {
  color: var(--color-bystander-text);
}

.flamegraph-node[data-weight="-1"]:not([data-commit-parent="true"]):after {
  background-color: #0000;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0IDQiPgo8ZGVmcz4KICA8cGF0dGVybgogICAgaWQ9ImRpYWdvbmFsLWhhdGNoIgogICAgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSIKICAgIHdpZHRoPSI0IgogICAgaGVpZ2h0PSI0IgogID4KICAgIDxwYXRoCiAgICAgIGQ9Ik0tMSwxIGwyLC0yCk0wLDQgbDQsLTQKTTMsNSBsMiwtMiIKc3Ryb2tlPSIjZGVkZWRlIgpzdHJva2Utd2lkdGg9IjEiCiAgICAvPgogIDwvcGF0dGVybj4KICA8L2RlZnM+CiAgPHJlY3QKICAgIHg9IjAiCiAgICB5PSIwIgogICAgd2lkdGg9IjQiCiAgICBoZWlnaHQ9IjQiCiAgICBmaWxsPSJ1cmwoI2RpYWdvbmFsLWhhdGNoKSIKICA+PC9yZWN0Pgo8L3N2Zz4=);
  background-repeat: repeat;
  background-size: .25rem .25rem;
}

.flamegraph-node[data-weight="-1"]:not([data-commit-parent="true"]) [data-testid="hoc-labels"] > * {
  background: var(--color-hoc-not-rendered);
}

:global(.dark) .flamegraph-node[data-weight="-1"]:not([data-commit-parent="true"]):after {
  opacity: .5;
}

.flamegraph-node[data-maximized="true"][data-visible="true"]:not([data-selected="true"]) {
  opacity: .5;
}

.flamegraph-node[data-weight="0"]:after {
  background: var(--color-profiler-gradient-0);
}

.flamegraph-node[data-weight="1"]:after {
  background: var(--color-profiler-gradient-1);
}

.flamegraph-node[data-weight="2"]:after {
  background: var(--color-profiler-gradient-2);
}

.flamegraph-node[data-weight="3"]:after {
  background: var(--color-profiler-gradient-3);
}

.flamegraph-node[data-weight="4"]:after {
  background: var(--color-profiler-gradient-4);
}

.flamegraph-node[data-weight="5"]:after {
  background: var(--color-profiler-gradient-5);
}

.flamegraph-node[data-weight="6"]:after {
  background: var(--color-profiler-gradient-6);
}

.flamegraph-node[data-weight="7"]:after {
  background: var(--color-profiler-gradient-7);
}

.flamegraph-node[data-weight="8"]:after {
  background: var(--color-profiler-gradient-8);
}

.flamegraph-node[data-weight="9"]:after {
  background: var(--color-profiler-gradient-9);
}

.flamegraph-text {
  white-space: nowrap;
  text-overflow: ellipsis;
  padding: 0 .2rem;
  overflow: hidden;
}

.settings-tab {
  padding: 1rem .8rem;
}

.settings-tab h2 {
  margin-top: 1.4rem;
  margin-bottom: 1rem;
  font-size: 1rem;
  font-weight: lighter;
}

.settings-tab p {
  margin-top: 0;
}

.settings-tab-message {
  margin-top: .25rem;
  margin-bottom: 2rem;
  margin-left: 1.25rem;
}

.settings-tab-checkbox {
  margin-bottom: .5rem;
}

.settings-tab-description {
  font-size: var(--font-xnormal);
  margin-top: .25rem;
  margin-left: 1.25rem;
}

.settings-checkbox-setting {
  margin-bottom: 1rem;
}

.settings-tab-label {
  font-size: var(--font-xnormal);
  margin-bottom: .75rem;
  margin-right: .6rem;
  display: inline-block;
}

.actions-zg8Qah {
  grid-area: actions;
}

.content-VRQXI7 {
  grid-area: content;
  padding: 1rem;
  overflow: auto;
}

.label-c4bRqn {
  margin-bottom: .75rem;
  font-size: .9rem;
  display: block;
}

.btnWrapper-SKxKrJ {
  justify-content: center;
  align-items: center;
  height: 100%;
  padding-left: .25rem;
  padding-right: .25rem;
  display: flex;
}

.intro-W4a32J a {
  color: var(--name-dynamic);
}

.heading-B25Jit {
  margin-top: .5rem;
  font-size: 1rem;
  font-weight: lighter;
}

.message-dTtb3X {
  margin-top: .5rem;
  margin-left: 1.25rem;
}

.description-uMtDDf {
  margin-bottom: 2rem;
  margin-left: 1.25rem;
  font-size: .9rem;
  margin-top: .25rem !important;
}

.cards-b8Ie3O {
  flex-flow: column wrap;
  display: flex;
}

.card-Q__tOz {
  margin-bottom: 1rem;
}

@media (min-width: 31.5rem) {
  .cards-b8Ie3O {
    flex-direction: row;
  }

  .card-Q__tOz {
    margin-right: 4rem;
  }

  .cards-b8Ie3O .card-Q__tOz:last-of-type {
    margin-right: 0;
  }
}

.table-j_Xa3f {
  color: var(--color-text);
  margin-bottom: .5rem;
}

.table-j_Xa3f, .table-j_Xa3f td, .table-j_Xa3f th {
  border-collapse: collapse;
  border-spacing: 0;
  border: .0625rem inset #000;
}

.table-j_Xa3f tr:hover td {
  background: var(--table-hover);
}

.table-j_Xa3f td, .table-j_Xa3f th {
  border: .0625rem solid var(--color-bg);
  padding: .25rem .5rem;
}

.table-j_Xa3f th {
  text-align: left;
  background: var(--color-selected-bg);
  color: var(--color-selected-text);
  font-weight: normal;
}

.table-j_Xa3f tbody tr:nth-child(odd) {
  background: var(--color-hover);
}

.alignRight-qhjTba {
  text-align: right;
}

`;
document.body.appendChild(document.createElement('svg')).outerHTML = `<svg style="display:none">
	<symbol id="preact-devtools-undo" viewBox="0 0 24 24">
		<path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-add-circle" viewBox="0 0 24 24">
		<path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="currentColor" />
		<path d="M0 0h24v24H0z" fill="none" />
	</symbol>

	<symbol id="preact-devtools-bug" viewBox="0 0 24 24">
		<path d="M20 8h-2.81a5.985 5.985 0 0 0-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-inspect" viewBox="0 0 24 24">
		<path d="M0 0h24v24H0z" fill="none" />
		<path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-remove" viewBox="0 0 24 24">
		<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="currentColor" />
		<path d="M0 0h24v24H0z" fill="none" />
	</symbol>

	<symbol id="preact-devtools-refresh" viewBox="0 0 24 24">
		<path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-keyboard-down" viewBox="0 0 24 24">
		<path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-keyboard-up" viewBox="0 0 24 24">
		<path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-close" viewBox="0 0 24 24">
		<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-search" viewBox="0 0 24 24">
		<path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-filter-list" viewBox="0 0 24 24">
		<path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-checkbox-checked" viewBox="0 0 24 24">
		<path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-checkbox-unchecked" viewBox="0 0 24 24">
		<path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="currentColor" />
		<path d="M0 0h24v24H0z" fill="none" />
	</symbol>

	<symbol id="preact-devtools-file-copy" viewBox="0 0 24 24">
		<path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-arrow-back" viewBox="0 0 24 24">
		<path d="M0 0h24v24H0z" fill="none" />
		<path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-arrow-forward" viewBox="0 0 24 24">
		<path d="M0 0h24v24H0z" fill="none" />
		<path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-record-icon" viewBox="0 0 24 24">
		<circle fill="currentColor" cx="12" cy="12" r="8" />
	</symbol>

	<symbol id="preact-devtools-not-interested" viewBox="0 0 24 24">
		<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-sort-icon" viewBox="0 0 24 24">
		<path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z" fill="currentColor" />
		<path d="M0 0h24v24H0z" fill="none" />
	</symbol>

	<symbol id="preact-devtools-fire-icon" viewBox="0 0 24 24">
		<path d="M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z" fill="currentColor" />
		<path d="M0 0h24v24H0z" fill="none" />
	</symbol>

	<symbol id="preact-devtools-code-icon" viewBox="0 0 24 24">
		<path d="M0 0h24v24H0V0z" fill="none" />
		<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z" fill="currentColor" />
	</symbol>

	<symbol id="preact-devtools-suspend-icon" viewBox="0 0 24 24">
		<path d="M0 0h24v24H0z" fill="none" />
		<path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" fill="currentColor" />
	</symbol>
</svg>`;
"use strict";
// The require scope
var __webpack_require__ = {};

/************************************************************************/
// webpack/runtime/define_property_getters
(() => {
__webpack_require__.d = (exports, definition) => {
	for(var key in definition) {
        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
            Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
        }
    }
};
})();
// webpack/runtime/has_own_property
(() => {
__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
})();
/************************************************************************/
var __webpack_exports__ = {};

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: () => (/* binding */ plugin_entry)
});

;// CONCATENATED MODULE: ./node_modules/preact/dist/preact.module.js
var preact_module_n,preact_module_l,preact_module_t,preact_module_u,preact_module_i,preact_module_r,preact_module_o,preact_module_e,preact_module_f,preact_module_c,preact_module_s,preact_module_a,preact_module_h,preact_module_p={},preact_module_v=[],preact_module_y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,preact_module_d=Array.isArray;function preact_module_w(n,l){for(var t in l)n[t]=l[t];return n}function preact_module_g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function preact_module_(l,t,u){var i,r,o,e={};for(o in t)"key"==o?i=t[o]:"ref"==o?r=t[o]:e[o]=t[o];if(arguments.length>2&&(e.children=arguments.length>3?preact_module_n.call(arguments,2):u),"function"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===e[o]&&(e[o]=l.defaultProps[o]);return preact_module_m(l,e,i,r,null)}function preact_module_m(n,u,i,r,o){var e={type:n,props:u,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++preact_module_t:o,__i:-1,__u:0};return null==o&&null!=preact_module_l.vnode&&preact_module_l.vnode(e),e}function preact_module_b(){return{current:null}}function preact_module_k(n){return n.children}function preact_module_x(n,l){this.props=n,this.context=l}function preact_module_S(n,l){if(null==l)return n.__?preact_module_S(n.__,n.__i+1):null;for(var t;l<n.__k.length;l++)if(null!=(t=n.__k[l])&&null!=t.__e)return t.__e;return"function"==typeof n.type?preact_module_S(n):null}function preact_module_C(n){var l,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(t=n.__k[l])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return preact_module_C(n)}}function preact_module_M(n){(!n.__d&&(n.__d=!0)&&preact_module_i.push(n)&&!preact_module_$.__r++||preact_module_r!==preact_module_l.debounceRendering)&&((preact_module_r=preact_module_l.debounceRendering)||preact_module_o)(preact_module_$)}function preact_module_$(){for(var n,t,u,r,o,f,c,s=1;preact_module_i.length;)preact_module_i.length>s&&preact_module_i.sort(preact_module_e),n=preact_module_i.shift(),s=preact_module_i.length,n.__d&&(u=void 0,o=(r=(t=n).__v).__e,f=[],c=[],t.__P&&((u=preact_module_w({},r)).__v=r.__v+1,preact_module_l.vnode&&preact_module_l.vnode(u),O(t.__P,u,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?preact_module_S(r):o,!!(32&r.__u),c),u.__v=r.__v,u.__.__k[u.__i]=u,z(f,u,c),u.__e!=o&&preact_module_C(u)));preact_module_$.__r=0}function I(n,l,t,u,i,r,o,e,f,c,s){var a,h,y,d,w,g,_=u&&u.__k||preact_module_v,m=l.length;for(f=preact_module_P(t,l,_,f,m),a=0;a<m;a++)null!=(y=t.__k[a])&&(h=-1===y.__i?preact_module_p:_[y.__i]||preact_module_p,y.__i=a,g=O(n,y,h,i,r,o,e,f,c,s),d=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&q(h.ref,null,y),s.push(y.ref,y.__c||d,y)),null==w&&null!=d&&(w=d),4&y.__u||h.__k===y.__k?f=preact_module_A(y,f,n):"function"==typeof y.type&&void 0!==g?f=g:d&&(f=d.nextSibling),y.__u&=-7);return t.__e=w,f}function preact_module_P(n,l,t,u,i){var r,o,e,f,c,s=t.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&"boolean"!=typeof o&&"function"!=typeof o?(f=r+h,(o=n.__k[r]="string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?preact_module_m(null,o,null,null,null):preact_module_d(o)?preact_module_m(preact_module_k,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?preact_module_m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!==(c=o.__i=preact_module_L(o,t,f,a))&&(a--,(e=t[c])&&(e.__u|=2)),null==e||null===e.__v?(-1==c&&(i>s?h--:i<s&&h++),"function"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=t[r])&&0==(2&e.__u)&&(e.__e==u&&(u=preact_module_S(e)),B(e,e));return u}function preact_module_A(n,l,t){var u,i;if("function"==typeof n.type){for(u=n.__k,i=0;u&&i<u.length;i++)u[i]&&(u[i].__=n,l=preact_module_A(u[i],l,t));return l}n.__e!=l&&(l&&n.type&&!t.contains(l)&&(l=preact_module_S(n)),t.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function preact_module_H(n,l){return l=l||[],null==n||"boolean"==typeof n||(preact_module_d(n)?n.some(function(n){preact_module_H(n,l)}):l.push(n)),l}function preact_module_L(n,l,t,u){var i,r,o=n.key,e=n.type,f=l[t];if(null===f&&null==n.key||f&&o==f.key&&e===f.type&&0==(2&f.__u))return t;if(u>(null!=f&&0==(2&f.__u)?1:0))for(i=t-1,r=t+1;i>=0||r<l.length;){if(i>=0){if((f=l[i])&&0==(2&f.__u)&&o==f.key&&e===f.type)return i;i--}if(r<l.length){if((f=l[r])&&0==(2&f.__u)&&o==f.key&&e===f.type)return r;r++}}return-1}function preact_module_T(n,l,t){"-"==l[0]?n.setProperty(l,null==t?"":t):n[l]=null==t?"":"number"!=typeof t||preact_module_y.test(l)?t:t+"px"}function preact_module_j(n,l,t,u,i){var r;n:if("style"==l)if("string"==typeof t)n.style.cssText=t;else{if("string"==typeof u&&(n.style.cssText=u=""),u)for(l in u)t&&l in t||preact_module_T(n.style,l,"");if(t)for(l in t)u&&t[l]===u[l]||preact_module_T(n.style,l,t[l])}else if("o"==l[0]&&"n"==l[1])r=l!=(l=l.replace(preact_module_f,"$1")),l=l.toLowerCase()in n||"onFocusOut"==l||"onFocusIn"==l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=t,t?u?t.t=u.t:(t.t=preact_module_c,n.addEventListener(l,r?preact_module_a:preact_module_s,r)):n.removeEventListener(l,r?preact_module_a:preact_module_s,r);else{if("http://www.w3.org/2000/svg"==i)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=l&&"height"!=l&&"href"!=l&&"list"!=l&&"form"!=l&&"tabIndex"!=l&&"download"!=l&&"rowSpan"!=l&&"colSpan"!=l&&"role"!=l&&"popover"!=l&&l in n)try{n[l]=null==t?"":t;break n}catch(n){}"function"==typeof t||(null==t||!1===t&&"-"!=l[4]?n.removeAttribute(l):n.setAttribute(l,"popover"==l&&1==t?"":t))}}function F(n){return function(t){if(this.l){var u=this.l[t.type+n];if(null==t.u)t.u=preact_module_c++;else if(t.u<u.t)return;return u(preact_module_l.event?preact_module_l.event(t):t)}}}function O(n,t,u,i,r,o,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=t.type;if(void 0!==t.constructor)return null;128&u.__u&&(c=!!(32&u.__u),o=[f=t.__e=u.__e]),(a=preact_module_l.__b)&&a(t);n:if("function"==typeof j)try{if(b=t.props,S="prototype"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,u.__c?m=(h=t.__c=u.__c).__=h.__E:(S?t.__c=h=new j(b,M):(t.__c=h=new preact_module_x(b,M),h.constructor=j,h.render=D),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=preact_module_w({},h.__s)),preact_module_w(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=t,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||t.__v==u.__v)){for(t.__v!=u.__v&&(h.props=b,h.state=h.__s,h.__d=!1),t.__e=u.__e,t.__k=u.__k,t.__k.some(function(n){n&&(n.__=t)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=preact_module_l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(t),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(t),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=preact_module_w(preact_module_w({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===preact_module_k&&null==a.key&&(L=N(a.props.children)),f=I(n,preact_module_d(L)?L:[L],t,u,i,r,o,e,f,c,s),h.base=t.__e,t.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(t.__v=null,c||null!=o)if(n.then){for(t.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,t.__e=f}else for(T=o.length;T--;)preact_module_g(o[T]);else t.__e=u.__e,t.__k=u.__k;preact_module_l.__e(n,t,u)}else null==o&&t.__v==u.__v?(t.__k=u.__k,t.__e=u.__e):f=t.__e=V(u.__e,t,u,i,r,o,e,c,s);return(a=preact_module_l.diffed)&&a(t),128&t.__u?void 0:f}function z(n,t,u){for(var i=0;i<u.length;i++)q(u[i],u[++i],u[++i]);preact_module_l.__c&&preact_module_l.__c(t,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(n){n.call(t)})}catch(n){preact_module_l.__e(n,t.__v)}})}function N(n){return"object"!=typeof n||null==n?n:preact_module_d(n)?n.map(N):preact_module_w({},n)}function V(t,u,i,r,o,e,f,c,s){var a,h,v,y,w,_,m,b=i.props,k=u.props,x=u.type;if("svg"==x?o="http://www.w3.org/2000/svg":"math"==x?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=e)for(a=0;a<e.length;a++)if((w=e[a])&&"setAttribute"in w==!!x&&(x?w.localName==x:3==w.nodeType)){t=w,e[a]=null;break}if(null==t){if(null==x)return document.createTextNode(k);t=document.createElementNS(o,x,k.is&&k),c&&(preact_module_l.__m&&preact_module_l.__m(u,e),c=!1),e=null}if(null===x)b===k||c&&t.data===k||(t.data=k);else{if(e=e&&preact_module_n.call(t.childNodes),b=i.props||preact_module_p,!c&&null!=e)for(b={},a=0;a<t.attributes.length;a++)b[(w=t.attributes[a]).name]=w.value;for(a in b)if(w=b[a],"children"==a);else if("dangerouslySetInnerHTML"==a)v=w;else if(!(a in k)){if("value"==a&&"defaultValue"in k||"checked"==a&&"defaultChecked"in k)continue;preact_module_j(t,a,null,w,o)}for(a in k)w=k[a],"children"==a?y=w:"dangerouslySetInnerHTML"==a?h=w:"value"==a?_=w:"checked"==a?m=w:c&&"function"!=typeof w||b[a]===w||preact_module_j(t,a,w,b[a],o);if(h)c||v&&(h.__html===v.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),u.__k=[];else if(v&&(t.innerHTML=""),I("template"===u.type?t.content:t,preact_module_d(y)?y:[y],u,i,r,"foreignObject"==x?"http://www.w3.org/1999/xhtml":o,e,f,e?e[0]:i.__k&&preact_module_S(i,0),c,s),null!=e)for(a=e.length;a--;)preact_module_g(e[a]);c||(a="value","progress"==x&&null==_?t.removeAttribute("value"):void 0!==_&&(_!==t[a]||"progress"==x&&!_||"option"==x&&_!==b[a])&&preact_module_j(t,a,_,b[a],o),a="checked",void 0!==m&&m!==t[a]&&preact_module_j(t,a,m,b[a],o))}return t}function q(n,t,u){try{if("function"==typeof n){var i="function"==typeof n.__u;i&&n.__u(),i&&null==t||(n.__u=n(t))}else n.current=t}catch(n){preact_module_l.__e(n,u)}}function B(n,t,u){var i,r;if(preact_module_l.unmount&&preact_module_l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||q(i,null,t)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){preact_module_l.__e(n,t)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],t,u||"function"!=typeof n.type);u||preact_module_g(n.__e),n.__c=n.__=n.__e=void 0}function D(n,l,t){return this.constructor(n,t)}function E(t,u,i){var r,o,e,f;u==document&&(u=document.documentElement),preact_module_l.__&&preact_module_l.__(t,u),o=(r="function"==typeof i)?null:i&&i.__k||u.__k,e=[],f=[],O(u,t=(!r&&i||u).__k=preact_module_(preact_module_k,null,[t]),o||preact_module_p,preact_module_p,u.namespaceURI,!r&&i?[i]:o?null:u.firstChild?preact_module_n.call(u.childNodes):null,e,!r&&i?i:o?o.__e:u.firstChild,r,f),z(e,t,f)}function G(n,l){E(n,l,G)}function J(l,t,u){var i,r,o,e,f=preact_module_w({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),t)"key"==o?i=t[o]:"ref"==o?r=t[o]:f[o]=void 0===t[o]&&void 0!==e?e[o]:t[o];return arguments.length>2&&(f.children=arguments.length>3?preact_module_n.call(arguments,2):u),preact_module_m(l.type,f,i||l.key,r||l.ref,null)}function K(n){function l(n){var t,u;return this.getChildContext||(t=new Set,(u={})[l.__c]=this,this.getChildContext=function(){return u},this.componentWillUnmount=function(){t=null},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&t.forEach(function(n){n.__e=!0,preact_module_M(n)})},this.sub=function(n){t.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){t&&t.delete(n),l&&l.call(n)}}),n.children}return l.__c="__cC"+preact_module_h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}preact_module_n=preact_module_v.slice,preact_module_l={__e:function(n,l,t,u){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,u||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},preact_module_t=0,preact_module_u=function(n){return null!=n&&null==n.constructor},preact_module_x.prototype.setState=function(n,l){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=preact_module_w({},this.state),"function"==typeof n&&(n=n(preact_module_w({},t),this.props)),n&&preact_module_w(t,n),null!=n&&this.__v&&(l&&this._sb.push(l),preact_module_M(this))},preact_module_x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),preact_module_M(this))},preact_module_x.prototype.render=preact_module_k,preact_module_i=[],preact_module_o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,preact_module_e=function(n,l){return n.__v.__b-l.__v.__b},preact_module_$.__r=0,preact_module_f=/(PointerCapture)$|Capture$/i,preact_module_c=0,preact_module_s=F(!1),preact_module_a=F(!0),preact_module_h=0;
//# sourceMappingURL=preact.module.js.map

;// CONCATENATED MODULE: ./node_modules/preact/hooks/dist/hooks.module.js
var hooks_module_t,hooks_module_r,hooks_module_u,hooks_module_i,hooks_module_o=0,hooks_module_f=[],hooks_module_c=preact_module_l,hooks_module_e=hooks_module_c.__b,hooks_module_a=hooks_module_c.__r,hooks_module_v=hooks_module_c.diffed,hooks_module_l=hooks_module_c.__c,hooks_module_m=hooks_module_c.unmount,hooks_module_s=hooks_module_c.__;function hooks_module_p(n,t){hooks_module_c.__h&&hooks_module_c.__h(hooks_module_r,n,hooks_module_o||t),hooks_module_o=0;var u=hooks_module_r.__H||(hooks_module_r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function hooks_module_d(n){return hooks_module_o=1,hooks_module_h(hooks_module_D,n)}function hooks_module_h(n,u,i){var o=hooks_module_p(hooks_module_t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):hooks_module_D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=hooks_module_r,!hooks_module_r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};hooks_module_r.__f=!0;var c=hooks_module_r.shouldComponentUpdate,e=hooks_module_r.componentWillUpdate;hooks_module_r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},hooks_module_r.shouldComponentUpdate=f}return o.__N||o.__}function hooks_module_y(n,u){var i=hooks_module_p(hooks_module_t++,3);!hooks_module_c.__s&&hooks_module_C(i.__H,u)&&(i.__=n,i.u=u,hooks_module_r.__H.__h.push(i))}function hooks_module_(n,u){var i=hooks_module_p(hooks_module_t++,4);!hooks_module_c.__s&&hooks_module_C(i.__H,u)&&(i.__=n,i.u=u,hooks_module_r.__h.push(i))}function hooks_module_A(n){return hooks_module_o=5,hooks_module_T(function(){return{current:n}},[])}function hooks_module_F(n,t,r){hooks_module_o=6,hooks_module_(function(){if("function"==typeof n){var r=n(t());return function(){n(null),r&&"function"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function hooks_module_T(n,r){var u=hooks_module_p(hooks_module_t++,7);return hooks_module_C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function hooks_module_q(n,t){return hooks_module_o=8,hooks_module_T(function(){return n},t)}function hooks_module_x(n){var u=hooks_module_r.context[n.__c],i=hooks_module_p(hooks_module_t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(hooks_module_r)),u.props.value):n.__}function hooks_module_P(n,t){hooks_module_c.useDebugValue&&hooks_module_c.useDebugValue(t?t(n):n)}function hooks_module_b(n){var u=hooks_module_p(hooks_module_t++,10),i=hooks_module_d();return u.__=n,hooks_module_r.componentDidCatch||(hooks_module_r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function hooks_module_g(){var n=hooks_module_p(hooks_module_t++,11);if(!n.__){for(var u=hooks_module_r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__="P"+i[0]+"-"+i[1]++}return n.__}function hooks_module_j(){for(var n;n=hooks_module_f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(hooks_module_z),n.__H.__h.forEach(hooks_module_B),n.__H.__h=[]}catch(t){n.__H.__h=[],hooks_module_c.__e(t,n.__v)}}hooks_module_c.__b=function(n){hooks_module_r=null,hooks_module_e&&hooks_module_e(n)},hooks_module_c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),hooks_module_s&&hooks_module_s(n,t)},hooks_module_c.__r=function(n){hooks_module_a&&hooks_module_a(n),hooks_module_t=0;var i=(hooks_module_r=n.__c).__H;i&&(hooks_module_u===hooks_module_r?(i.__h=[],hooks_module_r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(hooks_module_z),i.__h.forEach(hooks_module_B),i.__h=[],hooks_module_t=0)),hooks_module_u=hooks_module_r},hooks_module_c.diffed=function(n){hooks_module_v&&hooks_module_v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==hooks_module_f.push(t)&&hooks_module_i===hooks_module_c.requestAnimationFrame||((hooks_module_i=hooks_module_c.requestAnimationFrame)||hooks_module_w)(hooks_module_j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),hooks_module_u=hooks_module_r=null},hooks_module_c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(hooks_module_z),n.__h=n.__h.filter(function(n){return!n.__||hooks_module_B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],hooks_module_c.__e(r,n.__v)}}),hooks_module_l&&hooks_module_l(n,t)},hooks_module_c.unmount=function(n){hooks_module_m&&hooks_module_m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{hooks_module_z(n)}catch(n){t=n}}),r.__H=void 0,t&&hooks_module_c.__e(t,r.__v))};var hooks_module_k="function"==typeof requestAnimationFrame;function hooks_module_w(n){var t,r=function(){clearTimeout(u),hooks_module_k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);hooks_module_k&&(t=requestAnimationFrame(r))}function hooks_module_z(n){var t=hooks_module_r,u=n.__c;"function"==typeof u&&(n.__c=void 0,u()),hooks_module_r=t}function hooks_module_B(n){var t=hooks_module_r;n.__c=n.__(),hooks_module_r=t}function hooks_module_C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function hooks_module_D(n,t){return"function"==typeof t?t(n):t}
//# sourceMappingURL=hooks.module.js.map

;// CONCATENATED MODULE: ./node_modules/@preact/signals-core/dist/signals-core.module.js
var signals_core_module_i=Symbol.for("preact-signals");function signals_core_module_t(){if(!(signals_core_module_s>1)){var i,t=!1;while(void 0!==signals_core_module_h){var r=signals_core_module_h;signals_core_module_h=void 0;signals_core_module_f++;while(void 0!==r){var o=r.o;r.o=void 0;r.f&=-3;if(!(8&r.f)&&signals_core_module_c(r))try{r.c()}catch(r){if(!t){i=r;t=!0}}r=o}}signals_core_module_f=0;signals_core_module_s--;if(t)throw i}else signals_core_module_s--}function signals_core_module_r(i){if(signals_core_module_s>0)return i();signals_core_module_s++;try{return i()}finally{signals_core_module_t()}}var signals_core_module_o=void 0;function signals_core_module_n(i){var t=signals_core_module_o;signals_core_module_o=void 0;try{return i()}finally{signals_core_module_o=t}}var signals_core_module_h=void 0,signals_core_module_s=0,signals_core_module_f=0,signals_core_module_v=0;function signals_core_module_e(i){if(void 0!==signals_core_module_o){var t=i.n;if(void 0===t||t.t!==signals_core_module_o){t={i:0,S:i,p:signals_core_module_o.s,n:void 0,t:signals_core_module_o,e:void 0,x:void 0,r:t};if(void 0!==signals_core_module_o.s)signals_core_module_o.s.n=t;signals_core_module_o.s=t;i.n=t;if(32&signals_core_module_o.f)i.S(t);return t}else if(-1===t.i){t.i=0;if(void 0!==t.n){t.n.p=t.p;if(void 0!==t.p)t.p.n=t.n;t.p=signals_core_module_o.s;t.n=void 0;signals_core_module_o.s.n=t;signals_core_module_o.s=t}return t}}}function signals_core_module_u(i){this.v=i;this.i=0;this.n=void 0;this.t=void 0}signals_core_module_u.prototype.brand=signals_core_module_i;signals_core_module_u.prototype.h=function(){return!0};signals_core_module_u.prototype.S=function(i){if(this.t!==i&&void 0===i.e){i.x=this.t;if(void 0!==this.t)this.t.e=i;this.t=i}};signals_core_module_u.prototype.U=function(i){if(void 0!==this.t){var t=i.e,r=i.x;if(void 0!==t){t.x=r;i.e=void 0}if(void 0!==r){r.e=t;i.x=void 0}if(i===this.t)this.t=r}};signals_core_module_u.prototype.subscribe=function(i){var t=this;return signals_core_module_E(function(){var r=t.value,n=signals_core_module_o;signals_core_module_o=void 0;try{i(r)}finally{signals_core_module_o=n}})};signals_core_module_u.prototype.valueOf=function(){return this.value};signals_core_module_u.prototype.toString=function(){return this.value+""};signals_core_module_u.prototype.toJSON=function(){return this.value};signals_core_module_u.prototype.peek=function(){var i=signals_core_module_o;signals_core_module_o=void 0;try{return this.value}finally{signals_core_module_o=i}};Object.defineProperty(signals_core_module_u.prototype,"value",{get:function(){var i=signals_core_module_e(this);if(void 0!==i)i.i=this.i;return this.v},set:function(i){if(i!==this.v){if(signals_core_module_f>100)throw new Error("Cycle detected");this.v=i;this.i++;signals_core_module_v++;signals_core_module_s++;try{for(var r=this.t;void 0!==r;r=r.x)r.t.N()}finally{signals_core_module_t()}}}});function signals_core_module_d(i){return new signals_core_module_u(i)}function signals_core_module_c(i){for(var t=i.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function signals_core_module_a(i){for(var t=i.s;void 0!==t;t=t.n){var r=t.S.n;if(void 0!==r)t.r=r;t.S.n=t;t.i=-1;if(void 0===t.n){i.s=t;break}}}function signals_core_module_l(i){var t=i.s,r=void 0;while(void 0!==t){var o=t.p;if(-1===t.i){t.S.U(t);if(void 0!==o)o.n=t.n;if(void 0!==t.n)t.n.p=o}else r=t;t.S.n=t.r;if(void 0!==t.r)t.r=void 0;t=o}i.s=r}function signals_core_module_y(i){signals_core_module_u.call(this,void 0);this.x=i;this.s=void 0;this.g=signals_core_module_v-1;this.f=4}(signals_core_module_y.prototype=new signals_core_module_u).h=function(){this.f&=-3;if(1&this.f)return!1;if(32==(36&this.f))return!0;this.f&=-5;if(this.g===signals_core_module_v)return!0;this.g=signals_core_module_v;this.f|=1;if(this.i>0&&!signals_core_module_c(this)){this.f&=-2;return!0}var i=signals_core_module_o;try{signals_core_module_a(this);signals_core_module_o=this;var t=this.x();if(16&this.f||this.v!==t||0===this.i){this.v=t;this.f&=-17;this.i++}}catch(i){this.v=i;this.f|=16;this.i++}signals_core_module_o=i;signals_core_module_l(this);this.f&=-2;return!0};signals_core_module_y.prototype.S=function(i){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}signals_core_module_u.prototype.S.call(this,i)};signals_core_module_y.prototype.U=function(i){if(void 0!==this.t){signals_core_module_u.prototype.U.call(this,i);if(void 0===this.t){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}}};signals_core_module_y.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var i=this.t;void 0!==i;i=i.x)i.t.N()}};Object.defineProperty(signals_core_module_y.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var i=signals_core_module_e(this);this.h();if(void 0!==i)i.i=this.i;if(16&this.f)throw this.v;return this.v}});function signals_core_module_w(i){return new signals_core_module_y(i)}function signals_core_module_(i){var r=i.u;i.u=void 0;if("function"==typeof r){signals_core_module_s++;var n=signals_core_module_o;signals_core_module_o=void 0;try{r()}catch(t){i.f&=-2;i.f|=8;signals_core_module_g(i);throw t}finally{signals_core_module_o=n;signals_core_module_t()}}}function signals_core_module_g(i){for(var t=i.s;void 0!==t;t=t.n)t.S.U(t);i.x=void 0;i.s=void 0;signals_core_module_(i)}function signals_core_module_p(i){if(signals_core_module_o!==this)throw new Error("Out-of-order effect");signals_core_module_l(this);signals_core_module_o=i;this.f&=-2;if(8&this.f)signals_core_module_g(this);signals_core_module_t()}function signals_core_module_b(i){this.x=i;this.u=void 0;this.s=void 0;this.o=void 0;this.f=32}signals_core_module_b.prototype.c=function(){var i=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var t=this.x();if("function"==typeof t)this.u=t}finally{i()}};signals_core_module_b.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1;this.f&=-9;signals_core_module_(this);signals_core_module_a(this);signals_core_module_s++;var i=signals_core_module_o;signals_core_module_o=this;return signals_core_module_p.bind(this,i)};signals_core_module_b.prototype.N=function(){if(!(2&this.f)){this.f|=2;this.o=signals_core_module_h;signals_core_module_h=this}};signals_core_module_b.prototype.d=function(){this.f|=8;if(!(1&this.f))signals_core_module_g(this)};function signals_core_module_E(i){var t=new signals_core_module_b(i);try{t.c()}catch(i){t.d();throw i}return t.d.bind(t)}//# sourceMappingURL=signals-core.module.js.map

;// CONCATENATED MODULE: ./node_modules/@preact/signals/dist/signals.module.js
var signals_module_v,signals_module_s;function signals_module_l(i,n){preact_module_l[i]=n.bind(null,preact_module_l[i]||function(){})}function signals_module_d(i){if(signals_module_s)signals_module_s();signals_module_s=i&&i.S()}function signals_module_h(i){var r=this,f=i.data,o=useSignal(f);o.value=f;var e=hooks_module_T(function(){var i=r.__v;while(i=i.__)if(i.__c){i.__c.__$f|=4;break}r.__$u.c=function(){var i,t=r.__$u.S(),f=e.value;t();if(preact_module_u(f)||3!==(null==(i=r.base)?void 0:i.nodeType)){r.__$f|=1;r.setState({})}else r.base.data=f};return signals_core_module_w(function(){var i=o.value.value;return 0===i?0:!0===i?"":i||""})},[]);return e.value}signals_module_h.displayName="_st";Object.defineProperties(signals_core_module_u.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:signals_module_h},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});signals_module_l("__b",function(i,r){if("string"==typeof r.type){var n,t=r.props;for(var f in t)if("children"!==f){var o=t[f];if(o instanceof signals_core_module_u){if(!n)r.__np=n={};n[f]=o;t[f]=o.peek()}}}i(r)});signals_module_l("__r",function(i,r){signals_module_d();var n,t=r.__c;if(t){t.__$f&=-2;if(void 0===(n=t.__$u))t.__$u=n=function(i){var r;signals_core_module_E(function(){r=this});r.c=function(){t.__$f|=1;t.setState({})};return r}()}signals_module_v=t;signals_module_d(n);i(r)});signals_module_l("__e",function(i,r,n,t){signals_module_d();signals_module_v=void 0;i(r,n,t)});signals_module_l("diffed",function(i,r){signals_module_d();signals_module_v=void 0;var n;if("string"==typeof r.type&&(n=r.__e)){var t=r.__np,f=r.props;if(t){var o=n.U;if(o)for(var e in o){var u=o[e];if(void 0!==u&&!(e in t)){u.d();o[e]=void 0}}else n.U=o={};for(var a in t){var c=o[a],s=t[a];if(void 0===c){c=signals_module_p(n,a,s,f);o[a]=c}else c.o(s,f)}}}i(r)});function signals_module_p(i,r,n,t){var f=r in i&&void 0===i.ownerSVGElement,o=signals_core_module_d(n);return{o:function(i,r){o.value=i;t=r},d:signals_core_module_E(function(){var n=o.value.value;if(t[r]!==n){t[r]=n;if(f)i[r]=n;else if(n)i.setAttribute(r,n);else i.removeAttribute(r)}})}}signals_module_l("unmount",function(i,r){if("string"==typeof r.type){var n=r.__e;if(n){var t=n.U;if(t){n.U=void 0;for(var f in t){var o=t[f];if(o)o.d()}}}}else{var e=r.__c;if(e){var u=e.__$u;if(u){e.__$u=void 0;u.d()}}}i(r)});signals_module_l("__h",function(i,r,n,t){if(t<3||9===t)r.__$f|=2;i(r,n,t)});preact_module_x.prototype.shouldComponentUpdate=function(i,r){var n=this.__$u,t=n&&void 0!==n.s;for(var f in r)return!0;if(this.__f||"boolean"==typeof this.u&&!0===this.u){if(!(t||2&this.__$f||4&this.__$f))return!0;if(1&this.__$f)return!0}else{if(!(t||4&this.__$f))return!0;if(3&this.__$f)return!0}for(var o in i)if("__source"!==o&&i[o]!==this.props[o])return!0;for(var e in this.props)if(!(e in i))return!0;return!1};function useSignal(i){return hooks_module_T(function(){return signals_core_module_d(i)},[])}function useComputed(i){var r=hooks_module_A(i);r.current=i;signals_module_v.__$f|=4;return hooks_module_T(function(){return signals_core_module_w(function(){return r.current()})},[])}function useSignalEffect(i){var r=f(i);r.current=i;o(function(){return c(function(){return r.current()})},[])}//# sourceMappingURL=signals.module.js.map

;// CONCATENATED MODULE: ./src/view/store/react-bindings.ts


// Make sure we're accessing the right window object. The global window
// reference is not the same and won't trigger any "resize" (and likely
// other) events at all.
const WindowCtx = K(null);
const AppCtx = K(null);
const EmitCtx = K(()=>null);
const useEmitter = ()=>hooks_module_x(EmitCtx);
const useStore = ()=>hooks_module_x(AppCtx);

;// CONCATENATED MODULE: ./src/view/store/utils.ts
// See: https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
function escapeStringRegexp(string) {
    return string.replace(/[-/\\^$*+?.()|[\]{}]/g, "\\$&");
}

;// CONCATENATED MODULE: ./src/view/store/search.ts



function createRegex(s) {
    if (s[0] === "/") {
        s = s.slice(1);
        if (s[s.length - 1] === "/") {
            s = s.slice(0, -1);
        }
        try {
            return new RegExp(s, "i");
        } catch (err) {
            return new RegExp("");
        }
    }
    return new RegExp(`(${escapeStringRegexp(s)})`, "i");
}
function createSearchStore(items, list) {
    const searchValue = signals_core_module_d("");
    const selected = signals_core_module_d(0);
    const selectedIdx = signals_core_module_d(-1);
    const regex = signals_core_module_d(null);
    const match = signals_core_module_d([]);
    const count = signals_core_module_d(0);
    const onChange = (s)=>{
        searchValue.value = s;
        match.value = [];
        if (s === "") {
            regex.value = null;
            count.value = 0;
            selected.value = 0;
            return;
        }
        const reg = createRegex(s);
        regex.value = reg;
        const ids = [];
        list.value.forEach((id)=>{
            const node = items.value.get(id);
            if (node && (reg.test(node.name) || node.hocs && node.hocs.some((h)=>reg.test(h)))) {
                ids.push(id);
            }
        });
        if (ids.length > 0) {
            selected.value = 0;
        }
        count.value = ids.length;
        match.value = ids;
    };
    const reset = ()=>{
        selectedIdx.value = -1;
        onChange("");
    };
    function go(n) {
        if (n < 0) n = match.value.length - 1;
        else if (n > match.value.length - 1) n = 0;
        selected.value = n;
        selectedIdx.value = list.value.findIndex((id)=>match.value[n] === id);
    }
    const selectNext = ()=>go(selected.value + 1);
    const selectPrev = ()=>go(selected.value - 1);
    return {
        selected,
        selectedIdx,
        regex,
        count,
        searchValue,
        match,
        reset,
        onChange,
        selectNext,
        selectPrev
    };
}
function useSearch() {
    const { search: s } = useStore();
    const match = s.match.value;
    const value = s.searchValue.value;
    const marked = s.selected.value;
    const regex = s.regex.value;
    const count = s.count.value;
    const selected = s.selected.value;
    const selectedId = s.match.value[s.selected.value];
    return {
        count,
        selected,
        selectedId,
        marked,
        regex,
        match,
        goNext: s.selectNext,
        goPrev: s.selectPrev,
        value
    };
}

;// CONCATENATED MODULE: ./src/view/store/filter.ts


function createFilterStore(onSubmit) {
    const defaults = {
        fragment: true,
        dom: true,
        hoc: true,
        root: true,
        textSignal: true,
        regex: []
    };
    const filters = signals_core_module_d(defaults.regex);
    const filterFragment = signals_core_module_d(defaults.fragment);
    const filterDom = signals_core_module_d(defaults.dom);
    const filterHoc = signals_core_module_d(defaults.hoc);
    const filterRoot = signals_core_module_d(defaults.root);
    const filterTextSignal = signals_core_module_d(defaults.textSignal);
    const submit = ()=>{
        const s = {
            regex: [],
            type: {
                fragment: filterFragment.value,
                dom: filterDom.value,
                hoc: filterHoc.value,
                root: filterRoot.value,
                textSignal: filterTextSignal.value
            }
        };
        filters.value.forEach((x)=>{
            s.regex.push({
                value: escapeStringRegexp(x.value),
                enabled: x.enabled
            });
        });
        onSubmit("update-filter", s);
    };
    const restore = (state)=>{
        try {
            filterFragment.value = !!state.type.fragment;
            filterDom.value = !!state.type.dom;
            filterHoc.value = !!state.type.hoc;
            filterRoot.value = !!state.type.root;
            filterTextSignal.value = "textSignal" in state.type ? !!state.type.textSignal : true;
            filters.value = state.regex;
            // Refetch component tree if filters are not the default ones
            if (defaults.fragment !== filterFragment.value || defaults.dom !== filterDom.value || defaults.hoc !== filterHoc.value || defaults.root !== filterRoot.value || defaults.textSignal !== filterTextSignal.value || filters.value.some((f)=>f.enabled)) {
                submit();
            }
        } catch (err) {
            // eslint-disable-next-line no-console
            console.log(err);
        }
    };
    return {
        filters,
        filterFragment,
        filterDom,
        filterHoc,
        filterRoot,
        filterTextSignal,
        submit,
        restore
    };
}

;// CONCATENATED MODULE: ./src/view/components/tree/windowing.ts
function windowing_flattenChildren(tree, id, isCollapsed) {
    const out = [];
    const visited = new Set();
    const stack = [
        id
    ];
    while(stack.length > 0){
        const item = stack.pop();
        if (item == null) continue;
        const node = tree.get(item);
        if (!node) continue;
        if (!visited.has(node.id)) {
            out.push(node.id);
            visited.add(node.id);
            if (!isCollapsed(node.id)) {
                for(let i = node.children.length; i--;){
                    stack.push(node.children[i]);
                }
            }
        }
    }
    return out;
}
function clamp(n, max) {
    return Math.max(0, Math.min(n, max));
}
function getLastChild(nodes, id) {
    const stack = [
        id
    ];
    let item;
    let last = id;
    while((item = stack.pop()) != null){
        last = item;
        const node = nodes.get(item);
        if (node && node.children.length > 0) {
            stack.push(node.children[node.children.length - 1]);
        }
    }
    return last;
}

;// CONCATENATED MODULE: ./src/view/store/selection.ts




/**
 * Manages selection state of the TreeView.
 */ function createSelectionStore(list) {
    const selected = signals_core_module_d(list.value.length > 0 ? list.value[0] : -1);
    const selectedIdx = signals_core_module_d(0);
    const selectByIndex = (idx)=>{
        const n = clamp(idx, list.value.length - 1);
        selected.value = list.value[n];
        selectedIdx.value = n;
    };
    const selectNext = ()=>selectByIndex(selectedIdx.value + 1);
    const selectPrev = ()=>selectByIndex(selectedIdx.value - 1);
    const selectById = (id)=>{
        const idx = list.value.findIndex((x)=>x === id);
        selectByIndex(idx);
    };
    return {
        selected,
        selectedIdx,
        selectByIndex,
        selectById,
        selectNext,
        selectPrev
    };
}
function useSelection() {
    const sel = hooks_module_x(AppCtx).selection;
    const selected = sel.selected.value;
    const selectedIdx = sel.selectedIdx.value;
    return {
        selected,
        selectedIdx,
        selectByIndex: sel.selectByIndex,
        selectById: sel.selectById,
        selectPrev: sel.selectPrev,
        selectNext: sel.selectNext
    };
}

;// CONCATENATED MODULE: ./src/view/store/collapser.ts


/**
 * The Collapser deals with hiding sections in a tree view
 */ function createCollapser(collapsed) {
    const collapseNode = (id, shouldCollapse)=>{
        const v = collapsed.value;
        shouldCollapse ? v.add(id) : v.delete(id);
        collapsed.value = new Set(v);
    };
    const toggle = (id)=>collapseNode(id, !collapsed.value.has(id));
    return {
        collapsed,
        collapseNode,
        toggle
    };
}
function useCollapser() {
    const c = hooks_module_x(AppCtx).collapser;
    const collapsed = c.collapsed.value;
    return {
        collapsed,
        collapseNode: c.collapseNode,
        toggle: c.toggle
    };
}

;// CONCATENATED MODULE: ./src/view/store/types.ts
var types_DevNodeType = /*#__PURE__*/ function(DevNodeType) {
    /**
	 * Groups are virtual nodes inserted by the devtools
	 * to make certain operations easier. They are not
	 * created by Preact.
	 */ DevNodeType[DevNodeType["Group"] = 0] = "Group";
    DevNodeType[DevNodeType["Element"] = 1] = "Element";
    DevNodeType[DevNodeType["ClassComponent"] = 2] = "ClassComponent";
    DevNodeType[DevNodeType["FunctionComponent"] = 3] = "FunctionComponent";
    DevNodeType[DevNodeType["ForwardRef"] = 4] = "ForwardRef";
    DevNodeType[DevNodeType["Memo"] = 5] = "Memo";
    DevNodeType[DevNodeType["Suspense"] = 6] = "Suspense";
    DevNodeType[DevNodeType["Context"] = 7] = "Context";
    DevNodeType[DevNodeType["Consumer"] = 8] = "Consumer";
    DevNodeType[DevNodeType["Portal"] = 9] = "Portal";
    return DevNodeType;
}({});
var types_Panel = /*#__PURE__*/ function(Panel) {
    Panel["ELEMENTS"] = "ELEMENTS";
    Panel["PROFILER"] = "PROFILER";
    Panel["SETTINGS"] = "SETTINGS";
    Panel["STATISTICS"] = "STATISTICS";
    return Panel;
}({});

;// CONCATENATED MODULE: ./src/view/components/profiler/flamegraph/FlamegraphStore.ts
function getRoot(tree, id) {
    let item = tree.get(id);
    let last = id;
    while(item !== undefined){
        last = item.id;
        item = tree.get(item.parent);
    }
    return last;
}
const normalize = (max, min, x)=>{
    return (x - min) / (max - min);
};

;// CONCATENATED MODULE: ./src/view/components/profiler/data/gradient.ts
function getGradient(max, n) {
    const maxColor = 9; // Amount of colors, see css variables
    let i = 0;
    if (!isNaN(n)) {
        if (!isFinite(n)) {
            i = max;
        } else {
            const slope = 1 * (maxColor - 0) / max - 0;
            i = 0 + Math.round(slope * (n - 0));
        }
    }
    // i can be NaN at this point
    if (isNaN(i)) return 0;
    return Math.max(i, 0);
}

;// CONCATENATED MODULE: ./src/view/components/profiler/flamegraph/modes/patchTree.ts

/**
 * Place commit tree. When a node's children are bigger than it's parent,
 * the parent and all next siblings will be expanded (pushed) to the right.
 */ function patchTree(commit) {
    const { nodes, commitRootId } = commit;
    const idToTransform = new Map();
    placeNode(commit, idToTransform, commit.rootId, 0, 1);
    let direct = nodes.get(commitRootId);
    if (direct !== undefined) {
        while(direct = nodes.get(direct.parent)){
            const transform = idToTransform.get(direct.id);
            if (transform) {
                transform.commitParent = true;
            }
        }
    }
    return idToTransform;
}
function placeNode(commit, idToTransform, id, depth, scale) {
    const node = commit.nodes.get(id);
    if (!node) return;
    let start = 0;
    if (node.parent !== -1 && idToTransform.has(node.parent)) {
        const parentPos = idToTransform.get(node.parent);
        start = parentPos.x + parentPos.width;
    }
    const selfDuration = (commit.selfDurations.get(id) || 0) * scale;
    const nodePos = {
        id,
        row: depth,
        x: start,
        commitParent: false,
        maximized: false,
        visible: false,
        weight: commit.rendered.has(id) ? getGradient(50, selfDuration) : -1,
        width: selfDuration
    };
    idToTransform.set(id, nodePos);
    // Enlarge to make node visible if width == 0
    if (nodePos.width === 0) {
        enlargeParents(commit, idToTransform, id, 0.01);
    }
    // Find the total render time of children that rendered in case
    // we're dealing with static subtrees. If there are static subtrees
    // we'll use the remaining space to place them.
    let staticTreeTime = 0;
    const nodeRendered = commit.rendered.has(id);
    if (nodeRendered) {
        let staticChildrenCount = 0;
        for(let i = 0; i < node.children.length; i++){
            const childId = node.children[i];
            if (!commit.rendered.has(childId)) {
                staticChildrenCount++;
                continue;
            }
        }
        if (staticChildrenCount > 0) {
            const availableStaticSpace = Math.max(0, selfDuration);
            staticTreeTime = Math.max(0.01, availableStaticSpace / staticChildrenCount);
        }
    }
    for(let i = 0; i < node.children.length; i++){
        const childId = node.children[i];
        // Potentially scale static subtrees
        let childSelfDuration = commit.selfDurations.get(childId) || 0;
        let childScale = scale;
        if (nodeRendered && !commit.rendered.has(childId)) {
            const child = commit.nodes.get(childId);
            if (!child) continue;
            const duration = Math.max(0.01, child.endTime - child.startTime);
            childScale = staticTreeTime / duration;
        }
        childSelfDuration *= childScale;
        placeNode(commit, idToTransform, childId, depth + 1, childScale);
        // Expand parents upwards by self duration
        enlargeParents(commit, idToTransform, id, childSelfDuration);
    }
}
function enlargeParents(commit, idToTransform, id, value) {
    let parentId = id;
    while(parentId !== -1){
        const parent = commit.nodes.get(parentId);
        if (!idToTransform.has(parentId)) {
            break;
        }
        idToTransform.get(parentId).width += value;
        parentId = parent.parent;
    }
}

;// CONCATENATED MODULE: ./src/view/components/profiler/flamegraph/ranked/ranked-utils.ts

const MIN_WIDTH = 4;
/**
 * Convert commit data into an array of position data to operate on.
 */ function toTransform(commit) {
    return Array.from(commit.rendered.values()).sort((a, b)=>commit.selfDurations.get(b) - commit.selfDurations.get(a)).map((id, i)=>{
        const selfDuration = commit.selfDurations.get(id);
        return {
            id,
            width: selfDuration,
            x: 0,
            row: i,
            maximized: false,
            weight: getGradient(commit.maxSelfDuration, selfDuration),
            visible: true,
            commitParent: false
        };
    });
}
function placeRanked(selfDurations, sorted, selected, canvasWidth) {
    const selectedDuration = selfDurations.get(selected.id) || 0.01;
    const scale = (canvasWidth || 1) / selectedDuration;
    let maximized = true;
    return sorted.map((pos)=>{
        // Ensure nodes are always visible
        const width = maximized ? canvasWidth : Math.max(Math.max(pos.width, 0.01) * scale, MIN_WIDTH);
        const posMaximized = maximized;
        if (pos.id === selected.id) {
            maximized = false;
        }
        return {
            ...pos,
            width,
            maximized: posMaximized
        };
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/data/commits.ts




/**
 * The Flamegraph supports these distinct
 * view modes.
 */ var commits_FlamegraphType = /*#__PURE__*/ function(FlamegraphType) {
    FlamegraphType["FLAMEGRAPH"] = "FLAMEGRAPH";
    FlamegraphType["RANKED"] = "RANKED";
    return FlamegraphType;
}({});
function getMaxSelfDurationNode(commit) {
    let id = commit.commitRootId;
    let max = commit.selfDurations.get(id) || 0;
    commit.rendered.forEach((rId)=>{
        const t = commit.selfDurations.get(rId) || 0;
        if (t > max) {
            max = t;
            id = rId;
        }
    });
    return id;
}
function getCommitInitialSelectNodeId(commit, type) {
    return type === "FLAMEGRAPH" ? commit.commitRootId : getMaxSelfDurationNode(commit);
}
/**
 * Create a new profiler instance. It intentiall doesn't have
 * any methods, to not go down the OOP rabbit hole.
 */ function createProfiler() {
    const commits = signals_core_module_d([]);
    const isSupported = signals_core_module_d(false);
    // Render Reasons
    const supportsRenderReasons = signals_core_module_d(false);
    const renderReasons = signals_core_module_d(new Map());
    const captureRenderReasons = signals_core_module_d(false);
    const setRenderReasonCapture = (v)=>{
        captureRenderReasons.value = v;
    };
    // Highlight updates
    const showUpdates = signals_core_module_d(false);
    // Selection
    const activeCommitIdx = signals_core_module_d(0);
    const selectedNodeId = signals_core_module_d(0);
    const activeCommit = signals_core_module_w(()=>{
        return commits.value.length > 0 && commits.value[activeCommitIdx.value] || null;
    });
    const selectedNode = signals_core_module_w(()=>{
        return activeCommit.value != null ? activeCommit.value.nodes.get(selectedNodeId.value) || null : null;
    });
    // Filtering
    const filterCommitsUnder = signals_core_module_d(false);
    const filteredCommits = signals_core_module_w(()=>{
        return commits.value.map((commit, index)=>({
                ...commit,
                index
            })).filter((commit)=>filterCommitsUnder.value === false ? true : commit.duration >= filterCommitsUnder.value);
    });
    // Flamegraph
    const flamegraphType = signals_core_module_d("FLAMEGRAPH");
    // Recording
    const isRecording = signals_core_module_d(false);
    // Render reasons
    const activeReason = signals_core_module_w(()=>{
        const reason = renderReasons.value.get(activeCommitIdx.value);
        if (reason) {
            return reason.get(selectedNodeId.value) || null;
        }
        return null;
    });
    // FlamegraphNode
    const flamegraphNodes = signals_core_module_w(()=>{
        const commit = activeCommit.value;
        if (!commit || flamegraphType.value !== "FLAMEGRAPH") {
            return new Map();
        }
        for(let i = activeCommitIdx.value - 1; i >= 0; i--){
            if (i >= commits.value.length) {
                return new Map();
            }
        }
        return patchTree(commit);
    });
    const rankedNodes = signals_core_module_w(()=>{
        const commit = activeCommit.value;
        if (!commit || flamegraphType.value !== "RANKED") {
            return [];
        }
        return toTransform(commit);
    });
    return {
        supportsRenderReasons,
        captureRenderReasons,
        setRenderReasonCapture,
        highlightUpdates: showUpdates,
        isSupported,
        isRecording,
        commits,
        activeCommitIdx,
        activeCommit,
        renderReasons,
        activeReason,
        selectedNodeId,
        selectedNode,
        // Filtering
        filterCommitsUnder,
        filteredCommits,
        // Rendering
        flamegraphType,
        flamegraphNodes,
        rankedNodes
    };
}
function startProfiling(state) {
    state.isRecording.value = true;
    state.commits.value = [];
    state.activeCommitIdx.value = 0;
    state.selectedNodeId.value = 0;
}
function stopProfiling(state) {
    state.isRecording.value = false;
    state.activeCommitIdx.value = 0;
    // Reset selection when recording stopped
    // and new profiling data was collected.
    if (state.commits.value.length > 0) {
        state.selectedNodeId.value = getCommitInitialSelectNodeId(state.commits.value[0], state.flamegraphType.value);
    } else {
        state.selectedNodeId.value = -1;
    }
}
function resetProfiler(state) {
    stopProfiling(state);
    state.commits.value = [];
}
function recordProfilerCommit(tree, profiler, rendered, commitRootId) {
    const nodes = new Map();
    // The time of the node that took the longest to render
    let maxSelfDuration = 0;
    let totalCommitDuration = 0;
    const selfDurations = new Map();
    const rootId = getRoot(tree, commitRootId);
    // Find previous commit to copy over timing data later
    const commits = profiler.commits.value;
    let prevCommit;
    for(let i = commits.length - 1; i >= 0; i--){
        if (commits[i].rootId === rootId) {
            prevCommit = commits[i];
            break;
        }
    }
    // Traverse nodes from the actual root to be able to build
    // the full tree.
    const stack = [
        rootId
    ];
    let id;
    while(id = stack.pop()){
        const node = tree.get(id);
        if (!node) continue;
        if (rendered.has(node.id)) {
            // Collect the time a node took to render excluding its children
            let selfDuration = node.endTime - node.startTime;
            for(let i = 0; i < node.children.length; i++){
                const childId = node.children[i];
                if (rendered.has(childId)) {
                    const child = tree.get(childId);
                    selfDuration -= child.endTime - child.startTime;
                }
            }
            if (selfDuration > maxSelfDuration) {
                maxSelfDuration = selfDuration;
            }
            totalCommitDuration += selfDuration;
            selfDurations.set(node.id, selfDuration);
        } else if (prevCommit) {
            // Otherwise just copy over the duration from the previous commit
            // of that root id.
            selfDurations.set(node.id, prevCommit.selfDurations.get(node.id) || 0);
        }
        nodes.set(node.id, node);
        stack.push(...node.children);
    }
    // Very useful to grab test cases from live websites
    // console.groupCollapsed("patch");
    // console.log("====", commitRoot.name, commitRootId);
    // console.log(JSON.stringify(Array.from(nodes.values())));
    // console.groupEnd();
    const commitStore = profiler.commits.value;
    commitStore.push({
        rootId: getRoot(tree, commitRootId),
        commitRootId: commitRootId,
        rendered,
        nodes,
        maxSelfDuration,
        duration: totalCommitDuration,
        selfDurations
    });
    profiler.commits.value = commitStore.slice();
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/inspect/parseProps.ts
function parseProps_parseProps(data, path, limit) {
    let depth = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0, name = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : path, out = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : new Map(), forceReadonly = arguments.length > 6 && arguments[6] !== void 0 ? arguments[6] : false;
    if (depth >= limit) {
        out.set(path, {
            depth,
            name,
            id: path,
            type: "string",
            editable: false,
            value: "\u2026",
            children: [],
            meta: null
        });
        return out;
    }
    if (Array.isArray(data)) {
        const children = [];
        out.set(path, {
            depth,
            name,
            id: path,
            type: "array",
            editable: false,
            value: data,
            children,
            meta: null
        });
        data.forEach((item, i)=>{
            const childPath = `${path}.${i}`;
            children.push(childPath);
            parseProps_parseProps(item, childPath, limit, depth + 1, "" + i, out, forceReadonly);
        });
    } else if (typeof data === "object") {
        if (data === null) {
            out.set(path, {
                depth,
                name,
                id: path,
                type: "null",
                editable: false,
                value: data,
                children: [],
                meta: null
            });
        } else {
            const keys = Object.keys(data);
            const maybeCustom = keys.length === 2;
            const maybeCollection = keys.length === 3;
            // Functions are encoded as objects
            if (maybeCustom && typeof data.name === "string" && data.type === "function") {
                out.set(path, {
                    depth,
                    name,
                    id: path,
                    type: "function",
                    editable: false,
                    value: data,
                    children: [],
                    meta: null
                });
            } else if (// Same for bigints
            maybeCustom && typeof data.value === "string" && data.type === "bigint") {
                out.set(path, {
                    depth,
                    name,
                    id: path,
                    type: "bigint",
                    editable: !forceReadonly,
                    value: data,
                    children: [],
                    meta: null
                });
            } else if (// Same for vnodes
            maybeCustom && typeof data.name === "string" && data.type === "vnode") {
                out.set(path, {
                    depth,
                    name,
                    id: path,
                    type: "vnode",
                    editable: false,
                    value: data,
                    children: [],
                    meta: null
                });
            } else if (// Same for Set + Map
            maybeCollection && typeof data.name === "string" && data.type === "set") {
                const children = [];
                const node = {
                    depth,
                    name,
                    id: path,
                    type: "set",
                    editable: false,
                    value: data,
                    children,
                    meta: null
                };
                data.entries.forEach((item, i)=>{
                    const childPath = `${path}.${i}`;
                    children.push(childPath);
                    parseProps_parseProps(item, childPath, limit, depth + 1, "" + i, out, forceReadonly);
                });
                out.set(path, node);
            } else if (// Same for Map
            maybeCollection && typeof data.name === "string" && data.type === "map") {
                const children = [];
                const node = {
                    depth,
                    name,
                    id: path,
                    type: "map",
                    editable: false,
                    value: data,
                    children,
                    meta: null
                };
                data.entries.forEach((item, i)=>{
                    const childPath = `${path}.${i}`;
                    children.push(childPath);
                    parseProps_parseProps(item, childPath, limit, depth + 1, "" + i, out, forceReadonly);
                });
                out.set(path, node);
            } else if (// Same for Blobs
            maybeCustom && typeof data.name === "string" && data.type === "blob") {
                out.set(path, {
                    depth,
                    name,
                    id: path,
                    type: "blob",
                    editable: false,
                    value: data,
                    children: [],
                    meta: null
                });
            } else if (// Same for Symbols
            maybeCustom && typeof data.name === "string" && data.type === "symbol") {
                out.set(path, {
                    depth,
                    name,
                    id: path,
                    type: "symbol",
                    editable: false,
                    value: data,
                    children: [],
                    meta: null
                });
            } else if (// Same for HTML elements
            maybeCustom && typeof data.name === "string" && data.type === "html") {
                out.set(path, {
                    depth,
                    name,
                    id: path,
                    type: "html",
                    editable: false,
                    value: data,
                    children: [],
                    meta: null
                });
            } else if (// Same for Signals
            maybeCollection && typeof data.name === "string" && data.type === "signal") {
                const children = [];
                const isEditable = data.name === "Signal";
                const node = {
                    depth,
                    name,
                    id: path,
                    type: "signal",
                    editable: isEditable,
                    value: data,
                    children,
                    meta: null
                };
                const childPath = `${path}.value`;
                children.push(childPath);
                out.set(path, node);
                parseProps_parseProps(data.value, childPath, limit, depth + 1, "value", out, !isEditable);
            } else {
                const node = {
                    depth,
                    name,
                    id: path,
                    type: "object",
                    editable: false,
                    value: data,
                    children: [],
                    meta: null
                };
                out.set(path, node);
                Object.keys(data).forEach((key)=>{
                    const nextPath = `${path}.${key}`;
                    node.children.push(nextPath);
                    parseProps_parseProps(data[key], nextPath, limit, depth + 1, key, out, forceReadonly);
                });
                out.set(path, node);
            }
        }
    } else {
        const type = typeof data;
        out.set(path, {
            depth,
            name,
            id: path,
            type: type,
            editable: type !== "undefined" && data !== "[[Circular]]" && !forceReadonly,
            value: data,
            children: [],
            meta: null
        });
    }
    return out;
}

;// CONCATENATED MODULE: ./src/view/store/props.ts


const PROPS_LIMIT = 7;
function props_isCollapsed(ids, id) {
    return id !== "root" && ids.indexOf(id) === -1;
}
/**
 * Props, Context and State are passed as serialized objects.
 * We just need to convert that into a tree-like structure
 * for rendering.
 */ function parseObjectState(data, uncollapsed) {
    if (data != null) {
        const tree = new Map();
        tree.set("root", {
            children: [],
            depth: 0,
            name: "root",
            editable: false,
            id: "root",
            type: "object",
            value: null,
            meta: null
        });
        parseProps_parseProps(data, "root", PROPS_LIMIT, 0, "root", tree);
        const items = windowing_flattenChildren(tree, "root", (id)=>{
            return tree.get(id).children.length > 0 && props_isCollapsed(uncollapsed, id);
        });
        return items.slice(1).map((id)=>tree.get(id));
    }
    return [];
}
function filterCollapsed(items, uncollapsed) {
    const skip = [];
    const visible = new Set();
    const uncoll = new Set(uncollapsed);
    return items.filter((node)=>{
        if (skip.some((x)=>node.id.startsWith(x))) {
            return false;
        }
        if (node.id === "root" || uncoll.has(node.id)) {
            node.children.forEach((childId)=>visible.add(childId));
        } else if (node.children.length) {
            skip.push(node.id);
        }
        return true;
    });
}

;// CONCATENATED MODULE: ./src/view/store/index.ts









function createStore() {
    const listeners = [];
    const notify = (name, data)=>{
        listeners.forEach((fn)=>fn && fn(name, data));
    };
    const debugMode = signals_core_module_d(!!false);
    const nodes = signals_core_module_d(new Map());
    const roots = signals_core_module_d([]);
    // Toggle
    const isPicking = signals_core_module_d(false);
    const filterState = createFilterStore(notify);
    // List
    const collapsed = signals_core_module_d(new Set());
    const collapser = createCollapser(collapsed);
    const nodeList = signals_core_module_w(()=>{
        return roots.value.map((root)=>{
            const items = windowing_flattenChildren(nodes.value, root, (id)=>collapser.collapsed.value.has(id));
            if (filterState.filterRoot.value) {
                return items.slice(1);
            }
            return items;
        }).reduce((acc, val)=>acc.concat(val), []);
    });
    // Sidebar
    const sidebar = {
        props: {
            uncollapsed: signals_core_module_d([]),
            items: signals_core_module_d([])
        },
        state: {
            uncollapsed: signals_core_module_d([]),
            items: signals_core_module_d([])
        },
        context: {
            uncollapsed: signals_core_module_d([]),
            items: signals_core_module_d([])
        },
        hooks: {
            uncollapsed: signals_core_module_d([]),
            items: signals_core_module_d([])
        },
        signals: {
            uncollapsed: signals_core_module_d([]),
            items: signals_core_module_d([])
        }
    };
    const inspectData = signals_core_module_d(null);
    signals_core_module_E(()=>{
        const props = inspectData.value ? inspectData.value.props : null;
        sidebar.props.items.value = parseObjectState(props, sidebar.props.uncollapsed.value);
        const state = inspectData.value ? inspectData.value.state : null;
        sidebar.state.items.value = parseObjectState(state, sidebar.state.uncollapsed.value);
        const context = inspectData.value ? inspectData.value.context : null;
        sidebar.context.items.value = parseObjectState(context, sidebar.context.uncollapsed.value);
        const signals = inspectData.value ? inspectData.value.signals : null;
        sidebar.signals.items.value = parseObjectState(signals, sidebar.signals.uncollapsed.value);
    });
    const supportsHooks = signals_core_module_d(false);
    signals_core_module_E(()=>{
        if (supportsHooks) {
            const items = inspectData.value && inspectData.value.hooks ? inspectData.value.hooks : [];
            sidebar.hooks.items.value = filterCollapsed(items, sidebar.hooks.uncollapsed.value).slice(1);
        }
    });
    const selection = createSelectionStore(nodeList);
    const stats = signals_core_module_d(null);
    return {
        supports: {
            hooks: supportsHooks
        },
        stats: {
            isRecording: signals_core_module_d(false),
            data: stats
        },
        debugMode,
        activePanel: signals_core_module_d(types_Panel.ELEMENTS),
        profiler: createProfiler(),
        notify,
        nodeList,
        inspectData,
        isPicking,
        roots,
        nodes,
        collapser,
        search: createSearchStore(nodes, nodeList),
        filter: filterState,
        selection,
        theme: signals_core_module_d("auto"),
        sidebar,
        clear () {
            roots.value = [];
            nodes.value = new Map();
            selection.selected.value = -1;
            collapser.collapsed.value = new Set();
            stats.value = null;
            inspectData.value = null;
        },
        subscribe (fn) {
            const idx = listeners.push(fn);
            return ()=>listeners[idx] = null;
        },
        emit: notify
    };
}

;// CONCATENATED MODULE: ./node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js
var jsxRuntime_module_t=/["&<]/;function jsxRuntime_module_n(r){if(0===r.length||!1===jsxRuntime_module_t.test(r))return r;for(var e=0,n=0,o="",f="";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f="&quot;";break;case 38:f="&amp;";break;case 60:f="&lt;";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var jsxRuntime_module_o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,jsxRuntime_module_f=0,jsxRuntime_module_i=Array.isArray;function jsxRuntime_module_u(e,t,n,o,i,u){t||(t={});var a,c,p=t;if("ref"in p)for(c in p={},t)"ref"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--jsxRuntime_module_f,__i:-1,__u:0,__source:i,__self:u};if("function"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return preact_module_l.vnode&&preact_module_l.vnode(l),l}function jsxRuntime_module_a(r){var t=jsxRuntime_module_u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var jsxRuntime_module_c=(/* unused pure expression or super */ null && ({})),jsxRuntime_module_p=/[A-Z]/g;function jsxRuntime_module_l(e,t){if(r.attr){var f=r.attr(e,t);if("string"==typeof f)return f}if("ref"===e||"key"===e)return"";if("style"===e&&"object"==typeof t){var i="";for(var u in t){var a=t[u];if(null!=a&&""!==a){var l="-"==u[0]?u:jsxRuntime_module_c[u]||(jsxRuntime_module_c[u]=u.replace(jsxRuntime_module_p,"-$&").toLowerCase()),s=";";"number"!=typeof a||l.startsWith("--")||jsxRuntime_module_o.test(l)||(s="px;"),i=i+l+":"+a+s}}return e+'="'+i+'"'}return null==t||!1===t||"function"==typeof t||"object"==typeof t?"":!0===t?e:e+'="'+jsxRuntime_module_n(t)+'"'}function jsxRuntime_module_s(r){if(null==r||"boolean"==typeof r||"function"==typeof r)return null;if("object"==typeof r){if(void 0===r.constructor)return r;if(jsxRuntime_module_i(r)){for(var e=0;e<r.length;e++)r[e]=jsxRuntime_module_s(r[e]);return r}}return jsxRuntime_module_n(""+r)}
//# sourceMappingURL=jsxRuntime.module.js.map

;// CONCATENATED MODULE: ./src/view/components/Actions.tsx

function Actions(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: `actions ${props.class || ""}`,
        "data-testid": "actions",
        children: props.children
    });
}
function ActionSeparator() {
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "actions-sep"
    });
}

;// CONCATENATED MODULE: ./src/view/components/IconBtn.tsx

function IconBtn(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("button", {
        type: "button",
        class: "icon-btn",
        "data-kind": props.styling || null,
        "data-active": props.active,
        title: props.title,
        disabled: props.disabled,
        "data-testid": props.testId,
        onClick: (e)=>{
            e.stopPropagation();
            if (props.onClick) props.onClick();
        },
        children: /*#__PURE__*/ jsxRuntime_module_u("span", {
            class: "icon-btn-inner",
            tabIndex: -1,
            style: props.color ? "color: " + props.color : undefined,
            children: [
                props.children,
                /*#__PURE__*/ jsxRuntime_module_u("span", {
                    class: "icon-btn-bg"
                })
            ]
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/icons.tsx

const icons_sizes = (/* unused pure expression or super */ null && ({
    xs: ".8rem",
    s: "1rem",
    m: "2rem",
    l: "4rem"
}));
function createSvgIcon(size, children) {
    return /*#__PURE__*/ _jsx("svg", {
        viewBox: "0 0 24 24",
        xmlns: "http://www.w3.org/2000/svg",
        style: `width: ${icons_sizes[size]}; height: ${icons_sizes[size]}`,
        children: children
    });
}
function Icon(param) {
    let { icon } = param;
    return /*#__PURE__*/ jsxRuntime_module_u("svg", {
        class: "svg-icon",
        children: /*#__PURE__*/ jsxRuntime_module_u("use", {
            xlinkHref: `#preact-devtools-${icon}`
        })
    });
}
function Picker() {
    return /*#__PURE__*/ jsxRuntime_module_u("svg", {
        width: "16",
        height: "16",
        xmlns: "http://www.w3.org/2000/svg",
        children: /*#__PURE__*/ jsxRuntime_module_u("g", {
            fill: "none",
            "fill-rule": "evenodd",
            children: [
                /*#__PURE__*/ jsxRuntime_module_u("g", {
                    stroke: "currentColor",
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u("path", {
                            "stroke-width": ".291",
                            fill: "currentColor",
                            "fill-rule": "nonzero",
                            "stroke-linecap": "round",
                            "stroke-linejoin": "round",
                            d: "M6 6l3.014 9 2.508-3.533L15 8.791z"
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("path", {
                            "stroke-width": "2",
                            d: "M10.417 10.417l2.87 2.87L15 15"
                        })
                    ]
                }),
                /*#__PURE__*/ jsxRuntime_module_u("path", {
                    d: "M12.188 0A2.812 2.812 0 0 1 15 2.813V5h-1V2.857A1.857 1.857 0 0 0 12.143 1H2.857A1.857 1.857 0 0 0 1 2.857v9.286C1 13.169 1.831 14 2.857 14H5v1H2.812A2.812 2.812 0 0 1 0 12.187V2.813A2.812 2.812 0 0 1 2.813 0h9.374z",
                    fill: "currentColor",
                    "fill-rule": "nonzero"
                })
            ]
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/elements/TreeBar.module.css
// extracted by css-extract-rspack-plugin
/* ESM default export */ const TreeBar_module = ({"btnIcon":"btnIcon-seIUDF","btnWrapper":"btnWrapper-WVjaDv","searchContainer":"searchContainer-NSWqfN","search":"search-WQtumk","searchCounter":"searchCounter-F4KeeY","removeWrapper":"removeWrapper-qCiGxW","vSep":"vSep-Zu_Pw9"});
;// CONCATENATED MODULE: ./src/view/components/OutsideClick.tsx


function OutsideClick(props) {
    const ref = hooks_module_A(null);
    hooks_module_y(()=>{
        if (!ref.current) return;
        const listener = (e)=>{
            if (ref.current && !ref.current.contains(e.target)) {
                props.onClick();
            }
        };
        const root = ref.current.getRootNode();
        root.addEventListener("click", listener);
        return ()=>root.removeEventListener("click", listener);
    }, [
        props.children,
        ref.current
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        ref: ref,
        class: props.class,
        style: props.style,
        children: props.children
    });
}

;// CONCATENATED MODULE: ./src/view/components/FilterPopup/FilterPopup.module.css
// extracted by css-extract-rspack-plugin
/* ESM default export */ const FilterPopup_module = ({"filterBtnWrapper":"filterBtnWrapper-etdwmc","filter":"filter-NGA4xe","filterRow":"filterRow-SvbDAc","filterCheck":"filterCheck-qzapLP","filterValue":"filterValue-BnhEqF","filterValueText":"filterValueText-fgf6yV","filterAdd":"filterAdd-YA1RAK","filterName":"filterName-tYuZcu","filterActions":"filterActions-xwv547","filterSubmitBtn":"filterSubmitBtn-notwQU","filterInputNumber":"filterInputNumber-iS3dFj"});
;// CONCATENATED MODULE: ./src/view/components/FilterPopup/FilterPopup.tsx



function FilterCheck(param) {
    let { checked, label, onInput } = param;
    return /*#__PURE__*/ jsxRuntime_module_u("label", {
        class: FilterPopup_module.filterRow,
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("span", {
                class: FilterPopup_module.filterCheck,
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u("input", {
                        type: "checkbox",
                        checked: checked,
                        onInput: (e)=>onInput(e.target.checked)
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                        icon: checked ? "checkbox-checked" : "checkbox-unchecked"
                    })
                ]
            }),
            /*#__PURE__*/ jsxRuntime_module_u("span", {
                class: `${FilterPopup_module.filterValue} ${FilterPopup_module.filterValueText}`,
                children: label
            })
        ]
    });
}
function FilterNumber(param) {
    let { value, label, onInput, units, defaultValue } = param;
    const checked = value !== false;
    return /*#__PURE__*/ jsxRuntime_module_u("label", {
        class: FilterPopup_module.filterRow,
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("span", {
                class: FilterPopup_module.filterCheck,
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u("input", {
                        type: "checkbox",
                        checked: checked,
                        onInput: (e)=>onInput(e.target.checked ? defaultValue : false)
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                        icon: checked ? "checkbox-checked" : "checkbox-unchecked"
                    })
                ]
            }),
            /*#__PURE__*/ jsxRuntime_module_u("span", {
                class: `${FilterPopup_module.filterValue} ${FilterPopup_module.filterValueText}`,
                children: [
                    label,
                    " ",
                    /*#__PURE__*/ jsxRuntime_module_u("input", {
                        type: "number",
                        class: FilterPopup_module.filterInputNumber,
                        value: checked ? value : defaultValue,
                        onInput: (e)=>{
                            onInput(e.target.value);
                        }
                    }),
                    " ",
                    units
                ]
            })
        ]
    });
}
function FilterPopup(param) {
    let { children, onFiltersSubmit, filterActions, className } = param;
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: `${FilterPopup_module.filter} ${className}`,
        "data-testid": "filter-popup",
        children: /*#__PURE__*/ jsxRuntime_module_u("form", {
            onSubmit: (e)=>{
                e.preventDefault();
                onFiltersSubmit();
            },
            children: [
                children,
                /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: FilterPopup_module.vSep
                }),
                /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: FilterPopup_module.filterActions,
                    children: [
                        filterActions,
                        /*#__PURE__*/ jsxRuntime_module_u("button", {
                            type: "submit",
                            class: FilterPopup_module.filterSubmitBtn,
                            "data-testid": "filter-update",
                            children: "Update"
                        })
                    ]
                })
            ]
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/elements/TreeBar.tsx











function TreeBar() {
    const store = useStore();
    const isPicking = store.isPicking.value;
    const { value, count, selected, goPrev, goNext } = useSearch();
    const [filterVisible, setFilterVisible] = hooks_module_d(false);
    const onKeyDown = (e)=>{
        if (e.key === "Enter") {
            e.preventDefault();
            if (e.shiftKey) {
                goPrev();
            } else {
                goNext();
            }
        }
    };
    const searchActive = value !== "";
    return /*#__PURE__*/ jsxRuntime_module_u(Actions, {
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: TreeBar_module.btnWrapper,
                children: /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                    active: isPicking,
                    // TODO: make this work
                    title: "(Not supported yet) Pick a Component from the page",
                    testId: "inspect-btn",
                    onClick: ()=>{
                        store.isPicking.value = !isPicking;
                        store.notify(!isPicking ? "start-picker" : "stop-picker", null);
                    },
                    disabled: true,
                    children: /*#__PURE__*/ jsxRuntime_module_u(Picker, {})
                })
            }),
            /*#__PURE__*/ jsxRuntime_module_u(ActionSeparator, {}),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: TreeBar_module.searchContainer,
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                        icon: "search"
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("input", {
                        class: TreeBar_module.search,
                        type: "text",
                        "data-testid": "element-search",
                        placeholder: "Search (text or /regex/)",
                        value: value,
                        onKeyDown: onKeyDown,
                        onInput: (e)=>store.search.onChange(e.target.value)
                    }),
                    searchActive && /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: TreeBar_module.searchCounter,
                        "data-testid": "search-counter",
                        children: [
                            count > 0 ? selected + 1 : 0,
                            " | ",
                            count
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: TreeBar_module.btnWrapper,
                children: /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                    onClick: store.search.selectNext,
                    title: "Select next result",
                    disabled: !searchActive,
                    children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                        icon: "keyboard-down"
                    })
                })
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: TreeBar_module.btnWrapper,
                children: /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                    onClick: store.search.selectPrev,
                    title: "Select previous result",
                    disabled: !searchActive,
                    children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                        icon: "keyboard-up"
                    })
                })
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: TreeBar_module.btnWrapper,
                children: /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                    onClick: store.search.reset,
                    title: "Clear search input",
                    disabled: !searchActive,
                    children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                        icon: "close"
                    })
                })
            }),
            /*#__PURE__*/ jsxRuntime_module_u(ActionSeparator, {}),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: TreeBar_module.btnWrapper,
                children: /*#__PURE__*/ jsxRuntime_module_u(OutsideClick, {
                    onClick: ()=>setFilterVisible(false),
                    class: FilterPopup_module.filterBtnWrapper,
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                            title: "Filter Components",
                            active: filterVisible,
                            testId: "filter-menu-button",
                            onClick: ()=>setFilterVisible(!filterVisible),
                            children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                icon: "filter-list"
                            })
                        }),
                        filterVisible && /*#__PURE__*/ jsxRuntime_module_u(TreeFilterPopup, {})
                    ]
                })
            })
        ]
    });
}
function TreeFilterPopup() {
    const store = useStore();
    const [filterDom, setFilterDom] = hooks_module_d(store.filter.filterDom.value);
    const [filterFragment, setFilterFragment] = hooks_module_d(store.filter.filterFragment.value);
    const [filterHoc, setFilterHoc] = hooks_module_d(store.filter.filterHoc.value);
    const [filterRoot, setFilterRoot] = hooks_module_d(store.filter.filterRoot.value);
    const [filterTextSignal, setFilterTextSignal] = hooks_module_d(store.filter.filterTextSignal.value);
    const [filters, setFilters] = hooks_module_d(store.filter.filters.value);
    return /*#__PURE__*/ jsxRuntime_module_u(FilterPopup, {
        onFiltersSubmit: ()=>{
            store.filter.filterDom.value = filterDom;
            store.filter.filterFragment.value = filterFragment;
            store.filter.filterRoot.value = filterRoot;
            store.filter.filterHoc.value = filterHoc;
            store.filter.filterTextSignal.value = filterTextSignal;
            store.filter.filters.value = filters;
            store.filter.submit();
        },
        filterActions: /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
            styling: "secondary",
            title: "Add new filter",
            testId: "add-filter",
            onClick: ()=>setFilters([
                    ...filters,
                    {
                        enabled: false,
                        value: ""
                    }
                ]),
            children: /*#__PURE__*/ jsxRuntime_module_u("span", {
                class: FilterPopup_module.filterAdd,
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u("span", {
                        class: FilterPopup_module.filterCheck,
                        children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                            icon: "add-circle"
                        })
                    }),
                    "Add filter"
                ]
            })
        }),
        children: [
            /*#__PURE__*/ jsxRuntime_module_u(FilterCheck, {
                label: "Roots",
                onInput: (checked)=>setFilterRoot(checked),
                checked: filterRoot
            }),
            /*#__PURE__*/ jsxRuntime_module_u(FilterCheck, {
                label: "Fragments",
                onInput: (checked)=>setFilterFragment(checked),
                checked: filterFragment
            }),
            /*#__PURE__*/ jsxRuntime_module_u(FilterCheck, {
                label: "HOC-Components",
                onInput: (checked)=>setFilterHoc(checked),
                checked: filterHoc
            }),
            /*#__PURE__*/ jsxRuntime_module_u(FilterCheck, {
                label: "DOM nodes",
                onInput: (checked)=>setFilterDom(checked),
                checked: filterDom
            }),
            /*#__PURE__*/ jsxRuntime_module_u(FilterCheck, {
                label: "Text Signal nodes",
                onInput: (checked)=>setFilterTextSignal(checked),
                checked: filterTextSignal
            }),
            filters.map((x, i)=>{
                return /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: FilterPopup_module.filterRow,
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u("label", {
                            class: FilterPopup_module.filterCheck,
                            children: [
                                /*#__PURE__*/ jsxRuntime_module_u("input", {
                                    type: "checkbox",
                                    checked: x.enabled,
                                    onInput: (e)=>{
                                        const copy = [
                                            ...filters
                                        ];
                                        copy[i].enabled = e.target.checked;
                                        setFilters(copy);
                                    }
                                }),
                                /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                    icon: x.enabled ? "checkbox-checked" : "checkbox-unchecked"
                                })
                            ]
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("span", {
                            class: FilterPopup_module.filterValue,
                            children: /*#__PURE__*/ jsxRuntime_module_u("input", {
                                className: FilterPopup_module.filterName,
                                type: "text",
                                placeholder: "MyComponent",
                                value: x.value,
                                onInput: (e)=>{
                                    const copy = [
                                        ...filters
                                    ];
                                    copy[i].value = e.target.value;
                                    setFilters(copy);
                                }
                            })
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("span", {
                            class: FilterPopup_module.removeWrapper,
                            children: /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                                title: "Remove filter",
                                styling: "secondary",
                                onClick: ()=>{
                                    const idx = filters.indexOf(x);
                                    if (idx > -1) {
                                        const copy = [
                                            ...filters
                                        ];
                                        copy.splice(idx, 1);
                                        setFilters(copy);
                                    }
                                },
                                children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                    icon: "remove"
                                })
                            })
                        })
                    ]
                }, i);
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/tree/keyboard.ts

function useKeyListNav(opts) {
    return hooks_module_q((e)=>{
        if (/^Arrow/.test(e.key)) e.preventDefault();
        const sel = opts.selected;
        const { onCollapse, canCollapse, checkCollapsed: checkCollapssed, onPrev, onNext } = opts;
        if (e.key === "ArrowLeft") {
            if (canCollapse(sel) && !checkCollapssed(sel)) {
                return onCollapse(sel, true);
            }
            onPrev(sel);
        } else if (e.key === "ArrowUp") {
            onPrev(sel);
        } else if (e.key === "ArrowRight") {
            if (canCollapse(sel) && checkCollapssed(sel)) {
                return onCollapse(sel, false);
            }
            onNext(sel);
        } else if (e.key === "ArrowDown") {
            onNext(sel);
        }
    }, [
        opts.selected
    ]);
}

;// CONCATENATED MODULE: ./src/view/components/elements/background-logo.tsx

function BackgroundLogo(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("svg", {
        width: "149",
        height: "172",
        xmlns: "http://www.w3.org/2000/svg",
        class: props.class,
        children: /*#__PURE__*/ jsxRuntime_module_u("path", {
            d: "M73.902.275L0 43.192v85.835l73.902 42.918 73.902-42.918V43.192L73.902.275zM36.103 38.4c3.978.195 8.357 1.076 13.058 2.527 7.6 2.346 16.061 6.389 24.74 11.608 8.679-5.218 17.143-9.263 24.741-11.608 6.268-1.935 11.968-2.85 16.897-2.491 4.929.359 9.239 2.084 11.943 5.565 2.705 3.483 3.324 8.107 2.477 13.003-.847 4.898-3.099 10.239-6.481 15.887-2.558 4.272-5.966 8.73-9.752 13.218 3.786 4.488 7.194 8.934 9.752 13.205 3.382 5.649 5.634 11.002 6.481 15.9.847 4.896.228 9.52-2.477 13.002-2.704 3.482-7.014 5.196-11.943 5.554-4.929.358-10.63-.544-16.897-2.479-7.6-2.346-16.072-6.388-24.752-11.608-8.674 5.215-17.134 9.263-24.729 11.608-6.267 1.935-11.968 2.837-16.897 2.48-4.928-.36-9.239-2.073-11.943-5.555-2.705-3.482-3.324-8.106-2.477-13.003s3.099-10.25 6.482-15.899c2.557-4.271 5.966-8.717 9.751-13.205-3.785-4.488-7.194-8.946-9.751-13.218-3.383-5.648-5.635-10.99-6.482-15.887-.846-4.896-.228-9.52 2.477-13.002 2.704-3.482 7.015-5.208 11.943-5.566 1.233-.09 2.514-.1 3.84-.036zm-.272 5.363a25.89 25.89 0 0 0-3.187.024c-3.965.288-6.584 1.526-8.129 3.516s-2.091 4.833-1.41 8.772c.681 3.939 2.645 8.793 5.794 14.052 2.256 3.767 5.296 7.773 8.674 11.834 5.522-6.018 11.997-12.05 19.29-17.782 3.955-3.108 7.928-5.915 11.884-8.51-7.518-4.32-14.753-7.643-21.15-9.617-4.376-1.351-8.371-2.116-11.766-2.289zm76.141 0c-3.395.173-7.39.938-11.766 2.289-6.397 1.975-13.643 5.297-21.162 9.618 3.957 2.594 7.93 5.401 11.885 8.51 7.293 5.73 13.78 11.764 19.302 17.781 3.377-4.06 6.417-8.067 8.673-11.835 3.149-5.258 5.113-10.112 5.794-14.051.681-3.94.136-6.782-1.41-8.772-1.545-1.99-4.164-3.227-8.128-3.516a25.821 25.821 0 0 0-3.188-.024zM73.89 58.817c-4.557 2.873-9.161 5.98-13.745 9.582-7.278 5.72-13.67 11.757-19.076 17.711 5.406 5.953 11.798 11.979 19.076 17.699 4.588 3.605 9.196 6.719 13.757 9.594 4.56-2.875 9.158-5.99 13.745-9.594 7.278-5.72 13.682-11.746 19.088-17.699-5.406-5.953-11.81-11.979-19.088-17.699-4.59-3.607-9.194-6.718-13.757-9.594zm.012 15.887a11.3 11.3 0 0 1 8.012 3.343 11.434 11.434 0 0 1 3.316 8.063c-.004 6.291-5.073 11.39-11.328 11.394a11.3 11.3 0 0 1-8.016-3.335 11.433 11.433 0 0 1-3.324-8.059 11.434 11.434 0 0 1 3.32-8.067 11.3 11.3 0 0 1 8.02-3.339zM37.573 90.257c-3.377 4.061-6.417 8.068-8.673 11.835-3.15 5.259-5.125 10.101-5.806 14.04-.681 3.94-.124 6.794 1.421 8.784 1.546 1.99 4.164 3.215 8.129 3.504 3.964.288 9.119-.452 14.953-2.253 6.401-1.976 13.64-5.306 21.163-9.63-3.96-2.596-7.939-5.387-11.897-8.498-7.293-5.73-13.768-11.764-19.29-17.782zm72.658 0c-5.522 6.018-12.009 12.051-19.302 17.782-3.958 3.11-7.937 5.902-11.897 8.498 7.524 4.324 14.774 7.654 21.175 9.63 5.834 1.801 10.988 2.541 14.953 2.253 3.965-.289 6.583-1.515 8.128-3.504 1.546-1.99 2.091-4.845 1.41-8.784-.68-3.939-2.645-8.781-5.794-14.04-2.256-3.767-5.296-7.774-8.673-11.835z",
            fill: "currentColor",
            "fill-rule": "nonzero"
        })
    });
}

;// CONCATENATED MODULE: ./src/shells/shared/utils.ts
function inject(codeOrSrc) {
    let mode = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "code";
    const s = document.createElement("script");
    // This runs before `<head>` is available
    const target = document.head || document.documentElement;
    if (mode === "code") s.textContent = codeOrSrc;
    else s.src = codeOrSrc;
    target.appendChild(s);
    s.remove();
}
function injectStyles(href) {
    const s = document.createElement("link");
    s.rel = "stylesheet";
    s.href = href;
    const target = document.head || document.documentElement;
    target.appendChild(s);
}
function debounce(callback, wait) {
    let timeout = null;
    return function() {
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        const next = ()=>callback(...args);
        clearTimeout(timeout);
        timeout = setTimeout(next, wait);
    };
}
function throttle(callback, wait) {
    let running = false;
    return function() {
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        if (!running) {
            callback(...args);
            running = true;
            setTimeout(()=>{
                running = false;
                callback(...args);
            }, wait);
        }
    };
}
function copyToClipboard(text) {
    const dom = document.createElement("textarea");
    dom.textContent = text;
    document.body.appendChild(dom);
    dom.select();
    document.execCommand("copy");
    dom.blur();
    document.body.removeChild(dom);
}
function isFirefox() {
    return navigator.userAgent.indexOf("Firefox") >= 0;
}

;// CONCATENATED MODULE: ./src/view/components/utils.ts



function useResize(fn, args) {
    let init = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
    // If we're running inside the browser extension context
    // we pull the correct window reference from context. And
    // yes there are multiple `window` objects to keep track of.
    // If you subscribe to the wrong one, nothing will be
    // triggered. For testing scenarios we can fall back to
    // the global window object instead.
    const win = hooks_module_x(WindowCtx) || window;
    hooks_module_(()=>{
        if (init) fn();
        const fn2 = throttle(fn, 60);
        win.addEventListener("resize", fn2);
        return ()=>{
            win.removeEventListener("resize", fn2);
        };
    }, [
        ...args,
        init
    ]);
}

;// CONCATENATED MODULE: ./src/view/components/elements/VirtualizedList.tsx


function useVirtualizedList(param) {
    let { rowHeight, minBufferCount, items, container, renderRow } = param;
    const [height, setHeight] = hooks_module_d(0);
    const [scroll, setScroll] = hooks_module_d(0);
    const bufferCount = height > 0 ? Math.max(minBufferCount, Math.ceil(height / rowHeight / 2)) : minBufferCount;
    let idx = Math.max(0, Math.floor(scroll / rowHeight) - bufferCount);
    const max = idx + Math.ceil(height / rowHeight) + bufferCount;
    let top = idx * rowHeight;
    // A bit hacky, we basically want to ensure that `scrollToItem`
    // is ALWAYS stable
    const timeoutRef = hooks_module_A(null);
    const scrollRef = hooks_module_A(scroll);
    const itemsRef = hooks_module_A(items);
    const heightRef = hooks_module_A(height);
    scrollRef.current = scroll;
    itemsRef.current = items;
    heightRef.current = height;
    const scrollToItem = hooks_module_q((item)=>{
        const scroll = scrollRef.current;
        const items = itemsRef.current;
        const height = heightRef.current;
        if (timeoutRef.current) {
            clearTimeout(timeoutRef.current);
        }
        const nextIdx = items.findIndex((t)=>t === item);
        if (nextIdx < 0) return;
        // Check if the item we want to scroll to is already in view
        const pos = Math.floor(nextIdx * rowHeight);
        const EDGE = rowHeight / 2;
        const isBefore = scroll + EDGE > pos;
        const isAfter = scroll + height - EDGE < pos;
        if (isBefore || isAfter) {
            // Clamp to available range to avoid overflow
            const maxScroll = Math.floor(rowHeight * items.length - height);
            const nextPos = Math.max(0, Math.min(isBefore ? pos : pos - height + rowHeight * 2, maxScroll));
            // Debounce scroll to avoid flickering when quickly hovering
            // a bunch of elements
            timeoutRef.current = setTimeout(()=>{
                if (container.current) {
                    container.current.scrollTop = nextPos;
                }
            }, 100);
        }
    }, [
        rowHeight
    ]);
    hooks_module_y(()=>{
        const scrollFn = (e)=>{
            const top = e.target.scrollTop;
            // Ignore overscroll
            if (top >= 0) {
                setScroll(top);
            }
        };
        if (container.current) {
            container.current.addEventListener("scroll", scrollFn);
        }
        return ()=>{
            if (container.current) {
                container.current.removeEventListener("scroll", scrollFn);
            }
        };
    }, [
        container.current
    ]);
    useResize(()=>{
        if (container.current) {
            setHeight(container.current.clientHeight);
        }
    }, [], true);
    const vnodes = hooks_module_T(()=>{
        const vnodes = [];
        while(idx < items.length && idx <= max){
            vnodes.push(renderRow(items[idx], idx, top));
            top += rowHeight;
            idx++;
        }
        return vnodes;
    }, [
        items,
        idx,
        max,
        top
    ]);
    return {
        containerHeight: rowHeight * items.length,
        children: vnodes,
        scrollToItem
    };
}

;// CONCATENATED MODULE: ./src/view/components/elements/useAutoIndent.ts


const INITIAL = 14;
const RIGHT_MARGIN = 16;
function useAutoIndent(container, deps) {
    const indent = hooks_module_A(INITIAL);
    const [available, setAvailable] = hooks_module_d(0);
    const cacheRef = hooks_module_A(new Map());
    useResize(()=>{
        indent.current = INITIAL;
        if (container.current) {
            setAvailable(container.current.clientWidth);
        }
    }, [], true);
    hooks_module_(()=>{
        if (container.current) {
            let space = available;
            if (available === 0) {
                space = container.current.clientWidth;
            }
            const cache = cacheRef.current;
            const { childNodes } = container.current;
            let nextIndent = indent.current;
            for(let i = 0; i < childNodes.length; i++){
                const child = childNodes[i];
                if (!child) continue;
                const id = child.getAttribute("data-id");
                if (!id) continue;
                // Measure the actual first child
                const el = child.firstChild;
                if (!el) continue;
                let width = cache.get(id);
                if (!width) {
                    width = el.offsetWidth + RIGHT_MARGIN;
                    cache.set(id, width);
                }
                const depth = +(child.getAttribute("data-depth") || 0);
                nextIndent = Math.min(nextIndent, Math.max(0, (space - width) / depth));
            }
            container.current.style.setProperty("--indent-depth", `${nextIndent}px`);
            indent.current = nextIndent;
        }
    }, [
        ...deps,
        available
    ]);
    return indent;
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/HocPanel.tsx

function Hoc(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("span", {
        class: "hoc hoc-item",
        "data-size": props.small ? "small" : null,
        children: props.children
    });
}
function HocPanel(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "hoc-panel",
        "data-testid": "hoc-panel",
        children: props.hocs.map((hoc, i)=>/*#__PURE__*/ jsxRuntime_module_u(Hoc, {
                children: hoc
            }, i))
    });
}

;// CONCATENATED MODULE: ./src/view/components/elements/TreeView.tsx














const ROW_HEIGHT = 18;
const highlightNode = debounce((notify, id)=>notify("highlight", id), 100);
function TreeView() {
    const store = useStore();
    const nodeList = store.nodeList.value;
    const roots = store.roots.value;
    const { collapseNode, collapsed } = useCollapser();
    const { selected, selectNext, selectPrev } = useSelection();
    const onKeyDown = useKeyListNav({
        selected,
        onCollapse: collapseNode,
        canCollapse: (id)=>{
            const node = store.nodes.value.get(id);
            return node ? node.children.length > 0 : false;
        },
        checkCollapsed: (id)=>collapsed.has(id),
        onNext: ()=>{
            selectNext();
            const s = store.selection.selected.value;
            highlightNode(store.notify, s);
            store.notify("inspect", s);
        },
        onPrev: ()=>{
            selectPrev();
            const s = store.selection.selected.value;
            highlightNode(store.notify, s);
            store.notify("inspect", s);
        }
    });
    const onMouseLeave = hooks_module_q(()=>highlightNode(store.notify, null), []);
    const ref = hooks_module_A(null);
    const paneRef = hooks_module_A(null);
    const search = useSearch();
    const [updateCount, setUpdateCount] = hooks_module_d(0);
    useResize(()=>setUpdateCount(updateCount + 1), [
        updateCount
    ]);
    const { children: listItems, containerHeight, scrollToItem } = useVirtualizedList({
        rowHeight: ROW_HEIGHT,
        minBufferCount: 5,
        container: ref,
        items: nodeList,
        // eslint-disable-next-line react/display-name
        renderRow: (id, _, top)=>/*#__PURE__*/ jsxRuntime_module_u(TreeItem, {
                id: id,
                top: top
            }, id)
    });
    // Scroll to item on selection change
    hooks_module_y(()=>{
        scrollToItem(selected);
    }, [
        selected,
        scrollToItem
    ]);
    // Scroll to item on search value change
    const searchSelectedId = search.selectedId;
    hooks_module_y(()=>{
        scrollToItem(searchSelectedId);
    }, [
        searchSelectedId,
        scrollToItem
    ]);
    useAutoIndent(paneRef, [
        listItems
    ]);
    // When the devtools is connected, but nothing has been sent to the panel yet
    const isOnlyConnected = nodeList.length === 0 && roots.length === 0;
    // When client sent messages, but no nodes were sent due to filters.
    const hasNoResults = nodeList.length === 0 && roots.length > 0;
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        ref: ref,
        tabIndex: 0,
        class: "tree-view",
        onKeyDown: onKeyDown,
        "data-tree": true,
        onMouseLeave: onMouseLeave,
        children: [
            isOnlyConnected && /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: "tree-view-empty",
                "data-testid": "msg-only-connected",
                children: /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: "tree-view-empty-inner",
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u(BackgroundLogo, {
                            class: "tree-view-empty-logo"
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("p", {
                            children: [
                                /*#__PURE__*/ jsxRuntime_module_u("b", {
                                    children: "Connected"
                                }),
                                ", listening for Preact operations..."
                            ]
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("p", {
                            class: "tree-view-empty-descr",
                            children: /*#__PURE__*/ jsxRuntime_module_u("small", {
                                children: [
                                    "If this message doesn't go away, your ReactLynx App is not setup with devtools. You can fix this by adding the",
                                    " ",
                                    /*#__PURE__*/ jsxRuntime_module_u("code", {
                                        children: "import '@lynx-js/preact-devtools'"
                                    }),
                                    " import at the ",
                                    /*#__PURE__*/ jsxRuntime_module_u("b", {
                                        children: "top"
                                    }),
                                    " of your entry file."
                                ]
                            })
                        })
                    ]
                })
            }),
            hasNoResults && /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: "tree-view-empty",
                "data-testid": "msg-no-results",
                children: /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: "tree-view-empty-inner",
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u(BackgroundLogo, {
                            class: "tree-view-empty-logo"
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("p", {
                            children: /*#__PURE__*/ jsxRuntime_module_u("b", {
                                children: "Nothing to show"
                            })
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("p", {
                            class: "tree-view-empty-descr",
                            children: /*#__PURE__*/ jsxRuntime_module_u("small", {
                                children: "No nodes visible with active filters. To fix this update filters or make sure to render at least one component in your app."
                            })
                        })
                    ]
                })
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: "tree-view-pane",
                ref: paneRef,
                "data-testid": "elements-tree",
                style: `height: ${containerHeight}px`,
                children: [
                    listItems,
                    /*#__PURE__*/ jsxRuntime_module_u(HighlightPane, {
                        treeDom: ref.current
                    })
                ]
            })
        ]
    });
}
function MarkResult(props) {
    const { regex, selectedId } = useSearch();
    const { text, id } = props;
    const isActive = id === selectedId;
    if (regex != null && regex.test(text)) {
        const m = text.match(regex);
        const idx = m.index || 0;
        const start = idx > 0 ? text.slice(0, idx) : "";
        const end = idx < text.length ? text.slice(idx + m[0].length) : "";
        return /*#__PURE__*/ jsxRuntime_module_u("span", {
            "data-testid": "node-name",
            children: [
                start,
                /*#__PURE__*/ jsxRuntime_module_u("mark", {
                    class: "mark",
                    "data-marked": isActive,
                    children: m[0]
                }),
                end
            ]
        });
    }
    return /*#__PURE__*/ jsxRuntime_module_u("span", {
        "data-testid": "node-name",
        children: text
    });
}
function TreeItem(props) {
    const { id } = props;
    const store = useStore();
    const as = useSelection();
    const { collapsed, toggle } = useCollapser();
    const node = store.nodes.value.get(id) || null;
    const filterRoot = store.filter.filterRoot.value;
    const filterHoc = store.filter.filterHoc.value;
    const roots = store.roots.value;
    const onToggle = ()=>toggle(id);
    const ref = hooks_module_A(null);
    if (!node) return null;
    const isRoot = node.parent === -1 && roots.includes(node.id);
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        ref: ref,
        class: "tree-view-item",
        "data-testid": "tree-item",
        "data-name": node.name,
        onClick: ()=>{
            as.selectById(id);
            store.notify("inspect", id);
        },
        onMouseEnter: ()=>highlightNode(store.notify, id),
        "data-selected": as.selected === id,
        "data-id": id,
        "data-depth": node.depth,
        style: `top: ${props.top}px;`,
        children: /*#__PURE__*/ jsxRuntime_module_u("div", {
            class: "tree-view-item-header",
            style: `transform: translate3d(calc(var(--indent-depth) * ${node.depth + (filterRoot ? -1 : 0)}), 0, 0);`,
            children: [
                node.children.length > 0 && /*#__PURE__*/ jsxRuntime_module_u("button", {
                    class: "tree-view-collapse",
                    "data-collapsed": collapsed.has(id),
                    onClick: onToggle,
                    children: /*#__PURE__*/ jsxRuntime_module_u(Arrow, {})
                }),
                node.children.length === 0 && /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: "tree-view-no-collapse"
                }),
                /*#__PURE__*/ jsxRuntime_module_u("span", {
                    class: "tree-view-name",
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u(MarkResult, {
                            text: node.name,
                            id: id
                        }),
                        node.key ? /*#__PURE__*/ jsxRuntime_module_u("span", {
                            class: "tree-view-key-label",
                            children: [
                                " ",
                                'key="',
                                /*#__PURE__*/ jsxRuntime_module_u("span", {
                                    class: "tree-view-key",
                                    children: node.key.length > 15 ? `${node.key.slice(0, 15)}\u{2026}` : node.key
                                }),
                                '"'
                            ]
                        }) : "",
                        filterHoc && node.hocs && node.hocs.length > 0 && /*#__PURE__*/ jsxRuntime_module_u(HocLabels, {
                            hocs: node.hocs,
                            nodeId: id
                        }),
                        isRoot ? /*#__PURE__*/ jsxRuntime_module_u("span", {
                            class: "tree-view-root-label",
                            children: "(Root)"
                        }) : ""
                    ]
                })
            ]
        })
    });
}
function HocLabels(param) {
    let { hocs, nodeId, canMark = true } = param;
    return /*#__PURE__*/ jsxRuntime_module_u("span", {
        class: "hocs",
        "data-testid": "hoc-labels",
        children: hocs.map((hoc, i)=>{
            return /*#__PURE__*/ jsxRuntime_module_u(Hoc, {
                small: true,
                children: canMark ? /*#__PURE__*/ jsxRuntime_module_u(MarkResult, {
                    text: hoc,
                    id: nodeId
                }) : hoc
            }, i);
        })
    });
}
function Arrow() {
    return /*#__PURE__*/ jsxRuntime_module_u("svg", {
        xmlns: "http://www.w3.org/2000/svg",
        width: "16",
        height: "16",
        viewBox: "0 0 4.233 4.233",
        children: /*#__PURE__*/ jsxRuntime_module_u("path", {
            d: "M1.124 1.627H3.11l-.992 1.191-.993-1.19",
            fill: "currentColor"
        })
    });
}
function HighlightPane(props) {
    const store = useStore();
    const nodes = store.nodes.value;
    const { selected } = useSelection();
    const { collapsed } = useCollapser();
    // Subscribe to nodeList so that we rerender whenever nodes
    // are collapsed
    const list = store.nodeList.value;
    const [pos, setPos] = hooks_module_d({
        top: 0,
        height: 0
    });
    hooks_module_y(()=>{
        if (selected > -1 && !collapsed.has(selected)) {
            if (props.treeDom != null) {
                const start = props.treeDom.querySelector(`[data-id="${selected}"`);
                const lastId = getLastChild(nodes, selected);
                const last = props.treeDom.querySelector(`[data-id="${lastId}"]`);
                if (start != null && last != null) {
                    const rect = start.getBoundingClientRect();
                    const top = start.offsetTop + rect.height;
                    const lastRect = last.getBoundingClientRect();
                    const height = last.offsetTop + lastRect.height - top;
                    setPos({
                        top,
                        height
                    });
                } else {
                    setPos({
                        top: 0,
                        height: 0
                    });
                }
            } else {
                setPos({
                    top: 0,
                    height: 0
                });
            }
        } else {
            setPos({
                top: 0,
                height: 0
            });
        }
    }, [
        selected,
        list
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "tree-view-dimmer",
        style: `top: ${pos.top}px; height: ${pos.height}px;`
    });
}

;// CONCATENATED MODULE: ./src/view/components/ComponentName.tsx


function ComponentName(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("span", {
        class: "component-name-title",
        "data-testid": "inspect-component-name",
        children: props.children ? /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
            children: [
                /*#__PURE__*/ jsxRuntime_module_u("span", {
                    class: "component-name-ch",
                    children: "<"
                }),
                props.children,
                /*#__PURE__*/ jsxRuntime_module_u("span", {
                    class: "component-name-ch",
                    children: ">"
                })
            ]
        }) : "-"
    });
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/SidebarActions.tsx










function SidebarActions() {
    const store = useStore();
    const emit = useEmitter();
    const node = store.nodes.value.get(store.selection.selected.value) || null;
    const log = hooks_module_q(()=>{
        if (node) emit("log", {
            id: node.id,
            children: node.children
        });
    }, [
        node
    ]);
    const inspectHostNode = hooks_module_q(()=>{
        emit("inspect-host-node", null);
    }, []);
    const viewSource = hooks_module_q(()=>{
        if (node) {
            emit("view-source", node.id);
        }
    }, [
        node
    ]);
    const canViewSource = node && node.type !== types_DevNodeType.Group && node.type !== types_DevNodeType.Element;
    const suspense = useComputed(()=>{
        const state = {
            canSuspend: false,
            suspended: false
        };
        if (store.inspectData.value) {
            state.canSuspend = store.inspectData.value.canSuspend;
            state.suspended = store.inspectData.value.suspended;
        }
        return state;
    }).value;
    const onSuspend = hooks_module_q(()=>{
        if (node) {
            emit("suspend", {
                id: node.id,
                active: !suspense.suspended
            });
        }
    }, [
        node,
        suspense
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u(Actions, {
        class: "sidebar-actions",
        children: [
            /*#__PURE__*/ jsxRuntime_module_u(ComponentName, {
                children: node && node.name
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: "sidebar-icon-actions",
                children: node && /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
                    children: [
                        suspense.canSuspend && /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                            title: "Suspend Tree",
                            testId: "suspend-action",
                            active: suspense.suspended,
                            onClick: onSuspend,
                            children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                icon: "suspend-icon"
                            })
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                            title: "Show matching DOM element",
                            onClick: inspectHostNode,
                            children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                icon: "inspect"
                            })
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                            title: "Log internal vnode",
                            onClick: log,
                            children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                icon: "bug"
                            })
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                            title: "View Component Source",
                            onClick: viewSource,
                            disabled: !canViewSource,
                            children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                icon: "code-icon"
                            })
                        })
                    ]
                })
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/inspect/ElementProps.module.css
// extracted by css-extract-rspack-plugin
/* ESM default export */ const ElementProps_module = ({"root":"root-W3wwIU","form":"form-BXwMak","row":"row-fZc0MQ","name":"name-SPWCIB","nameEditable":"nameEditable-XqiqeW","nameInput":"nameInput-Fpw5GN","property":"property-JBQN3e","noCollapse":"noCollapse-Y5Z_b3","toggle":"toggle-sc4rRO","mask":"mask-AODJHB"});
;// CONCATENATED MODULE: ./src/view/components/DataInput/DataInput.module.css
// extracted by css-extract-rspack-plugin
/* ESM default export */ const DataInput_module = ({"valueWrapper":"valueWrapper-IXU_AO","check":"check-ultGYe","withCheck":"withCheck-Se4n_c","valueInput":"valueInput-jVm22p","innerWrapper":"innerWrapper-nhnlMC","undoBtn":"undoBtn-zq8_0v","showUndoBtn":"showUndoBtn-vajPyj","mask":"mask-xGZn98"});
;// CONCATENATED MODULE: ./src/view/components/DataInput/parseValue.ts
function parseValue(v) {
    v = ("" + v).trim();
    switch(v){
        case "true":
        case "false":
            return v === "true";
        case "null":
            return null;
        case "":
        case "undefined":
            return undefined;
        case "NaN":
            return NaN;
        case "Infinity":
        case "+Infinity":
            return Infinity;
        case "-Infinity":
            return -Infinity;
    }
    if (/^["]/.test(v)) {
        if (/["]$/.test(v)) return v.slice(1, v.length - 1);
        throw new TypeError("Invalid input");
    } else if (/^[-+.]?\d*(?:[.]?\d*)$/.test(v)) {
        return Number(v);
    } else if (/^-?\d+n$/.test(v)) {
        return {
            type: "bigint",
            value: v.slice(0, -1)
        };
    } else if (/^\{.*\}$/.test(v) || /^\[.*\]$/.test(v)) {
        try {
            return JSON.parse(v);
        } catch (err) {
            throw new TypeError(err.message);
        }
    }
    throw new TypeError("Unknown type");
}
function isStringifiedVNode(v) {
    return v.startsWith("<") && v.endsWith("/>");
}
const MAX_PREVIEW = 50;
function truncate(s) {
    return s.length > MAX_PREVIEW ? `${s.substr(0, MAX_PREVIEW)}\u{2026}` : s;
}
function genPreview(v) {
    if (v !== null && typeof v === "object") {
        if (v.type === "set") {
            return `Set(${v.entries.length}) ${truncate(genPreview(v.entries))}`;
        } else if (v.type === "map") {
            return `Map(${v.entries.length}) ${truncate(genPreview(v.entries))}`;
        } else if (v.type === "signal") {
            return `\u{192} ${v.name} (${truncate(genPreview(v.value))})`;
        }
        if (Array.isArray(v)) {
            return `[${v.map((x)=>genPreview(x)).join(", ")}]`;
        }
        if (Object.keys(v).length === 2) {
            if (v.type === "vnode") return `<${truncate(v.name)} />`;
            if (v.type === "function") {
                return `\u{192} ${v.name === "anonymous" ? "" : truncate(v.name)}()`;
            }
            if (v.type === "blob") return "Blob {}";
            if (v.type === "symbol") return v.name;
            if (v.type === "html") return v.name;
            if (v.type === "bigint") return `${v.value}n`;
        }
        const obj = Object.entries(v).map((x)=>{
            return `${x[0]}: ${genPreview(x[1])}`;
        });
        return `{${obj.join(", ")}}`;
    }
    if (typeof v === "string") {
        if (v === "__preact_empty__") return "";
        if (v === "[[Circular]]") return v;
        return `"${truncate(v)}"`;
    }
    return truncate("" + v);
}

;// CONCATENATED MODULE: ./src/debug.ts
/**
 * Will be tree-shaken out in prod builds
 */ function debug() {
    for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
        args[_key] = arguments[_key];
    }
    if (false) {}
}

;// CONCATENATED MODULE: ./src/view/components/DataInput/index.tsx






function DataInput(param) {
    let { value, onChange, name, onCommit, onReset, showReset, ...props } = param;
    const [focus, setFocus] = hooks_module_d(false);
    const valid = hooks_module_T(()=>{
        try {
            parseValue(value);
            return true;
        } catch (err) {
            return false;
        }
    }, [
        value
    ]);
    const type = hooks_module_T(()=>{
        try {
            const parsed = parseValue(value);
            if (parsed === null) return "null";
            else if (Array.isArray(parsed)) return "array";
            else if (parsed.type === "map") return "map";
            else if (parsed.type === "set") return "set";
            return typeof parsed;
        } catch (err) {
            return "undefined";
        }
    }, [
        value
    ]);
    const ref = hooks_module_A(null);
    hooks_module_T(()=>{
        if (ref.current) {
            ref.current.setCustomValidity(valid ? "" : "Invalid input value");
        }
    }, [
        ref.current,
        valid
    ]);
    const onKeyUp = hooks_module_q((e)=>{
        let parsed;
        try {
            parsed = parseValue(value);
        } catch (err) {
            debug(err);
            return;
        }
        if (e.key === "Enter") {
            onCommit(parsed);
        } else {
            if (typeof parsed === "number") {
                if (e.key === "ArrowUp") {
                    onChange(String(parsed + 1));
                } else if (e.key === "ArrowDown") {
                    onChange(String(parsed - 1));
                }
            }
        }
    }, [
        onChange,
        value,
        onCommit
    ]);
    const onInput = hooks_module_q((e)=>{
        onChange(e.target.value);
    }, [
        onChange
    ]);
    const onCheckboxChange = hooks_module_q((e)=>{
        onChange(e.target.checked);
    }, [
        onChange
    ]);
    const onFocus = hooks_module_q(()=>setFocus(true), []);
    const onBlur = hooks_module_q(()=>setFocus(false), []);
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: DataInput_module.valueWrapper,
        children: [
            typeof value === "boolean" && !focus && /*#__PURE__*/ jsxRuntime_module_u("input", {
                class: DataInput_module.check,
                type: "checkbox",
                checked: value,
                onInput: onCheckboxChange
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: `${DataInput_module.innerWrapper} ${typeof value === "boolean" ? DataInput_module.withCheck : ""}`,
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u("input", {
                        type: "text",
                        ref: ref,
                        class: `${DataInput_module.valueInput} ${props.class || ""} ${focus ? DataInput_module.focus : ""}`,
                        value: value === undefined ? "" : value,
                        onKeyUp: onKeyUp,
                        onInput: onInput,
                        onFocus: onFocus,
                        onBlur: onBlur,
                        placeholder: props.placeholder,
                        "data-type": type,
                        name: name,
                        autoComplete: "off"
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("button", {
                        class: `${DataInput_module.undoBtn} ${showReset ? DataInput_module.showUndoBtn : ""}`,
                        type: "button",
                        onClick: onReset,
                        "data-testid": showReset ? "undo-btn" : "undo-btn-hidden",
                        children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                            icon: "undo"
                        })
                    })
                ]
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/inspect/ElementProps.tsx








function ElementProps(props) {
    const { onChange, uncollapsed, items, onCollapse } = props;
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: ElementProps_module.root,
        children: /*#__PURE__*/ jsxRuntime_module_u("form", {
            class: ElementProps_module.form,
            onSubmit: (e)=>e.preventDefault(),
            children: items.map((item)=>{
                const id = item.id;
                return /*#__PURE__*/ jsxRuntime_module_u(SingleItem, {
                    id: id,
                    type: item.type,
                    name: item.name,
                    collapseable: item.children.length > 0,
                    collapsed: props_isCollapsed(uncollapsed, id),
                    onCollapse: ()=>onCollapse && onCollapse(id),
                    editable: item.editable,
                    value: item.value,
                    onChange: (v)=>onChange && onChange(v, id, item),
                    depth: item.depth,
                    index: item.index
                }, id);
            })
        })
    });
}
function SingleItem(props) {
    const { id, onChange, editable = false, name, type, collapseable = false, collapsed = false, depth, onCollapse, value: initial } = props;
    const [value, setValue] = hooks_module_d(initial);
    hooks_module_(()=>{
        setValue(genPreview(initial));
    }, [
        initial
    ]);
    const onCommit = hooks_module_q((v)=>{
        if (onChange) onChange(v);
    }, [
        onChange
    ]);
    const onChangeValue = hooks_module_q((v)=>{
        setValue(v);
    }, []);
    const onReset = hooks_module_q(()=>{
        setValue(initial);
    }, [
        initial
    ]);
    const onClick = hooks_module_q(()=>{
        onCollapse && onCollapse(id);
    }, [
        onCollapse,
        id
    ]);
    const preview = hooks_module_T(()=>genPreview(initial), [
        initial
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: ElementProps_module.row,
        "data-testid": "props-row",
        "data-depth": depth,
        style: `padding-left: calc(var(--indent-depth) * ${depth - 1})`,
        children: [
            collapseable && /*#__PURE__*/ jsxRuntime_module_u("button", {
                class: ElementProps_module.toggle,
                type: "button",
                "data-collapsed": collapsed,
                onClick: onClick,
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u(Arrow, {}),
                    props.index !== undefined && /*#__PURE__*/ jsxRuntime_module_u("span", {
                        class: "hook-number",
                        children: props.index + 1
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("span", {
                        class: `${ElementProps_module.name} ${ElementProps_module.nameEditable}`,
                        "data-testid": "prop-name",
                        "data-type": initial !== "__preact_empty__" ? type : "empty",
                        children: name
                    }),
                    initial !== "__preact_empty__" && /*#__PURE__*/ jsxRuntime_module_u("span", {
                        class: ElementProps_module.property,
                        "data-testid": "prop-value",
                        children: /*#__PURE__*/ jsxRuntime_module_u("span", {
                            class: ElementProps_module.mask,
                            children: preview
                        })
                    })
                ]
            }),
            !collapseable && /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
                children: [
                    props.index !== undefined && /*#__PURE__*/ jsxRuntime_module_u("span", {
                        class: ElementProps_module.noCollapse,
                        children: /*#__PURE__*/ jsxRuntime_module_u("span", {
                            class: "hook-number",
                            children: props.index + 1
                        })
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("span", {
                        class: `${ElementProps_module.name} ${props.index === undefined ? ElementProps_module.noCollapse : ""} ${ElementProps_module.nameStatic} ${editable ? ElementProps_module.nameEditable : ""}`,
                        "data-testid": "prop-name",
                        "data-type": value !== "__preact_empty__" ? type : "empty",
                        children: name
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: ElementProps_module.property,
                        "data-testid": "prop-value",
                        children: value !== "__preact_empty__" && /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
                            children: editable ? /*#__PURE__*/ jsxRuntime_module_u(DataInput, {
                                value: value,
                                onReset: onReset,
                                onCommit: onCommit,
                                showReset: value !== preview,
                                onChange: onChangeValue,
                                name: `${id}`
                            }) : /*#__PURE__*/ jsxRuntime_module_u("div", {
                                class: ElementProps_module.mask,
                                children: preview
                            })
                        })
                    })
                ]
            })
        ]
    }, id);
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/SidebarPanel.tsx



function SidebarPanel(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "sidebar-panel",
        "data-testid": props.testId,
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("header", {
                class: "sidebar-panel-header",
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u("h3", {
                        class: "sidebar-panel-title",
                        children: props.title
                    }),
                    props.onCopy && props.children != null && /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                        onClick: props.onCopy,
                        title: `Copy ${props.title}`,
                        children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                            icon: "file-copy"
                        })
                    })
                ]
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: "sidebar-panel-content",
                children: props.children
            })
        ]
    });
}
function Empty(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("span", {
        class: "sidebar-panel-placeholder",
        children: props.children
    });
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/inspect/NewProp.tsx




const NewProp_initial = undefined;
function NewProp(props) {
    const [name, setName] = hooks_module_d("");
    const [value, setValue] = hooks_module_d(NewProp_initial);
    const onChangeName = hooks_module_q((e)=>{
        setName(e.target.value);
    }, []);
    const onReset = hooks_module_q(()=>{
        setValue(NewProp_initial);
    }, []);
    const onChangeValue = hooks_module_q((v)=>{
        setValue(v);
    }, []);
    const onCommit = hooks_module_q((value)=>{
        if (name) {
            props.onChange(value, "." + name);
            setName("");
            setValue(NewProp_initial);
        }
    }, [
        name,
        props.onChange
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "newprop-root",
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: `${ElementProps_module.name} newprop-namewrapper`,
                children: /*#__PURE__*/ jsxRuntime_module_u("input", {
                    name: "new-prop-name",
                    type: "text",
                    placeholder: "new prop",
                    class: `${ElementProps_module.nameInput} newprop-name`,
                    value: name,
                    onInput: onChangeName
                })
            }),
            /*#__PURE__*/ jsxRuntime_module_u(DataInput, {
                class: "newprop-value",
                value: value,
                showReset: NewProp_initial !== value,
                onChange: onChangeValue,
                onCommit: onCommit,
                onReset: onReset,
                placeholder: "new value",
                name: "new-prop-value"
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/Message/Message.tsx

const infoIcon = /*#__PURE__*/ jsxRuntime_module_u("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    height: "24",
    viewBox: "0 0 24 24",
    width: "24",
    children: [
        /*#__PURE__*/ jsxRuntime_module_u("path", {
            d: "M0 0h24v24H0z",
            fill: "none"
        }),
        /*#__PURE__*/ jsxRuntime_module_u("path", {
            d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z",
            fill: "currentColor"
        })
    ]
});
const warnIcon = /*#__PURE__*/ jsxRuntime_module_u("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    height: "24",
    viewBox: "0 0 24 24",
    width: "24",
    children: [
        /*#__PURE__*/ jsxRuntime_module_u("path", {
            d: "M0 0h24v24H0z",
            fill: "none"
        }),
        /*#__PURE__*/ jsxRuntime_module_u("path", {
            d: "M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",
            fill: "currentColor"
        })
    ]
});
function Message(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "message",
        "data-type": props.type,
        "data-testid": props.testId,
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("span", {
                class: "message-icon",
                children: props.type === "info" ? infoIcon : warnIcon
            }),
            props.children
        ]
    });
}
function MessageBtn(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("button", {
        class: "message-btn",
        onClick: props.onClick,
        "data-testid": props.testId,
        children: props.children
    });
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/inspect/PropsPanel.tsx







function PropsPanel(props) {
    const { label, onCopy, onChange, canAddNew } = props;
    const uncollapsed = props.uncollapsed.value;
    const items = props.items.value;
    const store = useStore();
    const isSupported = store.supports.hooks.value;
    return /*#__PURE__*/ jsxRuntime_module_u(SidebarPanel, {
        title: label,
        onCopy: onCopy,
        testId: label,
        children: items.length ? /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
            children: [
                /*#__PURE__*/ jsxRuntime_module_u(ElementProps, {
                    uncollapsed: uncollapsed,
                    items: items,
                    onChange: onChange,
                    onCollapse: (id)=>{
                        const idx = props.uncollapsed.value.indexOf(id);
                        const v = props.uncollapsed.value;
                        idx > -1 ? v.splice(idx, 1) : v.push(id);
                        props.uncollapsed.value = v.slice();
                    }
                }),
                canAddNew && /*#__PURE__*/ jsxRuntime_module_u(NewProp, {
                    onChange: (v, path)=>onChange(v, path, null)
                })
            ]
        }) : !isSupported && label === "Hooks" ? /*#__PURE__*/ jsxRuntime_module_u(Message, {
            type: "warning",
            testId: "no-hooks-support-warning",
            children: "Please upgrade to Preact >=10.4.1 to enable hooks inspection."
        }) : /*#__PURE__*/ jsxRuntime_module_u(Empty, {
            children: "None"
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/inspect/serializeProps.ts
function serializeProps(value) {
    if (Array.isArray(value)) {
        return value.map(serializeProps);
    } else if (value !== null && typeof value === "object" && Object.keys(value).length === 2 && "type" in value && typeof value.type === "string") {
        if ("name" in value && typeof value.name === "string") {
            if (value.type === "function") {
                return value.name + "()";
            } else if (value.type === "vnode") {
                return `<${value.name} />`;
            }
        } else if ("value" in value && typeof value.value === "string" && value.type === "bigint") {
            return `${value.value}n`;
        }
    }
    return value;
}
function serializeProps_isSerializedBigint(value) {
    return typeof value === "object" && value !== null && Object.keys(value).length === 2 && "type" in value && // @ts-ignore can remove after TypeScript 4.9.x: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-9.html#unlisted-property-narrowing-with-the-in-operator
    value.type === "bigint" && "value" in value && // @ts-ignore can remove after TypeScript 4.9.x: https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-9.html#unlisted-property-narrowing-with-the-in-operator
    typeof value.value === "string";
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/DebugTreeStats.tsx



function DebugTreeStats() {
    const store = useStore();
    const nodeList = store.nodeList.value;
    return /*#__PURE__*/ jsxRuntime_module_u(SidebarPanel, {
        title: "Debug Tree Stats",
        testId: "tree-debug-stats",
        children: /*#__PURE__*/ jsxRuntime_module_u("div", {
            style: "padding-left: 0.35rem",
            children: /*#__PURE__*/ jsxRuntime_module_u("dl", {
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u("dt", {
                        children: "Active displayed node count"
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("dd", {
                        children: nodeList.length
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("dt", {
                        children: "Selected node index"
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("dd", {
                        children: store.selection.selectedIdx.value
                    })
                ]
            })
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/DebugNodeNavTree.tsx



function DebugNodeNavTree() {
    const store = useStore();
    const selected = store.selection.selected.value;
    const nodes = store.nodeList.value.map((id)=>store.nodes.value.get(id));
    return /*#__PURE__*/ jsxRuntime_module_u(SidebarPanel, {
        title: "Debug Node Navigation:",
        testId: "profiler-debug-nav",
        children: nodes.length === 0 ? /*#__PURE__*/ jsxRuntime_module_u(Empty, {
            children: "No nodes found inside commit"
        }) : /*#__PURE__*/ jsxRuntime_module_u("nav", {
            "data-testid": "debug-nav",
            children: nodes.map((node, i)=>{
                return /*#__PURE__*/ jsxRuntime_module_u("button", {
                    class: "rendered-at-item",
                    "data-active": selected === node.id,
                    onClick: ()=>store.profiler.selectedNodeId.value = node.id,
                    children: /*#__PURE__*/ jsxRuntime_module_u("span", {
                        style: "display: flex; justify-content: space-between; width: 100%",
                        children: [
                            /*#__PURE__*/ jsxRuntime_module_u("span", {
                                children: [
                                    node.name,
                                    i === 0 ? /*#__PURE__*/ jsxRuntime_module_u("b", {
                                        children: "(R)"
                                    }) : null
                                ]
                            }),
                            /*#__PURE__*/ jsxRuntime_module_u("span", {
                                children: node.id
                            })
                        ]
                    })
                }, node.id);
            })
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/utils/getPathToSource.ts
/**
 * @param {Source} source
 * @param {PathModifier} [pathModifier]
 */ function getPathToSource(source, pathModifier) {
    const { // It _does_ exist!
    // @ts-ignore Property 'columnNumber' does not exist on type 'Source'.ts(2339)
    columnNumber = 1, fileName, lineNumber = 1 } = source;
    let path = `${fileName}:${lineNumber}:${columnNumber}`;
    if (pathModifier) {
        path = pathModifier(path);
    }
    return path;
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/utils/getUrl.ts
function getUrl(param) {
    let { editor, pathToSource } = param;
    // Fix https://github.com/microsoft/vscode/issues/197319
    if (pathToSource[0] === "/") {
        return `${editor}://file${pathToSource}`;
    }
    return `${editor}://file/${pathToSource}`;
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/ClickToComponent.tsx



const ClickToComponent = (param)=>{
    let { source } = param;
    if (!source) return null;
    const path = getPathToSource(source);
    // TODO: should we support vscode-insiders and cursor as click-to-component does? https://github.com/ericclemmons/click-to-component/pull/88/files
    const editor = "vscode";
    const url = getUrl({
        editor,
        pathToSource: path
    });
    return /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                style: {
                    fontSize: "12px",
                    marginTop: "1rem"
                },
                children: "source location"
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                style: {
                    marginTop: "0.25rem",
                    marginLeft: "1rem"
                },
                children: /*#__PURE__*/ jsxRuntime_module_u("a", {
                    style: {
                        textDecoration: "none",
                        marginRight: "0.25rem",
                        color: "var(--color-element-text)",
                        cursor: "pointer",
                        wordWrap: "break-word",
                        fontSize: "12px"
                    },
                    onClick: (e)=>{
                        e.preventDefault();
                        window.location.assign(url);
                    },
                    children: path
                })
            })
        ]
    });
};

;// CONCATENATED MODULE: ./src/view/components/elements/OwnerInfo.tsx





function OwnerInfo() {
    var _store_inspectData_value, _store_inspectData_value1;
    const store = useStore();
    const selectedId = store.selection.selected.value;
    const data = useComputed(()=>{
        const owners = [];
        const selectedId = store.selection.selected.value;
        const nodes = store.nodes.value;
        let id = selectedId;
        let current;
        while((current = nodes.get(id)) !== undefined){
            if (!nodes.has(current.owner)) {
                break;
            }
            owners.push(nodes.get(current.owner));
            id = current.owner;
        }
        return owners;
    }).value;
    if (selectedId === -1) {
        return null;
    }
    return /*#__PURE__*/ jsxRuntime_module_u(SidebarPanel, {
        title: "Rendered by",
        children: /*#__PURE__*/ jsxRuntime_module_u("div", {
            class: "rendered-by-wrapper",
            children: [
                /*#__PURE__*/ jsxRuntime_module_u("nav", {
                    "data-testid": "owners",
                    children: data.map((node)=>{
                        return /*#__PURE__*/ jsxRuntime_module_u("button", {
                            class: "rendered-at-item",
                            "data-active": selectedId === node.id,
                            onClick: ()=>{
                                store.selection.selectById(node.id);
                            },
                            children: node.name
                        }, node.id);
                    })
                }),
                /*#__PURE__*/ jsxRuntime_module_u("p", {
                    class: "sidebar-preact-version",
                    children: [
                        "Preact@",
                        ((_store_inspectData_value = store.inspectData.value) === null || _store_inspectData_value === void 0 ? void 0 : _store_inspectData_value.version) || ""
                    ]
                }),
                /*#__PURE__*/ jsxRuntime_module_u(ClickToComponent, {
                    source: (_store_inspectData_value1 = store.inspectData.value) === null || _store_inspectData_value1 === void 0 ? void 0 : _store_inspectData_value1.__source
                })
            ]
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/KeyPanel.tsx


function KeyPanel(props) {
    return /*#__PURE__*/ jsxRuntime_module_u(SidebarPanel, {
        title: "Key",
        testId: "key-panel",
        onCopy: props.onCopy,
        children: /*#__PURE__*/ jsxRuntime_module_u("span", {
            class: "keypanel-value",
            "data-testid": "vnode-key",
            children: props.value
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/sidebar/Sidebar.tsx











function Sidebar() {
    const store = useStore();
    const showDebug = store.debugMode.value;
    const inspect = store.inspectData.value;
    const hocs = useComputed(()=>{
        if (store.inspectData.value) {
            const node = store.nodes.value.get(store.inspectData.value.id);
            return node ? node.hocs : null;
        }
        return null;
    }).value;
    const { props: propData, state, context, hooks, signals } = store.sidebar;
    const { emit } = store;
    return /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
        children: [
            inspect && inspect.key !== null && /*#__PURE__*/ jsxRuntime_module_u(KeyPanel, {
                value: inspect.key,
                onCopy: ()=>emit("copy", inspect.key)
            }),
            inspect && hocs !== null && hocs.length > 0 && /*#__PURE__*/ jsxRuntime_module_u(HocPanel, {
                hocs: hocs
            }),
            /*#__PURE__*/ jsxRuntime_module_u(PropsPanel, {
                label: "Props",
                items: propData.items,
                uncollapsed: propData.uncollapsed,
                onChange: (value, path)=>emit("update-prop", {
                        id: inspect.id,
                        path,
                        value
                    }),
                onCopy: ()=>inspect && emit("copy", serializeProps(inspect.props)),
                canAddNew: true
            }),
            inspect && inspect.signals !== null && /*#__PURE__*/ jsxRuntime_module_u(PropsPanel, {
                label: "Signals",
                items: signals.items,
                uncollapsed: signals.uncollapsed,
                onChange: (value, path)=>{
                    emit("update-signal", {
                        id: inspect.id,
                        path,
                        value
                    });
                }
            }),
            inspect && inspect.hooks !== null && /*#__PURE__*/ jsxRuntime_module_u(PropsPanel, {
                label: "Hooks",
                items: hooks.items,
                uncollapsed: hooks.uncollapsed,
                onChange: (value, path, node)=>{
                    emit("update-hook", {
                        id: inspect.id,
                        value,
                        meta: node != null ? node.meta : null
                    });
                },
                onCopy: ()=>inspect && emit("copy", serializeProps(inspect.hooks))
            }),
            inspect && inspect.state !== null && /*#__PURE__*/ jsxRuntime_module_u(PropsPanel, {
                label: "State",
                items: state.items,
                uncollapsed: state.uncollapsed,
                onChange: (value, path)=>emit("update-state", {
                        id: inspect.id,
                        path,
                        value
                    }),
                onCopy: ()=>inspect && emit("copy", serializeProps(inspect.state))
            }),
            inspect && inspect.context !== null && /*#__PURE__*/ jsxRuntime_module_u(PropsPanel, {
                label: "Context",
                items: context.items,
                uncollapsed: context.uncollapsed,
                onChange: (value, path)=>emit("update-context", {
                        id: inspect.id,
                        path,
                        value
                    }),
                onCopy: ()=>inspect && emit("copy", serializeProps(inspect.context))
            }),
            inspect && /*#__PURE__*/ jsxRuntime_module_u(OwnerInfo, {}),
            showDebug && /*#__PURE__*/ jsxRuntime_module_u(DebugTreeStats, {}),
            showDebug && /*#__PURE__*/ jsxRuntime_module_u(DebugNodeNavTree, {})
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/Devtools.module.css
// extracted by css-extract-rspack-plugin
/* ESM default export */ const Devtools_module = ({"root":"root-I4YC6u","theme":"theme-Q21hsy","switcher":"switcher-qZj76Q","switcherInner":"switcherInner-h5uLGt","bugLink":"bugLink-X4leex","componentActions":"componentActions-vLn1lj","components":"components-YyNm1_","sidebarActions":"sidebarActions-gysJBv","sidebar":"sidebar-elnvJw"});
;// CONCATENATED MODULE: ./src/view/components/SidebarLayout.tsx

function SidebarLayout(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "sidebar-layout",
        children: props.children
    });
}
function SingleLayout(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "sidebar-layout-single",
        children: props.children
    });
}
function PageLayout(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "sidebar-layout-root",
        children: /*#__PURE__*/ jsxRuntime_module_u("div", {
            class: "sidebar-layout-inner",
            children: props.children
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/elements/Elements.tsx







function Elements() {
    return /*#__PURE__*/ jsxRuntime_module_u(SidebarLayout, {
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: Devtools_module.componentActions,
                children: /*#__PURE__*/ jsxRuntime_module_u(TreeBar, {})
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: Devtools_module.components,
                children: /*#__PURE__*/ jsxRuntime_module_u(TreeView, {})
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: Devtools_module.sidebarActions,
                children: /*#__PURE__*/ jsxRuntime_module_u(SidebarActions, {})
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: Devtools_module.sidebar,
                children: /*#__PURE__*/ jsxRuntime_module_u(Sidebar, {})
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/ThemeSwitcher.tsx



function ThemeSwitcher() {
    const store = useStore();
    let theme = store.theme.value;
    if (theme === "auto") {
        theme = matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
    }
    const ref = hooks_module_A(null);
    hooks_module_y(()=>{
        if (ref.current) {
            const doc = ref.current.ownerDocument;
            doc.body.classList.remove("auto", "light", "dark");
            doc.body.classList.add(theme);
        }
    }, [
        theme,
        ref.current
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        ref: ref,
        style: "display: none"
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/components/CommitTimeline/CommitTimeline.tsx





function calcSize(container, inner, pane, paneContainer, count, selected) {
    if (container.current && inner.current && paneContainer.current && pane.current) {
        if (count > 0) {
            const org = paneContainer.current.style.width;
            paneContainer.current.style.width = "0";
            const style = window.getComputedStyle(pane.current.firstElementChild);
            const min = +style.getPropertyValue("min-width").replace("px", "");
            const max = +style.getPropertyValue("max-width").replace("px", "");
            const sibling = pane.current.firstElementChild ? pane.current.firstElementChild.nextElementSibling : null;
            const gap = sibling ? +window.getComputedStyle(sibling).getPropertyValue("margin-left").replace("px", "") : 0;
            const full = container.current.offsetWidth;
            const ui = inner.current.offsetWidth;
            const available = full - ui - 1; // -1 to prevent layout glitch in chrome
            const itemWidth = Math.max(min, Math.min(Math.floor(available - (count - 1) * gap) / count, max));
            const paneWidth = itemWidth * count + (count - 1) * gap;
            const viewport = available > paneWidth ? paneWidth : available;
            const selOffset = itemWidth * (selected + 1) + selected * gap;
            const offset = selOffset > viewport ? Math.min(viewport - selOffset - (selected < count - 1 ? itemWidth / 2 : 0), paneWidth - viewport) : 0;
            paneContainer.current.style.width = org;
            return {
                item: itemWidth,
                pane: paneWidth,
                viewport,
                offset
            };
        }
    }
    return {
        viewport: 0,
        pane: 0,
        item: 0,
        offset: 0
    };
}
function CommitTimeline(props) {
    const { items, onChange, selected } = props;
    const [viewportWidth, setViewportWidth] = hooks_module_d(0);
    const [paneWidth, setPaneWidth] = hooks_module_d(0);
    const [offset, setOffset] = hooks_module_d(0);
    const container = hooks_module_A(null);
    const inner = hooks_module_A(null);
    const pane = hooks_module_A(null);
    const paneContainerRef = hooks_module_A(null);
    const selectedItemIndex = items.findIndex((item)=>item.index === selected);
    hooks_module_y(()=>{
        if (pane.current) {
            const active = pane.current.querySelector('[data-selected="true"]');
            // JSDOM doesn't support scrollIntoView
            if (active && active.scrollIntoView) active.scrollIntoView();
        }
    }, [
        selectedItemIndex
    ]);
    useResize(()=>{
        const sizes = calcSize(container, inner, pane, paneContainerRef, items.length, selectedItemIndex);
        setPaneWidth(sizes.pane);
        setViewportWidth(sizes.viewport);
        setOffset(sizes.offset);
    }, [
        pane,
        container,
        paneContainerRef,
        inner,
        items.length,
        selectedItemIndex
    ], true);
    const onPrev = hooks_module_q(()=>{
        const next = selectedItemIndex - 1;
        const nextWrapped = next < 0 ? items.length - 1 : next;
        onChange(items[nextWrapped].index);
    }, [
        selectedItemIndex
    ]);
    const onNext = hooks_module_q(()=>{
        const next = selectedItemIndex + 1;
        const nextWrapped = next > items.length - 1 ? 0 : next;
        onChange(items[nextWrapped].index);
    }, [
        selectedItemIndex
    ]);
    if (items.length === 0) {
        // Useful just for layout purposes
        return /*#__PURE__*/ jsxRuntime_module_u("div", {
            class: "commit-timeline"
        });
    }
    const selectedCount = "" + (selectedItemIndex + 1);
    const itemsCountLen = ("" + items.length).length;
    const leading = selectedCount.padStart(itemsCountLen, "0");
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "commit-timeline",
        ref: container,
        children: /*#__PURE__*/ jsxRuntime_module_u("div", {
            class: "commit-timeline-inner",
            ref: inner,
            children: [
                /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: "commit-timeline-legend",
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u("span", {
                            class: "commit-timeline-hidden",
                            children: leading.slice(0, itemsCountLen - selectedCount.length)
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("span", {
                            "data-testid": "commit-page-info",
                            children: [
                                selectedItemIndex + 1,
                                " / ",
                                items.length
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ jsxRuntime_module_u("button", {
                    disabled: items.length <= 1,
                    onClick: onPrev,
                    class: "commit-time-line-nav-btn",
                    "data-testid": "prev-commit",
                    children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                        icon: "arrow-back"
                    })
                }),
                /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: "commit-timeline-item-container",
                    ref: paneContainerRef,
                    style: `width: ${viewportWidth}px`,
                    children: /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: "commit-timeline-items",
                        ref: pane,
                        style: `width: ${paneWidth}px; transform: translate3d(${offset}px, 0, 0);`,
                        children: items.map((x)=>{
                            return /*#__PURE__*/ jsxRuntime_module_u(CommitItem, {
                                onClick: ()=>onChange(x.index),
                                selected: x.index === selected,
                                percent: x.percent
                            }, x.index);
                        })
                    })
                }),
                /*#__PURE__*/ jsxRuntime_module_u("button", {
                    disabled: items.length <= 1,
                    onClick: onNext,
                    class: "commit-time-line-nav-btn",
                    "data-testid": "next-commit",
                    children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                        icon: "arrow-forward"
                    })
                })
            ]
        })
    });
}
function CommitItem(props) {
    const { percent } = props;
    const top = Math.max(20, Math.min(86, 100 - percent));
    const color = getGradient(100, percent);
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        "data-testid": "commit-item",
        class: "commit-timeline-item",
        "data-selected": props.selected,
        "data-weight": color,
        onClick: props.onClick,
        children: /*#__PURE__*/ jsxRuntime_module_u("div", {
            class: "commit-timeline-item-inner",
            style: `top: ${top}%`
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/components/Tabs/Tabs.tsx


function SmallTab(props) {
    const onClick = hooks_module_q(()=>{
        props.onClick(props.value);
    }, [
        props
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u("label", {
        class: "tab",
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("input", {
                class: "tab-input",
                type: "radio",
                name: props.name,
                value: props.value,
                checked: props.checked,
                onClick: onClick
            }),
            /*#__PURE__*/ jsxRuntime_module_u("span", {
                class: "tab-title",
                children: props.children
            })
        ]
    });
}
function SmallTabGroup(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: `tab-group ${props.class || ""}`,
        children: props.children
    });
}
function IconTab(props) {
    const onClick = hooks_module_q(()=>{
        props.onClick(props.value);
    }, [
        props
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u("label", {
        class: "tab-icon-wrapper",
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("input", {
                class: "tab-input",
                type: "radio",
                name: props.name,
                value: props.value,
                checked: props.checked,
                onClick: onClick,
                disabled: props.disabled
            }),
            /*#__PURE__*/ jsxRuntime_module_u("span", {
                class: "tab-icon-inner",
                children: [
                    props.icon,
                    /*#__PURE__*/ jsxRuntime_module_u("span", {
                        class: "tab-icon-label",
                        children: props.children
                    })
                ]
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/flamegraph/FlameGraphMode.tsx







function FlameGraphMode() {
    const store = useStore();
    const type = store.profiler.flamegraphType.value;
    const disabled = !store.profiler.isSupported.value;
    const onClick = hooks_module_q((value)=>{
        const profiler = store.profiler;
        profiler.flamegraphType.value = value;
        profiler.selectedNodeId.value = profiler.activeCommit.value ? getCommitInitialSelectNodeId(profiler.activeCommit.value, profiler.flamegraphType.value) : -1;
    }, []);
    return /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
        children: [
            /*#__PURE__*/ jsxRuntime_module_u(IconTab, {
                name: "flamegraph_mode",
                icon: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                    icon: "fire-icon"
                }),
                value: commits_FlamegraphType.FLAMEGRAPH,
                checked: type === commits_FlamegraphType.FLAMEGRAPH,
                onClick: onClick,
                disabled: disabled,
                children: "Flamegraph"
            }),
            /*#__PURE__*/ jsxRuntime_module_u(IconTab, {
                name: "flamegraph_mode",
                icon: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                    icon: "sort-icon"
                }),
                value: commits_FlamegraphType.RANKED,
                checked: type === commits_FlamegraphType.RANKED,
                onClick: onClick,
                disabled: disabled,
                children: "Ranked"
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/components/TimelineBar/TimelineBar.module.css
// extracted by css-extract-rspack-plugin
/* ESM default export */ const TimelineBar_module = ({"filterPopup":"filterPopup-ZTtOMe","timelineActions":"timelineActions-Di5f6S","timelineCommitsEmpty":"timelineCommitsEmpty-dd4FOa"});
;// CONCATENATED MODULE: ./src/view/components/profiler/components/TimelineBar/TimelineBar.tsx















function TimelineBar() {
    const store = useStore();
    const commits = store.profiler.commits.value;
    const filteredCommits = store.profiler.filteredCommits.value;
    const isRecording = store.profiler.isRecording.value;
    const isSupported = store.profiler.isSupported.value;
    const selectedCommit = store.profiler.activeCommitIdx.value;
    const [filterVisible, setFilterVisible] = hooks_module_d(false);
    const stats = useComputed(()=>{
        return {
            max: Math.max(16, ...store.profiler.commits.value.map((x)=>x.duration)),
            min: Math.max(0, Math.min(...store.profiler.commits.value.map((x)=>x.duration)))
        };
    }).value;
    const onCommitChange = hooks_module_q((n)=>{
        const { activeCommitIdx, selectedNodeId, activeCommit, flamegraphType } = store.profiler;
        activeCommitIdx.value = n;
        const commit = activeCommit.value;
        if (!commit) return;
        selectedNodeId.value = getCommitInitialSelectNodeId(commit, flamegraphType.value);
    }, [
        store
    ]);
    const onReloadAndProfile = hooks_module_q(()=>{
        startProfiling(store.profiler);
        store.emit("reload-and-profile", {
            captureRenderReasons: store.profiler.captureRenderReasons.value
        });
    }, []);
    const onReset = hooks_module_q(()=>{
        resetProfiler(store.profiler);
        store.emit("stop-profiling", null);
    }, [
        store
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u(Actions, {
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: TreeBar_module.btnWrapper,
                children: /*#__PURE__*/ jsxRuntime_module_u(RecordBtn, {})
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: TreeBar_module.btnWrapper,
                children: /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                    title: "Reload and profile",
                    disabled: !isSupported || isRecording,
                    testId: "reload-and-profile-btn",
                    onClick: onReloadAndProfile,
                    children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                        icon: "refresh"
                    })
                })
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: TreeBar_module.btnWrapper,
                children: /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                    title: "Clear profiling data",
                    disabled: !isSupported || commits.length === 0 || isRecording,
                    onClick: onReset,
                    children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                        icon: "not-interested"
                    })
                })
            }),
            /*#__PURE__*/ jsxRuntime_module_u(ActionSeparator, {}),
            /*#__PURE__*/ jsxRuntime_module_u(FlameGraphMode, {}),
            /*#__PURE__*/ jsxRuntime_module_u(ActionSeparator, {}),
            isSupported && !isRecording && /*#__PURE__*/ jsxRuntime_module_u(CommitTimeline, {
                items: filteredCommits.map((commit)=>{
                    const percent = (commit.duration - stats.min) * 100 / (stats.max - stats.min || 0.1);
                    return {
                        percent,
                        index: commit.index
                    };
                }),
                selected: selectedCommit,
                onChange: onCommitChange
            }),
            filteredCommits.length === 0 && commits.length > 0 && /*#__PURE__*/ jsxRuntime_module_u("span", {
                class: TimelineBar_module.timelineCommitsEmpty,
                children: [
                    commits.length,
                    " commits hidden"
                ]
            }),
            isSupported && !isRecording && commits.length !== 0 && /*#__PURE__*/ jsxRuntime_module_u(OutsideClick, {
                onClick: ()=>setFilterVisible(false),
                class: FilterPopup_module.filterBtnWrapper,
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                        title: "Filter Commits",
                        active: filterVisible,
                        testId: "filter-menu-button",
                        onClick: ()=>setFilterVisible(!filterVisible),
                        children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                            icon: "filter-list"
                        })
                    }),
                    filterVisible && /*#__PURE__*/ jsxRuntime_module_u(TimelineFilterPopup, {})
                ]
            })
        ]
    });
}
function TimelineFilterPopup() {
    const store = useStore();
    const [filterCommitsUnder, setFilterCommitsUnder] = hooks_module_d(store.profiler.filterCommitsUnder.value);
    return /*#__PURE__*/ jsxRuntime_module_u(FilterPopup, {
        className: TimelineBar_module.filterPopup,
        onFiltersSubmit: ()=>{
            var _;
            store.profiler.filterCommitsUnder.value = filterCommitsUnder ? filterCommitsUnder : false;
            store.profiler.activeCommitIdx.value = ((_ = (store.profiler.filteredCommits.value ?? [])[0]) === null || _ === void 0 ? void 0 : _.index) ?? 0;
        },
        children: /*#__PURE__*/ jsxRuntime_module_u(FilterNumber, {
            value: filterCommitsUnder,
            label: "Hide commits under",
            units: "ms",
            onInput: (value)=>{
                setFilterCommitsUnder(value);
            },
            defaultValue: 0
        })
    });
}
function RecordBtn() {
    const store = useStore();
    const isRecording = store.profiler.isRecording.value;
    const isSupported = store.profiler.isSupported.value;
    const onClick = hooks_module_q(()=>{
        const { isRecording, captureRenderReasons } = store.profiler;
        if (!isRecording.value) {
            startProfiling(store.profiler);
            store.emit("start-profiling", {
                captureRenderReasons: captureRenderReasons.value
            });
        } else {
            stopProfiling(store.profiler);
            store.emit("stop-profiling", null);
        }
    }, [
        store
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
        title: !isRecording ? "Start Recording" : "Stop Recording",
        color: isSupported ? isRecording ? "var(--color-record-active)" : "var(--color-selected-bg)" : "var(--color-disabled)",
        onClick: onClick,
        disabled: !isSupported,
        testId: "record-btn",
        children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
            icon: "record-icon"
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/flamegraph/FlameNode.tsx


const FlameNode_ROW_HEIGHT = 21; // Account 1px for border
const MIN_TEXT_WIDTH = 32; // Don't show text if smaller than this value
function FlameNode(props) {
    const { onClick, selected, node, onMouseEnter, onMouseLeave, name } = props;
    const transform = hooks_module_A("");
    const widthCss = hooks_module_A("");
    const onRawClick = hooks_module_q(()=>onClick(node.id), [
        node.id
    ]);
    const onRawMouseEnter = hooks_module_q(()=>onMouseEnter(node.id), [
        node.id
    ]);
    const { visible, width, x } = node;
    if (width < 0.5) {
        return null;
    }
    if (visible) {
        widthCss.current = `width: ${width}px;`;
        transform.current = `transform: translate3d(${x}px, 0, 0);`;
    }
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "flamegraph-node",
        onClick: onRawClick,
        onMouseEnter: onRawMouseEnter,
        onMouseLeave: onMouseLeave,
        "data-id": node.id,
        "data-testid": "flame-node",
        "data-parent-id": props.parentId,
        "data-visible": visible,
        "data-weight": node.weight,
        "data-commit-parent": node.commitParent,
        "data-maximized": node.maximized,
        "data-selected": selected,
        "data-overflow": width < MIN_TEXT_WIDTH,
        "data-name": name,
        style: `height: ${FlameNode_ROW_HEIGHT}px; ${transform.current} ${widthCss.current}`,
        children: /*#__PURE__*/ jsxRuntime_module_u("span", {
            class: "flamegraph-text",
            style: widthCss.current,
            children: props.children
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/util.ts
const formatter = Intl.NumberFormat();
const decimals = 1;
function formatTime(time) {
    if (time < 0.1) return "<0.1ms";
    if (time > 100) {
        const display = formatter.format(Number((time / 1000).toFixed(decimals)));
        return `${display}s`;
    }
    return `${time.toFixed(decimals)}ms`;
}

;// CONCATENATED MODULE: ./src/view/components/profiler/flamegraph/ranked/RankedLayout.tsx








/**
 * Layout nodes in a flat list from top to bottom
 * in descending order by the time it took a node
 * to render.
 */ function RankedLayout(param) {
    let { canvasWidth, containerRef, commit, selected, onSelect, onMouseEnter, onMouseLeave } = param;
    // Convert node tree to position data
    const store = useStore();
    const data = store.profiler.rankedNodes.value;
    const filterHoc = store.filter.filterHoc.value;
    const placed = hooks_module_T(()=>placeRanked(commit.selfDurations, data, selected, canvasWidth), [
        canvasWidth,
        selected,
        commit,
        data
    ]);
    const { children: rowItems, containerHeight } = useVirtualizedList({
        minBufferCount: 5,
        container: containerRef,
        items: placed,
        rowHeight: 21,
        // eslint-disable-next-line react/display-name
        renderRow: (pos, _, top)=>{
            const node = commit.nodes.get(pos.id);
            const selfDuration = commit.selfDurations.get(node.id) || 0;
            const hocs = filterHoc && node.hocs ? /*#__PURE__*/ jsxRuntime_module_u(HocLabels, {
                hocs: node.hocs,
                nodeId: node.id,
                canMark: false
            }) : "";
            return /*#__PURE__*/ jsxRuntime_module_u("div", {
                style: `top: ${top}px; position: absolute; left: 0;`,
                children: /*#__PURE__*/ jsxRuntime_module_u(FlameNode, {
                    node: pos,
                    selected: pos.id === selected.id,
                    parentId: selected.parent,
                    onClick: onSelect,
                    name: node.name,
                    onMouseEnter: onMouseEnter,
                    onMouseLeave: onMouseLeave,
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u("span", {
                            "data-testid": "node-name",
                            children: node.name
                        }),
                        hocs,
                        " (",
                        formatTime(selfDuration),
                        ")"
                    ]
                })
            }, pos.id);
        }
    });
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "flamegraph-pane",
        style: `height: ${containerHeight}px;`,
        children: rowItems
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/flamegraph/modes/flamegraph-utils.ts
/**
 * The default layout that's typical for a flamegraph chart.
 */ function placeFlamegraph(tree, idToTransform, rootId, selectedId, canvasWidth) {
    const maximizedIds = new Set([
        selectedId
    ]);
    const commitParentIds = new Set();
    let parentId = tree.get(rootId).parent;
    while(parentId !== -1){
        const node = tree.get(parentId);
        if (node === undefined) break;
        commitParentIds.add(parentId);
        parentId = node.parent;
    }
    // Account for commits not having the currently selected node
    // TODO: Move this logic elsewhere
    const selected = !tree.has(selectedId) ? tree.get(rootId) : tree.get(selectedId);
    parentId = selected.parent;
    while(parentId !== -1){
        const node = tree.get(parentId);
        if (node === undefined) break;
        maximizedIds.add(parentId);
        parentId = node.parent;
    }
    let offset = 0;
    let scale = 1;
    const selectedPos = idToTransform.get(selectedId);
    if (selectedPos !== undefined) {
        offset = selectedPos.x;
        scale = canvasWidth / selectedPos.width;
    }
    const byRow = [];
    idToTransform.forEach((pos)=>{
        let start;
        let width;
        let hidden = false;
        if (maximizedIds.has(pos.id)) {
            start = 0;
            width = canvasWidth;
        } else {
            start = (pos.x - offset) * scale;
            width = pos.width * scale;
            // Hide other sibling nodes of maximized nodes
            const node = tree.get(pos.id);
            if (node && node.parent !== -1 && maximizedIds.has(node.parent)) {
                const parent = tree.get(node.parent);
                if (parent.children.length > 1) {
                    hidden = parent.children.some((childId)=>maximizedIds.has(childId));
                }
            }
        }
        const visible = hidden ? false : start >= 0 && start <= canvasWidth;
        if (pos.row >= byRow.length) {
            byRow.push([]);
        }
        byRow[pos.row].push({
            ...pos,
            x: start,
            width,
            maximized: maximizedIds.has(pos.id),
            visible
        });
    });
    return byRow;
}

;// CONCATENATED MODULE: ./src/view/components/profiler/flamegraph/modes/FlamegraphLayout.tsx








function FlamegraphLayout(param) {
    let { commit, selected, canvasWidth, onSelect, onMouseEnter, onMouseLeave, containerRef } = param;
    const store = useStore();
    const data = store.profiler.flamegraphNodes.value;
    const filterHoc = store.filter.filterHoc.value;
    const placed = hooks_module_T(()=>placeFlamegraph(commit.nodes, data, commit.rootId, selected.id, canvasWidth), [
        commit,
        data,
        selected,
        canvasWidth
    ]);
    const { children: rowItems, containerHeight, scrollToItem } = useVirtualizedList({
        minBufferCount: 5,
        container: containerRef,
        items: placed,
        rowHeight: 21,
        // eslint-disable-next-line react/display-name
        renderRow: (row, _, top)=>{
            return /*#__PURE__*/ jsxRuntime_module_u("div", {
                style: `top: ${top}px; position: absolute; left: 0;`,
                children: row.map((item)=>/*#__PURE__*/ jsxRuntime_module_u(FlameGraphNode, {
                        commit: commit,
                        filterHoc: filterHoc,
                        onMouseEnter: onMouseEnter,
                        onMouseLeave: onMouseLeave,
                        onSelect: onSelect,
                        pos: item,
                        selected: selected
                    }, item.id))
            });
        }
    });
    // Scroll to item on selection change
    hooks_module_y(()=>{
        const pos = data.get(selected.id);
        if (!pos) return;
        scrollToItem(placed[pos.row]);
    }, [
        selected,
        scrollToItem
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "flamegraph-pane",
        style: `height: ${containerHeight}px;`,
        children: rowItems
    });
}
function FlameGraphNode(param) {
    let { commit, pos, onMouseEnter, onMouseLeave, selected, onSelect, filterHoc } = param;
    const node = commit.nodes.get(pos.id);
    let appendix = "";
    if (!pos.commitParent && pos.weight !== -1) {
        const self = formatTime(commit.selfDurations.get(pos.id) || 0);
        const total = formatTime(node.endTime - node.startTime);
        appendix = ` (${self} of ${total})`;
    }
    return /*#__PURE__*/ jsxRuntime_module_u(FlameNode, {
        onMouseEnter: onMouseEnter,
        onMouseLeave: onMouseLeave,
        node: pos,
        name: node.name,
        selected: pos.id === selected.id,
        parentId: commit.nodes.get(pos.id).parent,
        onClick: onSelect,
        children: [
            node.name,
            filterHoc && node.hocs ? /*#__PURE__*/ jsxRuntime_module_u(HocLabels, {
                hocs: node.hocs,
                nodeId: node.id,
                canMark: false
            }) : null,
            appendix
        ]
    }, pos.id);
}

;// CONCATENATED MODULE: ./src/view/components/profiler/flamegraph/placeNodes.ts
/**
 * Flatten profiler node tree into a flat list
 */ function flattenNodeTree(tree, id) {
    const out = [];
    const visited = new Set();
    const stack = [
        id
    ];
    while(stack.length > 0){
        const item = stack.pop();
        if (item == null) continue;
        const node = tree.get(item);
        if (!node) continue;
        if (!visited.has(node.id)) {
            out.push(node);
            visited.add(node.id);
            for(let i = node.children.length; i--;){
                stack.push(node.children[i]);
            }
        }
    }
    return out;
}
const EMPTY = {
    children: [],
    depth: 0,
    endTime: 0,
    id: -1,
    owner: -1,
    hocs: null,
    key: "",
    name: "",
    parent: -1,
    startTime: 0,
    type: 0
};
/**
 * The minimum width of a node inside the flamegraph.
 * This ensures that the user doesn't miss any nodes
 * that would be smaller than <1px because of zooming
 */ const placeNodes_MIN_WIDTH = 6;

;// CONCATENATED MODULE: ./src/view/components/profiler/flamegraph/FlameGraph.tsx










const FlameGraph_highlightNode = debounce((notify, id)=>notify("highlight", id), 100);
function FlameGraph() {
    const store = useStore();
    const [canvasWidth, setCanvasWidth] = hooks_module_d(-1);
    const displayType = store.profiler.flamegraphType.value;
    const selected = store.profiler.selectedNode.value || EMPTY;
    const commit = store.profiler.activeCommit.value;
    const isRecording = store.profiler.isRecording.value;
    const showDebug = store.debugMode.value;
    const ref = hooks_module_A(null);
    hooks_module_y(()=>{
        if (ref.current) {
            // Pad for potential rounding issues
            setCanvasWidth(Math.floor(ref.current.clientWidth) - 4);
        }
    }, [
        isRecording,
        commit
    ]);
    useResize(()=>{
        if (ref.current) {
            // Pad for potential rounding issues
            setCanvasWidth(Math.floor(ref.current.clientWidth) - 4);
        }
    }, [
        commit
    ], true);
    const onSelect = hooks_module_q((id)=>{
        store.profiler.selectedNodeId.value = id;
        store.selection.selectById(id);
    }, [
        store
    ]);
    const onMouseEnter = hooks_module_q((id)=>{
        FlameGraph_highlightNode(store.notify, id);
    }, []);
    const onMouseLeave = hooks_module_q(()=>{
        FlameGraph_highlightNode(store.notify, null);
    }, []);
    if (isRecording || !commit) return null;
    return /*#__PURE__*/ jsxRuntime_module_u("div", {
        class: "flamegraph",
        ref: ref,
        "data-type": displayType.toLowerCase(),
        style: showDebug ? "overflow-x: auto" : "",
        children: canvasWidth === -1 ? null : /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
            children: displayType === commits_FlamegraphType.RANKED ? /*#__PURE__*/ jsxRuntime_module_u(RankedLayout, {
                canvasWidth: canvasWidth,
                containerRef: ref,
                commit: commit,
                onSelect: onSelect,
                selected: selected,
                onMouseEnter: onMouseEnter,
                onMouseLeave: onMouseLeave
            }) : /*#__PURE__*/ jsxRuntime_module_u(FlamegraphLayout, {
                canvasWidth: canvasWidth,
                containerRef: ref,
                commit: commit,
                onSelect: onSelect,
                selected: selected,
                onMouseEnter: onMouseEnter,
                onMouseLeave: onMouseLeave
            })
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/components/SidebarHeader.tsx









function SidebarHeader() {
    const store = useStore();
    const selected = store.profiler.selectedNode.value;
    const emit = useEmitter();
    const log = hooks_module_q(()=>{
        if (selected) emit("log", {
            id: selected.id,
            children: selected.children
        });
    }, [
        selected
    ]);
    const inspectHostNode = hooks_module_q(()=>{
        emit("inspect-host-node", null);
    }, []);
    const viewSource = hooks_module_q(()=>{
        if (selected) {
            emit("view-source", selected.id);
        }
    }, [
        selected
    ]);
    const canViewSource = selected && selected.type !== types_DevNodeType.Group && selected.type !== types_DevNodeType.Element;
    return /*#__PURE__*/ jsxRuntime_module_u(Actions, {
        class: "sidebar-actions",
        children: [
            /*#__PURE__*/ jsxRuntime_module_u(ComponentName, {
                children: selected && selected.name
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: "sidebar-icon-actions",
                children: selected && /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                            title: "Show matching DOM element",
                            onClick: inspectHostNode,
                            children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                icon: "inspect"
                            })
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                            title: "Log internal vnode",
                            onClick: log,
                            children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                icon: "bug"
                            })
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                            title: "View Component Source",
                            onClick: viewSource,
                            disabled: !canViewSource,
                            children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                icon: "code-icon"
                            })
                        })
                    ]
                })
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/components/RenderedAt/RenderedAt.tsx






function RenderedAt() {
    const store = useStore();
    const commit = store.profiler.activeCommit.value;
    const selected = store.profiler.selectedNodeId.value;
    const data = useComputed(()=>{
        const id = store.profiler.selectedNodeId.value;
        return store.profiler.commits.value.reduce((acc, commit, i)=>{
            if (!commit.rendered.has(id)) return acc;
            const selfDuration = commit.selfDurations.get(id) || 0;
            acc.push({
                index: i,
                selfDuration
            });
            return acc;
        }, []);
    }).value;
    const commitIdx = store.profiler.activeCommitIdx.value;
    if (commit === null) return null;
    const commitRoot = commit.nodes.get(commit.commitRootId);
    return /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
        children: data.length > 0 && /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
            children: [
                /*#__PURE__*/ jsxRuntime_module_u(SidebarPanel, {
                    title: "Commit Root:",
                    children: /*#__PURE__*/ jsxRuntime_module_u("nav", {
                        "data-testid": "commitRoot",
                        class: "sidebar-nav-panel-content",
                        children: /*#__PURE__*/ jsxRuntime_module_u("button", {
                            class: "rendered-at-item",
                            "data-active": selected === commit.commitRootId,
                            onClick: ()=>store.profiler.selectedNodeId.value = commit.commitRootId,
                            children: /*#__PURE__*/ jsxRuntime_module_u("span", {
                                children: commitRoot.name
                            })
                        })
                    })
                }),
                /*#__PURE__*/ jsxRuntime_module_u(SidebarPanel, {
                    title: "Rendered at:",
                    children: data.length <= 0 ? /*#__PURE__*/ jsxRuntime_module_u(Empty, {
                        children: "Did not render during this profiling session"
                    }) : /*#__PURE__*/ jsxRuntime_module_u("nav", {
                        "data-testid": "rendered-at",
                        class: "sidebar-nav-panel-content",
                        children: data.map((node)=>{
                            return /*#__PURE__*/ jsxRuntime_module_u("button", {
                                class: "rendered-at-item",
                                "data-active": commitIdx === node.index,
                                onClick: ()=>{
                                    store.profiler.activeCommitIdx.value = node.index;
                                    store.profiler.filterCommitsUnder.value = false;
                                },
                                children: /*#__PURE__*/ jsxRuntime_module_u("span", {
                                    children: [
                                        "Commit #",
                                        node.index,
                                        " for ",
                                        formatTime(node.selfDuration)
                                    ]
                                })
                            }, node.index);
                        })
                    })
                })
            ]
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/components/ProfilerInfo/ProfilerInfo.tsx



function ProfilerInfo() {
    const store = useStore();
    const isRecording = store.profiler.isRecording.value;
    const isSupported = store.profiler.isSupported.value;
    const commits = store.profiler.commits.value;
    if (!isSupported) {
        return /*#__PURE__*/ jsxRuntime_module_u("div", {
            class: "profiler-info",
            "data-testid": "profiler-info",
            children: [
                /*#__PURE__*/ jsxRuntime_module_u("p", {
                    class: "profiler-info-title",
                    children: "Profiling is not supported"
                }),
                /*#__PURE__*/ jsxRuntime_module_u("p", {
                    class: "profiler-info-descr",
                    children: "Please upgrade Preact to a version that supports it (>=10.3.0)."
                })
            ]
        });
    } else if (isRecording) {
        return /*#__PURE__*/ jsxRuntime_module_u("div", {
            class: "profiler-info",
            "data-testid": "profiler-info",
            children: [
                /*#__PURE__*/ jsxRuntime_module_u("p", {
                    class: "profiler-info-title",
                    children: "Profiling in progress..."
                }),
                /*#__PURE__*/ jsxRuntime_module_u("p", {
                    class: "profiler-info-descr",
                    children: [
                        "Click the record button",
                        " ",
                        /*#__PURE__*/ jsxRuntime_module_u("span", {
                            class: "profiler-info-btn",
                            children: /*#__PURE__*/ jsxRuntime_module_u(RecordBtn, {})
                        }),
                        " ",
                        "to stop recording."
                    ]
                })
            ]
        });
    } else if (commits.length === 0) {
        return /*#__PURE__*/ jsxRuntime_module_u("div", {
            class: "profiler-info",
            "data-testid": "profiler-info",
            children: [
                /*#__PURE__*/ jsxRuntime_module_u("p", {
                    class: "profiler-info-title",
                    children: "No profiling data collected"
                }),
                /*#__PURE__*/ jsxRuntime_module_u("p", {
                    class: "profiler-info-descr",
                    children: [
                        "Click the record button",
                        " ",
                        /*#__PURE__*/ jsxRuntime_module_u("span", {
                            class: "profiler-info-btn",
                            children: /*#__PURE__*/ jsxRuntime_module_u(RecordBtn, {})
                        }),
                        " ",
                        "to start recording."
                    ]
                })
            ]
        });
    }
    return null;
}

;// CONCATENATED MODULE: ./src/view/components/profiler/components/CommitInfo/CommitInfo.tsx




function CommitInfo() {
    const store = useStore();
    const commit = store.profiler.activeCommit.value;
    const isRecording = store.profiler.isRecording.value;
    if (commit === null || isRecording) {
        return null;
    }
    const root = commit.nodes.get(commit.commitRootId);
    if (!root) {
        return null;
    }
    return /*#__PURE__*/ jsxRuntime_module_u(SidebarPanel, {
        title: "Commit Stats",
        children: /*#__PURE__*/ jsxRuntime_module_u("dl", {
            class: "commit-info-list",
            children: [
                /*#__PURE__*/ jsxRuntime_module_u("dt", {
                    class: "commit-info-title",
                    children: "Start:"
                }),
                /*#__PURE__*/ jsxRuntime_module_u("dd", {
                    class: "commit-info-value",
                    children: formatTime(root.startTime)
                }),
                /*#__PURE__*/ jsxRuntime_module_u("br", {}),
                /*#__PURE__*/ jsxRuntime_module_u("dt", {
                    class: "commit-info-title",
                    children: "Duration:"
                }),
                /*#__PURE__*/ jsxRuntime_module_u("dd", {
                    class: "commit-info-value",
                    children: formatTime(commit.duration)
                })
            ]
        })
    });
}

;// CONCATENATED MODULE: ./src/adapter/shared/renderReasons.ts
var renderReasons_RenderReason = /*#__PURE__*/ function(RenderReason) {
    RenderReason[RenderReason["MOUNT"] = 1] = "MOUNT";
    RenderReason[RenderReason["PARENT_UPDATE"] = 2] = "PARENT_UPDATE";
    RenderReason[RenderReason["PROPS_CHANGED"] = 3] = "PROPS_CHANGED";
    RenderReason[RenderReason["STATE_CHANGED"] = 4] = "STATE_CHANGED";
    RenderReason[RenderReason["HOOKS_CHANGED"] = 5] = "HOOKS_CHANGED";
    RenderReason[RenderReason["FORCE_UPDATE"] = 6] = "FORCE_UPDATE";
    return RenderReason;
}({});
function renderReasonToStr(reason) {
    switch(reason){
        case 1:
            return "mount";
        case 2:
            return "parent update";
        case 3:
            return "props changed";
        case 4:
            return "state changed";
        case 5:
            return "hooks changed";
        case 6:
            return "force update";
    }
}
function createReason(type, items) {
    return {
        type,
        items
    };
}
/**
 * Get all keys that have different values in two objects. Does a
 * shallow comparison.
 */ function getChangedKeys(a, b) {
    const changed = [];
    let key;
    for(key in a){
        if (!(key in b) || a[key] !== b[key]) {
            changed.push(key);
        }
    }
    for(key in b){
        if (!(key in a)) {
            changed.push(key);
        }
    }
    return changed;
}

;// CONCATENATED MODULE: ./src/view/components/profiler/components/RenderReasons.tsx






function getReasonName(reason) {
    switch(reason){
        case renderReasons_RenderReason.HOOKS_CHANGED:
            return "Hooks changed";
        case renderReasons_RenderReason.MOUNT:
            return "Component mounted";
        case renderReasons_RenderReason.PARENT_UPDATE:
            return "Parent updated";
        case renderReasons_RenderReason.PROPS_CHANGED:
            return "Props changed";
        case renderReasons_RenderReason.STATE_CHANGED:
            return "State changed";
        case renderReasons_RenderReason.FORCE_UPDATE:
            return "Force update";
        default:
            return "Unknown reason";
    }
}
function RenderReasons() {
    const store = useStore();
    const isRecording = store.profiler.isRecording.value;
    const commits = store.profiler.commits.value;
    const reason = store.profiler.activeReason.value;
    const commit = store.profiler.activeCommit.value;
    const selected = store.profiler.selectedNode.value;
    const isSupported = store.profiler.supportsRenderReasons.value;
    const captureReason = store.profiler.captureRenderReasons.value;
    if (commits.length === 0 || isRecording) {
        return null;
    }
    const hasReasons = reason !== null && reason.items && reason.items.length > 0;
    const rendered = !captureReason && commit && selected && commit.rendered.has(selected.id);
    return /*#__PURE__*/ jsxRuntime_module_u(SidebarPanel, {
        title: "Render reasons",
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                "data-testid": "render-reasons",
                children: reason !== null ? /*#__PURE__*/ jsxRuntime_module_u("dl", {
                    class: "render-reason",
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u("dt", {
                            class: "render-reason-name",
                            children: [
                                getReasonName(reason.type),
                                hasReasons ? ":" : ""
                            ]
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("dd", {
                            class: "render-reason-value",
                            children: hasReasons && (reason.type === renderReasons_RenderReason.HOOKS_CHANGED ? /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
                                children: reason.items.map((item)=>/*#__PURE__*/ jsxRuntime_module_u("span", {
                                        class: "hook-number va-middle",
                                        children: +item + 1
                                    }, item))
                            }) : reason.items.join(", "))
                        })
                    ]
                }) : /*#__PURE__*/ jsxRuntime_module_u(Empty, {
                    children: rendered ? "-" : "Did not render"
                })
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: "render-reason-message",
                children: isSupported ? /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: "sidebar-nav-panel-content",
                    children: /*#__PURE__*/ jsxRuntime_module_u(Message, {
                        type: captureReason ? "info" : "warning",
                        children: [
                            captureReason ? "Timings may be less accurate. " : "Capturing disabled. ",
                            /*#__PURE__*/ jsxRuntime_module_u(MessageBtn, {
                                onClick: ()=>{
                                    const value = !captureReason;
                                    store.profiler.setRenderReasonCapture(value);
                                    startProfiling(store.profiler);
                                    store.emit("start-profiling", {
                                        captureRenderReasons: value
                                    });
                                },
                                testId: "toggle-render-reason",
                                children: captureReason ? "Disable" : "Enable"
                            })
                        ]
                    })
                }) : /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: "sidebar-nav-panel-content",
                    children: /*#__PURE__*/ jsxRuntime_module_u(Message, {
                        type: "warning",
                        children: "Upgrade to Preact >=10.4.1 to fully enable this feature."
                    })
                })
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/components/CommitInfo/DebugInfo.tsx





const TimeRange = (param)=>{
    let { from, to } = param;
    return /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
        children: [
            from.toFixed(2),
            " -> ",
            to.toFixed(2),
            " | ",
            (to - from).toFixed(2)
        ]
    });
};
function DebugProfilerInfo() {
    const store = useStore();
    const commit = store.profiler.activeCommit.value;
    const selected = store.profiler.selectedNode.value;
    const isRecording = store.profiler.isRecording.value;
    const pos = store.profiler.flamegraphNodes.value.get((selected === null || selected === void 0 ? void 0 : selected.id) || -1);
    if (commit === null || isRecording || !selected || !pos) {
        return null;
    }
    return /*#__PURE__*/ jsxRuntime_module_u(SidebarPanel, {
        title: "Debug Stats",
        testId: "profiler-debug-stats",
        children: /*#__PURE__*/ jsxRuntime_module_u("dl", {
            class: "commit-info-list",
            children: [
                /*#__PURE__*/ jsxRuntime_module_u("dt", {
                    class: "commit-info-title",
                    children: "id:"
                }),
                /*#__PURE__*/ jsxRuntime_module_u("dd", {
                    class: "commit-info-value",
                    children: selected.id
                }),
                /*#__PURE__*/ jsxRuntime_module_u("br", {}),
                /*#__PURE__*/ jsxRuntime_module_u("dt", {
                    class: "commit-info-title",
                    children: "parentId:"
                }),
                /*#__PURE__*/ jsxRuntime_module_u("dd", {
                    class: "commit-info-value",
                    children: selected.parent
                }),
                /*#__PURE__*/ jsxRuntime_module_u("br", {}),
                /*#__PURE__*/ jsxRuntime_module_u("dt", {
                    class: "commit-info-title",
                    children: "rootId:"
                }),
                /*#__PURE__*/ jsxRuntime_module_u("dd", {
                    class: "commit-info-value",
                    children: getRoot(commit.nodes, selected.id)
                }),
                /*#__PURE__*/ jsxRuntime_module_u("br", {}),
                /*#__PURE__*/ jsxRuntime_module_u("dt", {
                    class: "commit-info-title",
                    children: "tree:"
                }),
                /*#__PURE__*/ jsxRuntime_module_u("dd", {
                    class: "commit-info-value",
                    children: /*#__PURE__*/ jsxRuntime_module_u(TimeRange, {
                        from: pos.x,
                        to: pos.x + pos.width
                    })
                }),
                /*#__PURE__*/ jsxRuntime_module_u("br", {}),
                /*#__PURE__*/ jsxRuntime_module_u("dt", {
                    class: "commit-info-title",
                    children: "real:"
                }),
                /*#__PURE__*/ jsxRuntime_module_u("dd", {
                    class: "commit-info-value",
                    children: /*#__PURE__*/ jsxRuntime_module_u(TimeRange, {
                        from: selected.startTime,
                        to: selected.endTime
                    })
                })
            ]
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/components/RenderedAt/DebugNodeNav.tsx




function DebugNodeNav() {
    const store = useStore();
    const selected = store.profiler.selectedNodeId.value;
    const commit = store.profiler.activeCommit.value;
    const nodes = useComputed(()=>{
        const commit = store.profiler.activeCommit.value;
        if (!commit) return [];
        const out = [];
        const stack = [
            commit.rootId
        ];
        let item;
        while(item = stack.pop()){
            const node = commit.nodes.get(item);
            if (!node) continue;
            out.push(node);
            for(let i = node.children.length - 1; i >= 0; i--){
                stack.push(node.children[i]);
            }
        }
        return out;
    }).value;
    const isRecording = store.profiler.isRecording.value;
    if (isRecording) {
        return null;
    }
    return /*#__PURE__*/ jsxRuntime_module_u(SidebarPanel, {
        title: "Debug Node Navigation:",
        testId: "profiler-debug-nav",
        children: nodes.length === 0 ? /*#__PURE__*/ jsxRuntime_module_u(Empty, {
            children: "No nodes found inside commit"
        }) : /*#__PURE__*/ jsxRuntime_module_u("nav", {
            "data-testid": "debug-nav",
            children: nodes.map((node)=>{
                return /*#__PURE__*/ jsxRuntime_module_u("button", {
                    class: "rendered-at-item",
                    "data-active": selected === node.id,
                    onClick: ()=>store.profiler.selectedNodeId.value = node.id,
                    children: /*#__PURE__*/ jsxRuntime_module_u("span", {
                        style: "display: flex; justify-content: space-between; width: 100%",
                        children: [
                            /*#__PURE__*/ jsxRuntime_module_u("span", {
                                children: [
                                    node.name,
                                    commit && node.id === commit.commitRootId ? /*#__PURE__*/ jsxRuntime_module_u("b", {
                                        children: "(R)"
                                    }) : null
                                ]
                            }),
                            /*#__PURE__*/ jsxRuntime_module_u("span", {
                                children: node.id
                            })
                        ]
                    })
                }, node.id);
            })
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/profiler/components/Profiler.tsx















function Profiler() {
    const store = useStore();
    const showDebug = store.debugMode.value;
    const statsRecording = store.stats.isRecording.value;
    return /*#__PURE__*/ jsxRuntime_module_u(SidebarLayout, {
        children: [
            /*#__PURE__*/ jsxRuntime_module_u(ThemeSwitcher, {}),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: Devtools_module.componentActions,
                children: /*#__PURE__*/ jsxRuntime_module_u(TimelineBar, {})
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: `${Devtools_module.components} flamegraph-wrapper`,
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u(ProfilerInfo, {}),
                    /*#__PURE__*/ jsxRuntime_module_u(FlameGraph, {})
                ]
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: Devtools_module.sidebarActions,
                children: /*#__PURE__*/ jsxRuntime_module_u(SidebarHeader, {})
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: Devtools_module.sidebar,
                children: [
                    statsRecording && /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: "profiler-sidebar-panel",
                        children: /*#__PURE__*/ jsxRuntime_module_u(Message, {
                            type: "info",
                            children: [
                                "Stats recording is enabled. Timings may be less accurate.",
                                /*#__PURE__*/ jsxRuntime_module_u(MessageBtn, {
                                    onClick: ()=>{
                                        store.stats.isRecording.value = false;
                                    },
                                    testId: "disable-stats-recording",
                                    children: "Disable"
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u(RenderReasons, {}),
                    /*#__PURE__*/ jsxRuntime_module_u(RenderedAt, {}),
                    /*#__PURE__*/ jsxRuntime_module_u(CommitInfo, {}),
                    showDebug && /*#__PURE__*/ jsxRuntime_module_u(DebugProfilerInfo, {}),
                    showDebug && /*#__PURE__*/ jsxRuntime_module_u(DebugNodeNav, {})
                ]
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/devtools.css
// extracted by css-extract-rspack-plugin

;// CONCATENATED MODULE: ./src/view/components/RadioBar.tsx

function RadioBar(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("span", {
        class: "radio-bar",
        children: props.items.map((x)=>{
            return /*#__PURE__*/ jsxRuntime_module_u("label", {
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u("input", {
                        name: props.name,
                        class: "radio-bar-input",
                        checked: props.value === x.value,
                        type: "radio",
                        value: x.value,
                        onInput: ()=>props.onChange(x.value)
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("span", {
                        class: "radio-bar-text",
                        children: x.label
                    })
                ]
            }, x.value);
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/Checkbox/Checkbox.tsx


function Checkbox(props) {
    return /*#__PURE__*/ jsxRuntime_module_u("label", {
        class: "checkbox-root",
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("span", {
                class: "checkbox-wrapper",
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u("input", {
                        type: "checkbox",
                        checked: props.checked,
                        "data-testid": props.testId,
                        onInput: (e)=>props.onChange(e.target.checked)
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                        icon: props.checked ? "checkbox-checked" : "checkbox-unchecked"
                    })
                ]
            }),
            /*#__PURE__*/ jsxRuntime_module_u("span", {
                class: "checkbox-content",
                children: props.children
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/settings/Settings.tsx







function Settings() {
    const store = useStore();
    const theme = store.theme.value;
    const renderReasons = store.profiler.captureRenderReasons.value;
    const highlightUpdates = store.profiler.highlightUpdates.value;
    const debugMode = store.debugMode.value;
    const setTheme = hooks_module_q((v)=>store.theme.value = v, []);
    return /*#__PURE__*/ jsxRuntime_module_u(PageLayout, {
        children: /*#__PURE__*/ jsxRuntime_module_u("div", {
            class: "settings-tab",
            children: /*#__PURE__*/ jsxRuntime_module_u("form", {
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: "settings-checkbox-setting",
                        children: [
                            /*#__PURE__*/ jsxRuntime_module_u(Checkbox, {
                                checked: highlightUpdates,
                                onChange: ()=>{
                                    const value = !store.profiler.highlightUpdates.value;
                                    store.profiler.highlightUpdates.value = value;
                                    store.notify(value ? "start-highlight-updates" : "stop-highlight-updates", null);
                                },
                                testId: "toggle-highlight-updates",
                                children: "Highlight updates"
                            }),
                            /*#__PURE__*/ jsxRuntime_module_u("div", {
                                children: /*#__PURE__*/ jsxRuntime_module_u("p", {
                                    class: "settings-tab-description",
                                    children: "Visualize updates by highlighting each component that updated in the page."
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: "settings-checkbox-setting",
                        children: [
                            /*#__PURE__*/ jsxRuntime_module_u(Checkbox, {
                                checked: renderReasons,
                                onChange: ()=>store.profiler.setRenderReasonCapture(!renderReasons),
                                testId: "toggle-render-reason",
                                children: "Capture render reasons"
                            }),
                            /*#__PURE__*/ jsxRuntime_module_u("div", {
                                class: "settings-tab-message",
                                children: /*#__PURE__*/ jsxRuntime_module_u(Message, {
                                    type: "info",
                                    children: "All props, state, and hooks of the current node will be compared to the previous node to determine what changed between renders. Timings may be less accurate because of that."
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("label", {
                        class: "settings-tab-label",
                        children: "Theme:"
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u(RadioBar, {
                        name: "theme",
                        value: theme,
                        onChange: setTheme,
                        items: [
                            {
                                label: "Auto",
                                value: "auto"
                            },
                            {
                                label: "Light",
                                value: "light"
                            },
                            {
                                label: "Dark",
                                value: "dark"
                            }
                        ]
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("h2", {
                        children: "Experimental"
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: "settings-tab-checkbox",
                        children: /*#__PURE__*/ jsxRuntime_module_u(Checkbox, {
                            checked: debugMode,
                            onChange: ()=>store.debugMode.value = !store.debugMode.value,
                            testId: "toggle-debug-mode",
                            children: "Toggle debug mode"
                        })
                    })
                ]
            })
        })
    });
}

;// CONCATENATED MODULE: ./src/view/components/stats/StatsPanel.module.css
// extracted by css-extract-rspack-plugin
/* ESM default export */ const StatsPanel_module = ({"actions":"actions-zg8Qah","content":"content-VRQXI7","label":"label-c4bRqn","btnWrapper":"btnWrapper-SKxKrJ","intro":"intro-W4a32J","heading":"heading-B25Jit","message":"message-dTtb3X","description":"description-uMtDDf","cards":"cards-b8Ie3O","card":"card-Q__tOz","table":"table-j_Xa3f","alignRight":"alignRight-qhjTba"});
;// CONCATENATED MODULE: ./src/view/components/stats/StatsPanel.tsx









function StatsRecordBtn() {
    const store = useStore();
    const isRecording = store.stats.isRecording.value;
    const onClick = hooks_module_q(()=>{
        const { isRecording } = store.stats;
        const v = !isRecording.value;
        isRecording.value = v;
        if (v) {
            store.emit("start-stats-recording", null);
        } else {
            store.emit("stop-stats-recording", null);
        }
    }, [
        store
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
        title: !isRecording ? "Start Recording" : "Stop Recording",
        color: isRecording ? "var(--color-record-active)" : "var(--color-selected-bg)",
        onClick: onClick,
        testId: "record-btn",
        children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
            icon: "record-icon"
        })
    });
}
function StatsPanel() {
    const store = useStore();
    const stats = store.stats.data.value;
    const isRecording = store.stats.isRecording.value;
    const onReloadAndRecordStats = hooks_module_q(()=>{
        store.stats.isRecording.value = true;
        store.emit("reload-and-record-stats", null);
    }, []);
    const onReset = hooks_module_q(()=>{
        store.stats.data.value = null;
        store.stats.isRecording.value = false;
        store.emit("stop-profiling", null);
    }, [
        store
    ]);
    return /*#__PURE__*/ jsxRuntime_module_u(SingleLayout, {
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: StatsPanel_module.actions,
                children: /*#__PURE__*/ jsxRuntime_module_u(Actions, {
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u("div", {
                            class: StatsPanel_module.btnWrapper,
                            children: /*#__PURE__*/ jsxRuntime_module_u(StatsRecordBtn, {})
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("div", {
                            class: StatsPanel_module.btnWrapper,
                            children: /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                                title: "Reload and record statistic",
                                disabled: isRecording,
                                testId: "reload-and-record-stats-btn",
                                onClick: onReloadAndRecordStats,
                                children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                    icon: "refresh"
                                })
                            })
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("div", {
                            class: StatsPanel_module.btnWrapper,
                            children: /*#__PURE__*/ jsxRuntime_module_u(IconBtn, {
                                title: "Clear statistic data",
                                disabled: stats === null || isRecording,
                                onClick: onReset,
                                children: /*#__PURE__*/ jsxRuntime_module_u(Icon, {
                                    icon: "not-interested"
                                })
                            })
                        })
                    ]
                })
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: StatsPanel_module.content,
                children: stats !== null ? /*#__PURE__*/ jsxRuntime_module_u(StatsData, {
                    stats: stats
                }) : isRecording ? /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: "profiler-info",
                    "data-testid": "stats-info-recording",
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u("p", {
                            class: "profiler-info-title",
                            children: "Statistic recording in progress..."
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("p", {
                            class: "profiler-info-descr",
                            children: [
                                "Click the record button",
                                " ",
                                /*#__PURE__*/ jsxRuntime_module_u("span", {
                                    class: "profiler-info-btn",
                                    children: /*#__PURE__*/ jsxRuntime_module_u(StatsRecordBtn, {})
                                }),
                                " ",
                                "to stop recording."
                            ]
                        })
                    ]
                }) : /*#__PURE__*/ jsxRuntime_module_u("div", {
                    class: "profiler-info",
                    "data-testid": "stats-info",
                    children: [
                        /*#__PURE__*/ jsxRuntime_module_u("p", {
                            class: "profiler-info-title",
                            children: "No statistic data collected"
                        }),
                        /*#__PURE__*/ jsxRuntime_module_u("p", {
                            class: "profiler-info-descr",
                            children: [
                                "Click the record button",
                                " ",
                                /*#__PURE__*/ jsxRuntime_module_u("span", {
                                    class: "profiler-info-btn",
                                    children: /*#__PURE__*/ jsxRuntime_module_u(StatsRecordBtn, {})
                                }),
                                " ",
                                "to start recording."
                            ]
                        })
                    ]
                })
            })
        ]
    });
}
function ChildHeadings() {
    return /*#__PURE__*/ jsxRuntime_module_u("tr", {
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("th", {
                children: "Type"
            }),
            /*#__PURE__*/ jsxRuntime_module_u("th", {
                children: "Total"
            }),
            /*#__PURE__*/ jsxRuntime_module_u("th", {
                children: "0 Ch."
            }),
            /*#__PURE__*/ jsxRuntime_module_u("th", {
                children: "1 Ch."
            }),
            /*#__PURE__*/ jsxRuntime_module_u("th", {
                children: "2 Ch."
            }),
            /*#__PURE__*/ jsxRuntime_module_u("th", {
                children: "3 Ch."
            }),
            /*#__PURE__*/ jsxRuntime_module_u("th", {
                children: "n Ch."
            })
        ]
    });
}
function getTotal(arr) {
    return arr.reduce((acc, n)=>acc + n, 0);
}
function getOpTotal(info) {
    return info.components + info.elements + info.text;
}
function ChildRow(props) {
    const { label, total, count, testId = label.toLowerCase().replace(/\s/g, "-") } = props;
    return /*#__PURE__*/ jsxRuntime_module_u("tr", {
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                children: label
            }),
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                class: StatsPanel_module.alignRight,
                "data-testid": testId + "-total",
                children: total
            }),
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                class: StatsPanel_module.alignRight,
                "data-testid": testId + "-0",
                children: count ? count[0] : "-"
            }),
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                class: StatsPanel_module.alignRight,
                "data-testid": testId + "-1",
                children: count ? count[1] : "-"
            }),
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                class: StatsPanel_module.alignRight,
                "data-testid": testId + "-2",
                children: count ? count[2] : "-"
            }),
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                class: StatsPanel_module.alignRight,
                "data-testid": testId + "-3",
                children: count ? count[3] : "-"
            }),
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                class: StatsPanel_module.alignRight,
                "data-testid": testId + "-n",
                children: count ? count[4] : "-"
            })
        ]
    });
}
function OperationRow(param) {
    let { name, info } = param;
    return /*#__PURE__*/ jsxRuntime_module_u("tr", {
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                children: name
            }),
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                class: StatsPanel_module.alignRight,
                "data-testid": name + "-total",
                children: getOpTotal(info)
            }),
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                class: StatsPanel_module.alignRight,
                "data-testid": name + "-components",
                children: info.components
            }),
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                class: StatsPanel_module.alignRight,
                "data-testid": name + "-elements",
                children: info.elements
            }),
            /*#__PURE__*/ jsxRuntime_module_u("td", {
                class: StatsPanel_module.alignRight,
                "data-testid": name + "-text",
                children: info.text
            })
        ]
    });
}
function StatsData(param) {
    let { stats } = param;
    return /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
        children: [
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: StatsPanel_module.intro,
                children: /*#__PURE__*/ jsxRuntime_module_u("p", {
                    children: [
                        "Help us make Preact even faster by sharing these statistics over at",
                        " ",
                        /*#__PURE__*/ jsxRuntime_module_u("a", {
                            href: "https://github.com/preactjs/preact/issues/2618",
                            rel: "noopener noreferrer",
                            target: "_blank",
                            "data-testid": "stats-github-link",
                            children: "this GitHub thread"
                        }),
                        "."
                    ]
                })
            }),
            /*#__PURE__*/ jsxRuntime_module_u("div", {
                class: StatsPanel_module.cards,
                children: [
                    /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: StatsPanel_module.card,
                        children: [
                            /*#__PURE__*/ jsxRuntime_module_u("h2", {
                                class: StatsPanel_module.heading,
                                children: "Operations"
                            }),
                            /*#__PURE__*/ jsxRuntime_module_u("table", {
                                class: StatsPanel_module.table,
                                "data-testid": "operation-type",
                                children: [
                                    /*#__PURE__*/ jsxRuntime_module_u("thead", {
                                        children: /*#__PURE__*/ jsxRuntime_module_u("tr", {
                                            children: [
                                                /*#__PURE__*/ jsxRuntime_module_u("th", {
                                                    children: "Type"
                                                }),
                                                /*#__PURE__*/ jsxRuntime_module_u("th", {
                                                    children: "Total"
                                                }),
                                                /*#__PURE__*/ jsxRuntime_module_u("th", {
                                                    children: "Components"
                                                }),
                                                /*#__PURE__*/ jsxRuntime_module_u("th", {
                                                    children: "Elements"
                                                }),
                                                /*#__PURE__*/ jsxRuntime_module_u("th", {
                                                    children: "Text"
                                                })
                                            ]
                                        })
                                    }),
                                    /*#__PURE__*/ jsxRuntime_module_u("tbody", {
                                        children: [
                                            /*#__PURE__*/ jsxRuntime_module_u(OperationRow, {
                                                name: "mount",
                                                info: stats.mounts
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(OperationRow, {
                                                name: "update",
                                                info: stats.updates
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(OperationRow, {
                                                name: "unmount",
                                                info: stats.unmounts
                                            })
                                        ]
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: StatsPanel_module.card,
                        children: [
                            /*#__PURE__*/ jsxRuntime_module_u("h2", {
                                class: StatsPanel_module.heading,
                                children: "Reconciler"
                            }),
                            /*#__PURE__*/ jsxRuntime_module_u("table", {
                                class: StatsPanel_module.table,
                                "data-testid": "diff-type",
                                children: [
                                    /*#__PURE__*/ jsxRuntime_module_u("thead", {
                                        children: /*#__PURE__*/ jsxRuntime_module_u(ChildHeadings, {})
                                    }),
                                    /*#__PURE__*/ jsxRuntime_module_u("tbody", {
                                        children: [
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "keyed",
                                                total: getTotal(stats.keyed),
                                                count: stats.keyed
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "unkeyed",
                                                total: getTotal(stats.unkeyed),
                                                count: stats.unkeyed
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "mixed",
                                                total: getTotal(stats.mixed),
                                                count: stats.mixed
                                            })
                                        ]
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: StatsPanel_module.card,
                        children: [
                            /*#__PURE__*/ jsxRuntime_module_u("h2", {
                                class: StatsPanel_module.heading,
                                children: "Render Frequency"
                            }),
                            /*#__PURE__*/ jsxRuntime_module_u("table", {
                                class: StatsPanel_module.table,
                                "data-testid": "vnode-stats",
                                children: [
                                    /*#__PURE__*/ jsxRuntime_module_u("thead", {
                                        children: /*#__PURE__*/ jsxRuntime_module_u(ChildHeadings, {})
                                    }),
                                    /*#__PURE__*/ jsxRuntime_module_u("tbody", {
                                        children: [
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "Root",
                                                testId: "root",
                                                total: getTotal(stats.roots),
                                                count: stats.roots
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "Class Component",
                                                testId: "class-component",
                                                total: getTotal(stats.classComponents),
                                                count: stats.classComponents
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "Function Component*",
                                                testId: "function-component",
                                                total: getTotal(stats.functionComponents),
                                                count: stats.functionComponents
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "Fragment",
                                                testId: "fragment",
                                                total: getTotal(stats.fragments),
                                                count: stats.fragments
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "forwardRef",
                                                testId: "forwardref",
                                                total: getTotal(stats.forwardRef),
                                                count: stats.forwardRef
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "Memo",
                                                testId: "memo",
                                                total: getTotal(stats.memo),
                                                count: stats.memo
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "Suspense",
                                                testId: "suspense",
                                                total: getTotal(stats.suspense),
                                                count: stats.suspense
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "Element",
                                                testId: "element",
                                                total: getTotal(stats.elements),
                                                count: stats.elements
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(ChildRow, {
                                                label: "Text**",
                                                testId: "text",
                                                total: stats.text
                                            })
                                        ]
                                    })
                                ]
                            }),
                            /*#__PURE__*/ jsxRuntime_module_u("small", {
                                children: "* includes any component that is built via a function."
                            }),
                            /*#__PURE__*/ jsxRuntime_module_u("br", {}),
                            /*#__PURE__*/ jsxRuntime_module_u("small", {
                                children: "** Text nodes can't have children."
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: StatsPanel_module.card,
                        children: [
                            /*#__PURE__*/ jsxRuntime_module_u("h2", {
                                class: StatsPanel_module.heading,
                                children: "Single Child Type"
                            }),
                            /*#__PURE__*/ jsxRuntime_module_u("table", {
                                class: StatsPanel_module.table,
                                "data-testid": "sing-child-type",
                                children: [
                                    /*#__PURE__*/ jsxRuntime_module_u("thead", {
                                        children: /*#__PURE__*/ jsxRuntime_module_u("tr", {
                                            children: [
                                                /*#__PURE__*/ jsxRuntime_module_u("th", {
                                                    children: "Type"
                                                }),
                                                /*#__PURE__*/ jsxRuntime_module_u("th", {
                                                    children: "Total"
                                                })
                                            ]
                                        })
                                    }),
                                    /*#__PURE__*/ jsxRuntime_module_u("tbody", {
                                        children: [
                                            /*#__PURE__*/ jsxRuntime_module_u("tr", {
                                                children: [
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        children: "Root"
                                                    }),
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        "data-testid": "single-root",
                                                        children: stats.singleChildType.roots
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u("tr", {
                                                children: [
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        children: "Class Component"
                                                    }),
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        "data-testid": "single-class-component",
                                                        children: stats.singleChildType.classComponents
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u("tr", {
                                                children: [
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        children: "Function Component*"
                                                    }),
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        "data-testid": "single-function-component",
                                                        children: stats.singleChildType.functionComponents
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u("tr", {
                                                children: [
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        children: "Fragment"
                                                    }),
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        "data-testid": "single-fragment",
                                                        children: stats.singleChildType.fragments
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u("tr", {
                                                children: [
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        children: "forwardRef"
                                                    }),
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        "data-testid": "single-forwardref",
                                                        children: stats.singleChildType.forwardRef
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u("tr", {
                                                children: [
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        children: "Memo"
                                                    }),
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        "data-testid": "single-memo",
                                                        children: stats.singleChildType.memo
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u("tr", {
                                                children: [
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        children: "Suspense"
                                                    }),
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        "data-testid": "single-suspense",
                                                        children: stats.singleChildType.suspense
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u("tr", {
                                                children: [
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        children: "Element"
                                                    }),
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        "data-testid": "single-element",
                                                        children: stats.singleChildType.elements
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u("tr", {
                                                children: [
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        children: "Text"
                                                    }),
                                                    /*#__PURE__*/ jsxRuntime_module_u("td", {
                                                        "data-testid": "single-text",
                                                        children: stats.singleChildType.text
                                                    })
                                                ]
                                            })
                                        ]
                                    })
                                ]
                            })
                        ]
                    })
                ]
            })
        ]
    });
}

;// CONCATENATED MODULE: ./src/view/components/Devtools.tsx













const { addPluginEventListener } = window;
function DevTools(props) {
    const panel = props.store.activePanel.value;
    hooks_module_y(()=>{
        // notify react-lynx that we need an init if there is no root
        if (props.store.roots.value.length === 0) {
            props.ctx.devtoolsProps.postMessage("Remote.Customized.CDP", {
                method: "Page.reload",
                params: {}
            });
        }
    });
    hooks_module_y(()=>{
        const onUINodeIdSelected = (UINodeId)=>{
            if (UINodeId == null) return;
            if (UINodeId === globalThis.preactDevtoolsLDTCtx.highlightUniqueId) {
                if (false) {}
                return;
            }
            props.store.emit("element-picked", {
                uniqueId: UINodeId
            });
        };
        if (props.ctx.devtoolsProps.addOnScreenCastPanelUINodeIdSelectedListener) {
            var _props_ctx_devtoolsProps_addOnScreenCastPanelUINodeIdSelectedListener, _props_ctx_devtoolsProps;
            (_props_ctx_devtoolsProps_addOnScreenCastPanelUINodeIdSelectedListener = (_props_ctx_devtoolsProps = props.ctx.devtoolsProps).addOnScreenCastPanelUINodeIdSelectedListener) === null || _props_ctx_devtoolsProps_addOnScreenCastPanelUINodeIdSelectedListener === void 0 ? void 0 : _props_ctx_devtoolsProps_addOnScreenCastPanelUINodeIdSelectedListener.call(_props_ctx_devtoolsProps, (UINodeId)=>{
                onUINodeIdSelected(UINodeId);
            });
        } else {
            addPluginEventListener === null || addPluginEventListener === void 0 ? void 0 : addPluginEventListener("uitree-drawer")("Extensions.uitree-drawer", (msg)=>{
                const { UINodeId } = msg || {};
                onUINodeIdSelected(UINodeId);
            });
        }
    }, []);
    const showElements = panel === types_Panel.ELEMENTS;
    const showProfiler = panel === types_Panel.PROFILER;
    const showSettings = panel === types_Panel.SETTINGS;
    const showStats = panel === types_Panel.STATISTICS;
    return /*#__PURE__*/ jsxRuntime_module_u(WindowCtx.Provider, {
        value: props.ctx,
        children: /*#__PURE__*/ jsxRuntime_module_u(EmitCtx.Provider, {
            value: props.store.emit,
            children: /*#__PURE__*/ jsxRuntime_module_u(AppCtx.Provider, {
                value: props.store,
                children: /*#__PURE__*/ jsxRuntime_module_u(preact_module_k, {
                    children: /*#__PURE__*/ jsxRuntime_module_u("div", {
                        class: `${Devtools_module.theme} ${Devtools_module.root}`,
                        children: [
                            /*#__PURE__*/ jsxRuntime_module_u(ThemeSwitcher, {}),
                            /*#__PURE__*/ jsxRuntime_module_u(SmallTabGroup, {
                                class: Devtools_module.switcher,
                                children: [
                                    /*#__PURE__*/ jsxRuntime_module_u("div", {
                                        class: Devtools_module.switcherInner,
                                        children: [
                                            /*#__PURE__*/ jsxRuntime_module_u(SmallTab, {
                                                onClick: ()=>props.store.activePanel.value = types_Panel.ELEMENTS,
                                                checked: showElements,
                                                name: "root-panel",
                                                value: types_Panel.ELEMENTS,
                                                children: "Elements"
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(SmallTab, {
                                                onClick: ()=>props.store.activePanel.value = types_Panel.PROFILER,
                                                checked: showProfiler,
                                                name: "root-panel",
                                                value: types_Panel.PROFILER,
                                                children: "Profiler"
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(SmallTab, {
                                                onClick: ()=>props.store.activePanel.value = types_Panel.STATISTICS,
                                                checked: showStats,
                                                name: "root-panel",
                                                value: types_Panel.STATISTICS,
                                                children: "Statistics"
                                            }),
                                            /*#__PURE__*/ jsxRuntime_module_u(SmallTab, {
                                                onClick: ()=>props.store.activePanel.value = types_Panel.SETTINGS,
                                                checked: showSettings,
                                                name: "root-panel",
                                                value: types_Panel.SETTINGS,
                                                children: "Settings"
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ jsxRuntime_module_u("a", {
                                        class: Devtools_module.bugLink,
                                        href: "https://github.com/preactjs/preact-devtools/issues",
                                        target: "_blank",
                                        rel: "noopener noreferrer",
                                        children: "Report bug"
                                    })
                                ]
                            }),
                            showElements && /*#__PURE__*/ jsxRuntime_module_u(Elements, {}),
                            showProfiler && /*#__PURE__*/ jsxRuntime_module_u(Profiler, {}),
                            showStats && /*#__PURE__*/ jsxRuntime_module_u(StatsPanel, {}),
                            showSettings && /*#__PURE__*/ jsxRuntime_module_u(Settings, {})
                        ]
                    })
                })
            })
        })
    });
}

;// CONCATENATED MODULE: ./src/adapter/protocol/string-table.ts
/**
 * The string table holds a mapping of strings to ids. This saves a lot of space
 * in messaging because we can only need to declare a string once and can later
 * refer to its id. This is especially true for component or element names which
 * expectedoccur multiple times.
 */ /**
 * Convert a string to an id. Works similar to a gzip dictionary.
 */ function string_table_getStringId(table, input) {
    if (input === null) return 0;
    if (!table.has(input)) {
        table.set("" + input, table.size + 1);
    }
    return table.get(input);
}
// TODO: Use a proper LRU cache?
const encoded = new Map();
const toCodePoint = (s)=>s.codePointAt(0) || 124; // "|"" symbol;
/**
 * Convert a string to an array of codepoints
 */ function encode(input) {
    if (!encoded.has(input)) {
        encoded.set(input, input.split("").map(toCodePoint));
    }
    return encoded.get(input);
}
/**
 * Convert string table to something the extension understands
 * @param {import('./devtools').AdapterState["stringTable"]} table
 * @returns {number[]}
 */ function string_table_flushTable(table) {
    const ops = [
        0
    ];
    table.forEach((_, k)=>{
        ops[0] += k.length + 1;
        ops.push(k.length, ...encode(k));
    });
    return ops;
}
/**
 * Parse message to strings
 */ function parseTable(data) {
    const len = data[0];
    const strings = [];
    if (len > 0) {
        for(let i = 1; i < len; i++){
            const strLen = data[i];
            let start = i + 1;
            const end = i + strLen + 1;
            let str = "";
            for(; start < end; start++){
                str += String.fromCodePoint(data[start]);
            }
            strings.push(str);
            i += strLen;
        }
    }
    return strings;
}

;// CONCATENATED MODULE: ./src/adapter/protocol/events-types.ts
// This is extracted to avoid signals to be bundled with react-lynx
var events_types_MsgTypes = /*#__PURE__*/ function(MsgTypes) {
    MsgTypes[MsgTypes["ADD_ROOT"] = 1] = "ADD_ROOT";
    MsgTypes[MsgTypes["ADD_VNODE"] = 2] = "ADD_VNODE";
    MsgTypes[MsgTypes["REMOVE_VNODE"] = 3] = "REMOVE_VNODE";
    MsgTypes[MsgTypes["UPDATE_VNODE_TIMINGS"] = 4] = "UPDATE_VNODE_TIMINGS";
    MsgTypes[MsgTypes["REORDER_CHILDREN"] = 5] = "REORDER_CHILDREN";
    MsgTypes[MsgTypes["RENDER_REASON"] = 6] = "RENDER_REASON";
    MsgTypes[MsgTypes["COMMIT_STATS"] = 7] = "COMMIT_STATS";
    MsgTypes[MsgTypes["HOC_NODES"] = 8] = "HOC_NODES";
    return MsgTypes;
}({});

;// CONCATENATED MODULE: ./src/adapter/shared/utils.ts
function utils_getSignalTextName(name) {
    return name === "_st" ? "__TextSignal" : name;
}
function utils_traverse(vnode, fn, bindings) {
    fn(vnode);
    const children = bindings.getActualChildren(vnode);
    for(let i = 0; i < children.length; i++){
        const child = children[i];
        if (child != null) {
            utils_traverse(child, fn, bindings);
            fn(child);
        }
    }
}
// eslint-disable-next-line @typescript-eslint/ban-types
function deepClone(obj) {
    return JSON.parse(JSON.stringify(obj));
}
function utils_newRootData(id, node) {
    return {
        id,
        node
    };
}
function sortRoots(searchRoot, roots) {
    const map = new Map();
    const walking = new Set();
    walking.add(searchRoot);
    for(let i = 0; i < roots.length; i++){
        let node = roots[i].node;
        // Update root map. Note that multiple roots can point
        // to the same container node
        if (!map.has(node)) {
            map.set(node, []);
        }
        map.get(node).push(roots[i].id);
        while(node !== null && node !== searchRoot){
            if (walking.has(node)) break;
            walking.add(node);
            node = node.parentNode;
        }
    }
    const stack = [
        searchRoot
    ];
    let out = [];
    let item;
    while((item = stack.pop()) !== undefined){
        if (!walking.has(item)) continue;
        if (item.nodeName !== "IFRAME") {
            const len = item.childNodes.length;
            for(let i = 0; i < len; i++){
                stack.push(item.childNodes[len - i - 1]);
            }
        }
        const found = map.get(item);
        if (found !== undefined) {
            out = out.concat(found);
        }
    }
    return out;
}

;// CONCATENATED MODULE: ./src/adapter/protocol/events-react-lynx.ts
// This is extracted to avoid signals to be bundled with react-lynx



/**
 * Collect all relevant data from a commit and convert it to a message
 * the detools can understand
 */ function events_react_lynx_flush(commit) {
    const { rootId, unmountIds, operations, strings, stats } = commit;
    if (unmountIds.length === 0 && operations.length === 0) return;
    const msg = [
        rootId,
        ...flushTable(strings)
    ];
    if (unmountIds.length > 0) {
        msg.push(MsgTypes.REMOVE_VNODE, unmountIds.length, ...unmountIds);
    }
    for(let i = 0; i < operations.length; i++){
        msg.push(operations[i]);
    }
    if (stats !== null) {
        stats2ops(stats, msg);
    }
    return {
        type: "operation_v2",
        data: msg
    };
}

;// CONCATENATED MODULE: ./src/adapter/shared/traverse.ts






// import { NodeType } from "../../constants";


function getHocName(name) {
    const idx = name.indexOf("(");
    if (idx === -1) return null;
    const wrapper = name.slice(0, idx);
    return wrapper ? wrapper : null;
}
function addHocs(commit, id, hocs) {
    if (hocs.length > 0) {
        commit.operations.push(MsgTypes.HOC_NODES, id, hocs.length);
        for(let i = 0; i < hocs.length; i++){
            const stringId = getStringId(commit.strings, hocs[i]);
            commit.operations.push(stringId);
        }
    }
}
function detectHocs(commit, name, id, hocs) {
    const hocName = getHocName(name);
    if (name.startsWith("ForwardRef")) {
        const idx = name.indexOf("(");
        name = name.slice(idx + 1, -1) || "Anonymous";
        addHocs(commit, id, hocs);
        hocs = [];
    } else {
        if (hocName) {
            hocs = [
                ...hocs,
                hocName
            ];
        } else {
            addHocs(commit, id, hocs);
            hocs = [];
        }
    }
    return {
        name,
        hocs
    };
}
// function isTextNode(dom: HTMLElement | Text | null): dom is Text {
// 	return dom != null && dom.nodeType === NodeType.Text;
// }
// function updateHighlight<T extends SharedVNode>(
// 	profiler: ProfilerState,
// 	vnode: T,
// 	bindings: PreactBindings<T>,
// ) {
// 	if (profiler.highlightUpdates && bindings.isComponent(vnode)) {
// 		const stack: Array<T | null | undefined> = [vnode];
// 		let item;
// 		let dom;
// 		while ((item = stack.shift()) !== undefined) {
// 			// Account for placholders/holes
// 			if (item === null) continue;
// 			if (!bindings.isComponent(item)) {
// 				dom = bindings.getDom(item);
// 				break;
// 			}
// 			stack.push(...bindings.getActualChildren(item));
// 		}
// 		if (dom === null || dom === undefined) return;
// 		if (isTextNode(dom)) {
// 			dom = dom.parentNode as HTMLElement;
// 		}
// 		if (dom && !profiler.pendingHighlightUpdates.has(dom)) {
// 			profiler.pendingHighlightUpdates.add(dom);
// 			measureUpdate(profiler.updateRects, dom);
// 		}
// 	}
// }
function getFilteredChildren(vnode, filters, config, helpers) {
    const children = helpers.getActualChildren(vnode);
    const stack = children.slice();
    const out = [];
    let child;
    while(stack.length){
        child = stack.pop();
        if (child != null) {
            if (!traverse_shouldFilter(child, filters, config, helpers)) {
                out.push(child);
            } else {
                const nextChildren = helpers.getActualChildren(child);
                if (nextChildren.length > 0) {
                    stack.push(...nextChildren.slice());
                }
            }
        }
    }
    return out.reverse();
}
function traverse_shouldFilter(vnode, filters, config, bindings) {
    // Filter text nodes by default. They are too tricky to match
    // with the previous one...
    if (bindings.isTextVNode(vnode)) {
        return true;
    }
    // TODO: Add a virtual root node to be able to filter the actual
    // ones. Currently we have a workaround on the extension side
    // that filters it there, but we should really do it here to be
    // consistent with all other filters.
    if (vnode.type === config.Fragment && filters.type.has("fragment")) {
        const parent = bindings.getVNodeParent(vnode);
        // Only filter non-root nodes
        if (parent != null) return true;
        return false;
    } else if (bindings.isElement(vnode) && filters.type.has("dom")) {
        return true;
    }
    if (filters.type.has("hoc")) {
        const name = bindings.getDisplayName(vnode, config);
        if (name.indexOf("(") > -1 && !name.startsWith("ForwardRef")) {
            return true;
        }
    }
    if (filters.type.has("textSignal")) {
        const name = getSignalTextName(bindings.getDisplayName(vnode, config));
        if (name === "__TextSignal") return true;
    }
    if (filters.regex.length > 0) {
        const name = getSignalTextName(bindings.getDisplayName(vnode, config));
        return filters.regex.some((r)=>{
            // Regexes with a global flag are stateful in JS :((
            r.lastIndex = 0;
            return r.test(name);
        });
    }
    // In Preact V11 we use a Portal component to render Suspense
    // children. Because that is only an implementation detail
    // we'll hide this component to avoid confusing users.
    const parent = bindings.getVNodeParent(vnode);
    if (parent !== null && bindings.isSuspenseVNode(parent) && bindings.isPortal(vnode)) {
        return true;
    }
    return false;
}
function mount(ids, commit, owners, vnode, ownerId, ancestorId, filters, domCache, config, profiler, hocs, bindings, timingsByVNode, renderReasonPre) {
    if (commit.stats !== null) {
        updateOpStats(commit.stats, "mounts", vnode, bindings);
    }
    const root = bindings.isRoot(vnode, config);
    const skip = traverse_shouldFilter(vnode, filters, config, bindings);
    let name = getSignalTextName(bindings.getDisplayName(vnode, config));
    if (filters.type.has("hoc")) {
        const hocName = getHocName(name);
        if (hocName) {
            hocs = [
                ...hocs,
                hocName
            ];
            if (name.startsWith("ForwardRef")) {
                const idx = name.indexOf("(");
                name = name.slice(idx + 1, -1) || "Anonymous";
            }
        }
    }
    if (root || !skip) {
        const id = getOrCreateVNodeId(ids, vnode);
        if (!id) return;
        if (root) {
            commit.operations.push(MsgTypes.ADD_ROOT, id);
        }
        if (!root) {
            const maybeOwner = owners.get(vnode);
            if (maybeOwner !== undefined && !bindings.isRoot(maybeOwner, config)) {
                const maybeOwnerId = getVNodeId(ids, maybeOwner);
                ownerId = maybeOwnerId !== -1 ? maybeOwnerId : ownerId;
            }
        }
        commit.operations.push(MsgTypes.ADD_VNODE, id, getDevtoolsType(vnode, bindings), ancestorId, ownerId, getStringId(commit.strings, name), vnode.key ? getStringId(commit.strings, vnode.key) : 0, // Multiply, because operations array only supports integers
        // and would otherwise cut off floats
        (timingsByVNode.start.get(vnode) || 0) * 1000, (timingsByVNode.end.get(vnode) || 0) * 1000);
        if (ownerId === -1 && !root) {
            ownerId = id;
        }
        if (hocs.length > 0) {
            addHocs(commit, id, hocs);
            hocs = [];
            ownerId = id;
        }
        // Capture render reason (mount here)
        if (profiler.isProfiling && profiler.captureRenderReasons) {
            commit.operations.push(MsgTypes.RENDER_REASON, id, RenderReason.MOUNT, 0);
        }
        // updateHighlight(profiler, vnode, bindings);
        ancestorId = id;
    }
    if (skip && !bindings.isComponent(vnode)) {
        const dom = bindings.getDom(vnode);
        if (dom) domCache.set(dom, vnode);
    }
    let diff = DiffType.UNKNOWN;
    let childCount = 0;
    const children = bindings.getActualChildren(vnode);
    for(let i = 0; i < children.length; i++){
        const child = children[i];
        if (child != null) {
            if (commit.stats !== null) {
                diff = getDiffType(child, diff);
                childCount++;
            }
            mount(ids, commit, owners, child, ownerId, ancestorId, filters, domCache, config, profiler, hocs, bindings, timingsByVNode, renderReasonPre);
        }
    }
    if (commit.stats !== null) {
        updateDiffStats(commit.stats, diff, childCount);
        recordComponentStats(config, bindings, commit.stats, vnode, children);
    }
}
function resetChildren(commit, ids, id, vnode, filters, config, helpers) {
    const children = helpers.getActualChildren(vnode);
    if (!children.length) return;
    const next = getFilteredChildren(vnode, filters, config, helpers);
    // Suspense internals mutate child outside of the standard render cycle.
    // This leads to stale children on the devtools ends. To work around that
    // We'll always reset the children of a Suspense vnode.
    let forceReorder = false;
    if (helpers.isSuspenseVNode(vnode)) {
        forceReorder = true;
    }
    if (!forceReorder && next.length < 2) return;
    commit.operations.push(MsgTypes.REORDER_CHILDREN, id, next.length, ...next.map((x)=>getVNodeId(ids, x)));
}
function update(ids, commit, owners, vnode, ownerId, ancestorId, filters, domCache, config, profiler, hocs, bindings, timingsByVNode, renderReasonPre) {
    if (commit.stats !== null) {
        updateOpStats(commit.stats, "updates", vnode, bindings);
    }
    let diff = DiffType.UNKNOWN;
    const skip = traverse_shouldFilter(vnode, filters, config, bindings);
    if (skip) {
        const id = getVNodeId(ids, vnode);
        if (filters.type.has("hoc")) {
            const name = bindings.getDisplayName(vnode, config);
            const res = detectHocs(commit, name, id, hocs);
            hocs = res.hocs;
        }
        let childCount = 0;
        const children = bindings.getActualChildren(vnode);
        for(let i = 0; i < children.length; i++){
            const child = children[i];
            if (child != null) {
                if (commit.stats !== null) {
                    diff = getDiffType(child, diff);
                    childCount++;
                }
                update(ids, commit, owners, child, ownerId, ancestorId, filters, domCache, config, profiler, hocs, bindings, timingsByVNode, renderReasonPre);
            }
        }
        if (commit.stats !== null) {
            updateDiffStats(commit.stats, diff, childCount);
            recordComponentStats(config, bindings, commit.stats, vnode, children);
        }
        return;
    }
    if (!hasVNodeId(ids, vnode)) {
        mount(ids, commit, owners, vnode, ownerId, ancestorId, filters, domCache, config, profiler, hocs, bindings, timingsByVNode, renderReasonPre);
        return;
    }
    const id = getVNodeId(ids, vnode);
    const oldVNode = getVNodeById(ids, id);
    updateVNodeId(ids, id, vnode);
    const didRender = timingsByVNode.end.has(vnode);
    if (!didRender) {
        return;
    }
    const name = getSignalTextName(bindings.getDisplayName(vnode, config));
    if (filters.type.has("hoc")) {
        const res = detectHocs(commit, name, id, hocs);
        hocs = res.hocs;
    }
    commit.operations.push(MsgTypes.UPDATE_VNODE_TIMINGS, id, (timingsByVNode.start.get(vnode) || 0) * 1000, (timingsByVNode.end.get(vnode) || 0) * 1000);
    if (profiler.isProfiling && profiler.captureRenderReasons) {
        const reason = renderReasonPre !== null ? renderReasonPre.get(vnode) || null : bindings.getRenderReasonPost(ids, bindings, timingsByVNode, oldVNode, vnode);
        if (reason !== null) {
            const count = reason.items ? reason.items.length : 0;
            commit.operations.push(MsgTypes.RENDER_REASON, id, reason.type, count);
            if (reason.items && count > 0) {
                commit.operations.push(...reason.items.map((str)=>getStringId(commit.strings, str)));
            }
        }
    }
    // updateHighlight(profiler, vnode, bindings);
    const oldChildren = oldVNode ? bindings.getActualChildren(oldVNode).map((v)=>v && getVNodeId(ids, v)) : [];
    let shouldReorder = false;
    let childCount = 0;
    const children = bindings.getActualChildren(vnode);
    for(let i = 0; i < children.length; i++){
        const child = children[i];
        if (child == null) {
            const oldChildId = oldChildren[i];
            if (oldChildId != null) {
                commit.unmountIds.push(oldChildId);
            }
        } else if (hasVNodeId(ids, child) || traverse_shouldFilter(child, filters, config, bindings)) {
            if (commit.stats !== null) {
                diff = getDiffType(child, diff);
                childCount++;
            }
            update(ids, commit, owners, child, ownerId, id, filters, domCache, config, profiler, hocs, bindings, timingsByVNode, renderReasonPre);
            // TODO: This is only sometimes necessary
            shouldReorder = true;
        } else {
            if (commit.stats !== null) {
                diff = getDiffType(child, diff);
                childCount++;
            }
            mount(ids, commit, owners, child, ownerId, id, filters, domCache, config, profiler, hocs, bindings, timingsByVNode, renderReasonPre);
            shouldReorder = true;
        }
    }
    if (commit.stats !== null) {
        updateDiffStats(commit.stats, diff, childCount);
        recordComponentStats(config, bindings, commit.stats, vnode, children);
    }
    if (shouldReorder) {
        resetChildren(commit, ids, id, vnode, filters, config, bindings);
    }
}
/**
 * Crawl upwards through potentially filtered vnodes until
 * we find a non-filtered node or reach the top of the tree
 */ function findClosestNonFilteredParent(ids, helpers, vnode) {
    let parentId = -1;
    let parent = helpers.getVNodeParent(vnode);
    while(parent !== null){
        parentId = getVNodeId(ids, parent);
        if (parentId !== -1) {
            break;
        }
        parent = helpers.getVNodeParent(parent);
    }
    return parentId;
}
function traverse_createCommit(ids, roots, owners, vnode, filters, domCache, config, profiler, helpers, timingsByVNode, renderReasonPre) {
    const commit = {
        operations: [],
        rootId: -1,
        strings: new Map(),
        unmountIds: [],
        renderReasons: new Map(),
        stats: profiler.recordStats ? createStats() : null
    };
    let parentId = -1;
    // Roots have no known ownerId
    let ownerId = -1;
    const isNew = !hasVNodeId(ids, vnode);
    if (helpers.isRoot(vnode, config)) {
        const children = helpers.getActualChildren(vnode);
        if (commit.stats !== null) {
            const childrenLen = children.length;
            commit.stats.roots[childrenLen > 4 ? 4 : childrenLen]++;
        }
        parentId = -1;
        if (children.length > 0 && helpers.isVNode(children[0])) {
            const child = children[0];
            if (roots.has(child)) {
                const dom = roots.get(child);
                roots.delete(child);
                roots.set(vnode, dom);
            }
        }
    } else {
        parentId = findClosestNonFilteredParent(ids, helpers, vnode);
        if (!isNew) {
            ownerId = traverse_shouldFilter(vnode, filters, config, helpers) ? parentId : getVNodeId(ids, vnode);
        }
    }
    if (isNew) {
        mount(ids, commit, owners, vnode, ownerId, parentId, filters, domCache, config, profiler, [], helpers, timingsByVNode, renderReasonPre);
    } else {
        update(ids, commit, owners, vnode, ownerId, parentId, filters, domCache, config, profiler, [], helpers, timingsByVNode, renderReasonPre);
    }
    let rootId = getVNodeId(ids, vnode);
    if (rootId === -1) {
        rootId = findClosestNonFilteredParent(ids, helpers, vnode);
    }
    commit.rootId = rootId;
    return commit;
}

;// CONCATENATED MODULE: ./src/adapter/shared/hooks.ts





var hooks_HookType = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(HookType) {
    HookType[HookType["useState"] = 1] = "useState";
    HookType[HookType["useReducer"] = 2] = "useReducer";
    HookType[HookType["useEffect"] = 3] = "useEffect";
    HookType[HookType["useLayoutEffect"] = 4] = "useLayoutEffect";
    HookType[HookType["useRef"] = 5] = "useRef";
    HookType[HookType["useImperativeHandle"] = 6] = "useImperativeHandle";
    HookType[HookType["useMemo"] = 7] = "useMemo";
    HookType[HookType["useCallback"] = 8] = "useCallback";
    HookType[HookType["useContext"] = 9] = "useContext";
    HookType[HookType["useErrorBoundary"] = 10] = "useErrorBoundary";
    HookType[HookType["useDebugValue"] = 11] = "useDebugValue";
    HookType[HookType["custom"] = 99] = "custom";
    HookType[HookType["devtoolsParent"] = 9999] = "devtoolsParent";
    return HookType;
}({})));
let hookLog = (/* unused pure expression or super */ null && ([]));
let inspectingHooks = false;
let ancestorName = "unknown";
const debugValues = new Map();
let debugNames = (/* unused pure expression or super */ null && ([]));
function addHookName(name) {
    if (!inspectingHooks) return;
    debugNames.push(String(name));
}
function addDebugValue(value) {
    if (!inspectingHooks) return;
    const last = hookLog.pop();
    const location = last.stack.reverse().slice(0, -1).map((x)=>x.name === "root" ? x.name : `${x.location}.${x.name}`).join(".");
    debugValues.set(location, value);
}
let ignoreNext = false;
function addHookStack(type) {
    if (!inspectingHooks || ignoreNext) {
        ignoreNext = false;
        return;
    }
    // Ignore next useState call coming from useErrorBoundary
    if (type === 10) {
        ignoreNext = true;
    }
    // By default browser limit stack trace length to 10 entries
    const oldLimit = Error.stackTraceLimit;
    Error.stackTraceLimit = 1000;
    const err = new Error();
    let stack = err.stack ? parseStackTrace(err.stack) : [];
    const ancestorIdx = stack.findIndex((x)=>x.name === ancestorName);
    if (ancestorIdx > -1 && stack.length > 0) {
        // Remove `addHookStack` + `options._hook` + `getHookState` from stack
        let trim = type === 11 ? 2 : 3;
        // These hooks are implemented with other hooks
        if (type === 1 || type === 6 || type === 8 || type === 5) {
            trim += 1;
        }
        // Lynx has one more `call at call (native)` stack, we need `- 1` here
        stack = stack.slice(trim, ancestorIdx - 1);
    }
    const normalized = [];
    // To easy mappings we'll rotate all positional data.
    for(let i = 0; i < stack.length; i++){
        if (i === stack.length - 1) {
            normalized.push({
                name: "root",
                location: "root"
            });
            continue;
        }
        const frame = stack[i];
        const next = stack[i + 1];
        normalized.push({
            name: frame.name,
            // file://view2/.rspeedy/main/background.ed172d51.js -> /.rspeedy/main/background.ed172d51.js
            location: `${next.fileName.replace(/^file:\/\/[^/]*/, "")}:${next.line}:${next.column}`
        });
    }
    hookLog.push({
        type,
        stack: normalized
    });
    // Restore original stack trace limit
    Error.stackTraceLimit = oldLimit;
}
function parseHookData(config, data, vnode, userHookNames, bindings) {
    const tree = new Map();
    const root = {
        children: [],
        depth: 0,
        name: "root",
        editable: false,
        id: "root",
        type: "object",
        value: null,
        meta: null
    };
    tree.set("root", root);
    const out = [
        root
    ];
    data.forEach((hook, hookIdx)=>{
        const type = hooks_HookType[hook.type];
        let parentId = "root";
        for(let i = hook.stack.length - 2; i >= 0; i--){
            const frame = hook.stack[i];
            const isNative = i === 0;
            const id = `${parentId}.${frame.location}.${frame.name}`;
            if (!tree.has(id)) {
                let value = "__preact_empty__";
                let editable = false;
                let children = [];
                let nodeType = "undefined";
                const depth = hook.stack.length - i - 1;
                let name = isNative ? type : frame.name;
                if (isNative && userHookNames.length > 0 && (hook.type === 1 || hook.type === 5 || hook.type === 7 || hook.type === 2)) {
                    name = `${name} ${userHookNames.pop()}`;
                }
                if (debugValues.has(id)) {
                    value = serialize(config, bindings, debugValues.get(id));
                }
                const hookValueTree = [];
                if (isNative) {
                    const s = bindings.getHookState(vnode, hookIdx, hook.type);
                    const rawValue = Array.isArray(s) ? s[0] : s;
                    value = serialize(config, bindings, rawValue);
                    // The user should be able to click through the value
                    // properties if the value is an object. We parse it
                    // separately and append it as children to our hook node
                    if (typeof rawValue === "object" && !(rawValue instanceof preactDevtoolsCtx.Node)) {
                        const valueTree = parseProps(value, id, 8, 1, name);
                        children = valueTree.get(id).children;
                        const flat = flattenChildren(valueTree, id, ()=>false).slice(1);
                        for(let j = 0; j < flat.length; j++){
                            const data = valueTree.get(flat[j]);
                            hookValueTree.push(data);
                        }
                        if (hookValueTree.length > 1) {
                            nodeType = hookValueTree[0].type;
                        }
                    }
                    editable = (hook.type === 1 || hook.type === 2) && isEditable(rawValue);
                }
                const item = {
                    children,
                    depth,
                    editable,
                    id,
                    name,
                    type: nodeType,
                    meta: isNative ? {
                        index: hookIdx,
                        type
                    } : frame.name,
                    value,
                    index: hookIdx
                };
                tree.set(id, item);
                out.push(item);
                if (tree.has(parentId)) {
                    tree.get(parentId).children.push(id);
                }
                if (hookValueTree.length) {
                    hookValueTree.forEach((v)=>{
                        tree.set(v.id, v);
                        out.push(v);
                    });
                }
            }
            parentId = id;
        }
    });
    return out;
}
function hooks_inspectHooks(config, options, vnode, helpers) {
    inspectingHooks = true;
    hookLog = [];
    debugValues.clear();
    debugNames = [];
    ancestorName = parseStackTrace(new Error().stack)[0].name;
    const c = helpers.getComponent(vnode);
    const isClass = vnode.type.prototype && vnode.type.prototype.render;
    // Disable hook effects
    options._skipEffects = options.__s = true;
    const prevConsole = {};
    // Temporarily disable all console methods to not confuse users
    // It sucks that we need to do this :/
    for(const method in console){
        try {
            prevConsole[method] = console[method];
            console[method] = ()=>undefined;
        } catch (error) {
        // Ignore errors here
        }
    }
    let pendingValues = null;
    let statefulHooks = null;
    try {
        // Call render on a dummy component, so that any possible
        // state changes or effect are not written to our original
        // component.
        const hooks = helpers.getComponentHooks(vnode);
        if (hooks === null) return [];
        statefulHooks = helpers.getStatefulHooks(vnode);
        if (statefulHooks !== null) {
            pendingValues = statefulHooks.map((s)=>helpers.getPendingHookValue(s));
        }
        const dummy = {
            props: c.props,
            context: c.context,
            state: {},
            __hooks: hooks,
            __H: hooks,
            __v: null
        };
        // Force preact to reset internal hooks index
        const renderHook = options.__r || options._render;
        if (renderHook) {
            const dummyVNode = h("div", null);
            // Note: A "div" normally won't have the _component property set,
            // but we can get away with that for the devtools
            // This is only needed for Preact 10.x
            dummyVNode._component = dummy;
            dummyVNode.__c = dummy;
            dummy.__v = dummyVNode;
            // Preact V11 for hook names
            dummyVNode.data = {
                __hooks: hooks,
                __H: hooks
            };
            renderHook(dummyVNode, null);
        }
        if (isClass) {
            c.render.call(dummy, dummy.props, dummy.state);
        } else {
            // Preact V11 doesn't create classes anymore
            if (c.constructor === Object) {
                vnode.type.call(dummy, dummy.props, dummy.context);
            } else {
                c.constructor.call(dummy, dummy.props, dummy.context);
            }
        }
        // Signals need this, otherwise they end up in an incosnistent state
        const diffedHook = options.diffed;
        if (diffedHook) diffedHook(vnode);
    } catch (error) {
    // We don't care about any errors here. We only need
    // the hook call sites
    } finally{
        // Restore hook state
        if (pendingValues !== null && statefulHooks !== null) {
            pendingValues.forEach((original, i)=>{
                if (original !== undefined) {
                    helpers.setPendingHookValue(statefulHooks[i], original);
                }
            });
        }
        // Restore original console
        for(const method in prevConsole){
            try {
                console[method] = prevConsole[method];
            } catch (error) {
            // Ignore errors
            }
        }
        options._skipEffects = options.__s = false;
    }
    const parsed = hookLog.length ? parseHookData(config, hookLog, vnode, [
        ...debugNames
    ].reverse(), helpers) : null;
    debugNames = [];
    inspectingHooks = false;
    ancestorName = "unknown";
    hookLog = [];
    return parsed;
}

;// CONCATENATED MODULE: ./src/adapter/shared/inspectVNode.ts





/**
 * Serialize all properties/attributes of a `VNode` like `props`, `context`,
 * `hooks`, and other data. This data will be requested when the user selects a
 * `VNode` in the devtools. It returning information will be displayed in the
 * sidebar.
 */ function inspectVNode_inspectVNode(ids, config, bindings, options, id, supportsHooks, version) {
    const vnode = getVNodeById(ids, id);
    if (!vnode) return null;
    const c = bindings.getComponent(vnode);
    const hasState = bindings.isComponent(vnode) && c != null && typeof c.state === "object" && c.state != null && Object.keys(c.state).length > 0;
    const isSignalTextNode = typeof vnode.type === "function" && vnode.type.displayName === "_st";
    const hasHooks = c != null && !isSignalTextNode && bindings.getComponentHooks(vnode) != null;
    const hooks = supportsHooks && hasHooks ? inspectHooks(config, options, vnode, bindings) : null;
    const context = c != null ? serialize(config, bindings, cleanContext(c.context)) : null;
    const props = vnode.type !== null ? serialize(config, bindings, cleanProps(vnode.props)) : null;
    const state = hasState ? serialize(config, bindings, c.state) : null;
    const signals = c != null && "__$u" in c ? inspectSignalSubscriptions(config, bindings, c.__$u.s) : null;
    let suspended = false;
    let canSuspend = false;
    let item = vnode;
    while(item){
        if (bindings.isSuspenseVNode(item)) {
            canSuspend = true;
            const res = bindings.getSuspendedState(item);
            if (res !== null) {
                suspended = res;
            }
            break;
        }
        item = bindings.getVNodeParent(item);
    }
    return {
        context,
        canSuspend,
        key: vnode.key || null,
        hooks: supportsHooks ? hooks : !supportsHooks && hasHooks ? [] : null,
        id,
        name: getSignalTextName(bindings.getDisplayName(vnode, config)),
        props,
        state,
        signals,
        // TODO: We're not using this information anywhere yet
        type: getDevtoolsType(vnode, bindings),
        suspended,
        version,
        // @ts-ignore
        __source: vnode.__source || null
    };
}
function inspectSignalSubscriptions(config, bindings, node) {
    const out = {};
    let i = 0;
    const seen = new Set();
    while(node !== null && node !== undefined && !seen.has(node)){
        seen.add(node);
        out[i] = serialize(config, bindings, node.S);
        node = node.n;
        i++;
    }
    return i > 0 ? out : null;
}

;// CONCATENATED MODULE: ./src/adapter/10/bindings.ts


// Mangle accessors
/**
 * Get the direct parent of a `vnode`
 */ function getVNodeParent(vnode) {
    return vnode._parent || vnode.__ || // Older Preact X versions used `__p`
    vnode.__p || null;
}
/**
 * Check if a `vnode` is the root of a tree
 */ function bindings_isRoot(vnode, config) {
    return getVNodeParent(vnode) == null && vnode.type === config.Fragment;
}
/**
 * Return the component instance of a `vnode` or `hookState`
 */ function bindings_getComponent(node) {
    return node._component || node.__c || null;
}
/**
 * Get a `vnode`'s _dom reference.
 */ function getDom(vnode) {
    return vnode._dom || vnode.__e || null;
}
function hasDom(x) {
    return x != null && ("_dom" in x || "__e" in x);
}
/**
 * Check if a `vnode` represents a `Suspense` component
 */ function isSuspenseVNode(vnode) {
    const c = bindings_getComponent(vnode);
    // FYI: Mangling of `_childDidSuspend` is not stable in Preact < 10.3.0
    return c != null && !!(c._childDidSuspend || c.__c);
}
/**
 * Get the internal hooks state of a component
 */ function getComponentHooks(vnode) {
    const c = bindings_getComponent(vnode);
    if (!c) return null;
    return c.__hooks || c.__H || null;
}
function getStatefulHooks(vnode) {
    const hooks = getComponentHooks(vnode);
    return hooks !== null ? hooks._list || hooks.__ || hooks.i || // Preact 10.1.0
    null : null;
}
function isUseReducerOrState(hookState) {
    return !!hookState._component || !!hookState.__c;
}
function getStatefulHookValue(hookState) {
    if (hookState !== null) {
        const value = hookState._value || hookState.__ || null;
        if (value !== null && Array.isArray(value)) {
            return value[0];
        }
    }
    return null;
}
function getPendingHookValue(state) {
    // Preact >= 10.8.1
    if (state.__pendingValue !== undefined) {
        return state.__pendingValue;
    } else if (state.__V !== undefined) {
        return state.__V;
    } else if (state.o !== undefined) {
        return state.o;
    }
    return undefined;
}
function setPendingHookValue(state, value) {
    // Preact >= 10.8.1
    if ("__pendingValue" in state) {
        state.__pendingValue = value;
    } else if ("__V" in state) {
        state.__V = value;
    } else if ("o" in state) {
        state.o = value;
    }
}
function getHookState(vnode, index, type) {
    const c = bindings_getComponent(vnode);
    if (c === null) return null;
    const list = getStatefulHooks(vnode);
    if (list && list[index]) {
        // useContext
        if (type === HookType.useContext) {
            const context = list[index]._context || list[index].__c || list[index].c;
            const provider = c.context[context._id] || c.context[context.__c];
            return provider ? provider.props.value : context._defaultValue || context.__;
        }
        let value;
        const state = list[index];
        // Prefer current value before pending
        if ("_value" in state) {
            value = state._value;
        } else if ("__" in state) {
            value = state.__;
        } else {
            value = getPendingHookValue(list[index]);
        }
        if (type === HookType.useRef) {
            return value.current;
        } else if (type === HookType.useErrorBoundary && !value) {
            return "__preact_empty__";
        }
        return value;
    }
    return [];
}
/**
 * Get the diffed children of a `vnode`
 */ function getActualChildren(vnode) {
    return vnode._children || vnode.__k || [];
}
// End Mangle accessors
/**
 * Get the root of a `vnode`
 */ function findRoot(vnode, config) {
    let next = vnode;
    while((next = getVNodeParent(next)) != null){
        if (bindings_isRoot(next, config)) {
            return next;
        }
    }
    return vnode;
}
/**
 * Get human readable name of the component/dom element
 */ function bindings_getDisplayName(vnode, config) {
    const { type } = vnode;
    if (type === config.Fragment) return "Fragment";
    else if (typeof type === "function") {
        // Context is a special case :((
        // See: https://reactjs.org/docs/context.html#contextdisplayname
        const c = bindings_getComponent(vnode);
        if (c !== null) {
            // Consumer
            if (c.constructor) {
                const ct = c.constructor.contextType;
                if (ct && ct.Consumer === type) {
                    const name = ct.displayName ? ct.displayName + "." : "";
                    return `${name}Consumer`;
                }
            }
            // Provider
            if (c.sub) {
                const ctx = type._contextRef || ("__l" in type ? type.__l : type.__);
                if (ctx) {
                    const name = ctx.displayName ? ctx.displayName + "." : "";
                    return `${name}Provider`;
                }
            }
            if (isSuspenseVNode(vnode)) {
                return "Suspense";
            }
            // Preact 10.4.1 uses a raw Component as a child for Suspense
            // by doing `createElement(Component, ...);`
            if (type === config.Component) {
                return "Component";
            }
        }
        return type.displayName || type.name || "Anonymous";
    } else if (typeof type === "string") return type;
    return "#text";
}
function getNextState(c) {
    return c._nextState || c.__s || null;
}
function setNextState(c, value) {
    return c._nextState = c.__s = value;
}
function getSuspenseStateKey(c) {
    if ("_suspended" in c.state) {
        return "_suspended";
    } else if ("__e" in c.state) {
        return "__e";
    }
    // This is a bit whacky, but property name mangling is unsafe in
    // Preact <10.4.9
    const keys = Object.keys(c.state);
    if (keys.length > 0) {
        return keys[0];
    }
    return null;
}
function getSuspendedState(vnode) {
    const c = bindings_getComponent(vnode);
    if (c) {
        const key = getSuspenseStateKey(c);
        if (key) {
            return !!c._nextState[key];
        }
    }
    return null;
}
function isTextVNode(vnode) {
    return vnode !== null && vnode.type === null;
}
function createSuspenseState(vnode, suspended) {
    const c = bindings_getComponent(vnode);
    const key = getSuspenseStateKey(c);
    if (c && key) {
        return {
            [key]: suspended
        };
    }
    return {};
}
function getInstance(vnode) {
    // For components we use the instance to check refs, otherwise
    // we'll use a dom node
    if (typeof vnode.type === "function") {
        return bindings_getComponent(vnode);
    }
    return getDom(vnode);
}
function isComponent(vnode) {
    return vnode !== null && typeof vnode.type === "function";
}
function isVNode(x) {
    return x != null && x.type !== undefined && hasDom(x);
}
function isElement(vnode) {
    return typeof vnode.type === "string";
}
// eslint-disable-next-line @typescript-eslint/no-unused-vars
function isPortal(vnode) {
    // TODO: Find a way to detect portals
    return false;
}
const bindingsV10 = (/* unused pure expression or super */ null && ({
    isRoot: bindings_isRoot,
    getDisplayName: bindings_getDisplayName,
    getPropsVNodeDisplayName: bindings_getDisplayName,
    getActualChildren,
    getDom,
    isTextVNode,
    getInstance,
    createSuspenseState,
    getComponent: bindings_getComponent,
    getComponentHooks,
    getHookState,
    getPendingHookValue,
    setPendingHookValue,
    getVNodeParent,
    isComponent,
    isElement,
    isSuspenseVNode,
    getSuspendedState,
    isVNode,
    setNextState,
    isPortal,
    getStatefulHookValue,
    getStatefulHooks,
    isUseReducerOrState,
    getRenderReasonPost
}));

;// CONCATENATED MODULE: ./src/adapter/10/log.ts


/**
 * Pretty print a `VNode` to the browser console. This can be triggered
 * by clicking a button in the devtools ui.
 */ function log_logVNode(ids, config, id, children) {
    const vnode = getVNodeById(ids, id);
    if (vnode == null) {
        // eslint-disable-next-line no-console
        console.warn(`Could not find vnode with id ${id}`);
        return;
    }
    const display = getDisplayName(vnode, config);
    const name = display === "#text" ? display : `<${display || "Component"} />`;
    /* eslint-disable no-console */ console.group(`LOG %c${name}`, "color: #ea88fd; font-weight: normal");
    console.log("props:", vnode.props);
    const c = getComponent(vnode);
    if (c != null) {
        console.log("state:", c.state);
    }
    console.log("vnode:", vnode);
    console.log("devtools id:", id);
    console.log("devtools children:", children);
    console.groupEnd();
/* eslint-enable no-console */ }

;// CONCATENATED MODULE: ./src/adapter/shared/renderer.ts



// import { startDrawing } from "../adapter/highlightUpdates";







const memoReg = /^Memo\(/;
const forwardRefReg = /^ForwardRef\(/;
/**
 * Get the type of a vnode. The devtools uses these constants to differentiate
 * between the various forms of components.
 */ function renderer_getDevtoolsType(vnode, bindings) {
    if (bindings.isComponent(vnode)) {
        // TODO: Use getDisplayName here?
        const name = vnode.type.displayName || "";
        if (memoReg.test(name)) return DevNodeType.Memo;
        if (forwardRefReg.test(name)) return DevNodeType.ForwardRef;
        if (bindings.isSuspenseVNode(vnode)) return DevNodeType.Suspense;
        if (bindings.isPortal(vnode)) return DevNodeType.Portal;
        // TODO: Provider and Consumer
        return vnode.type.prototype && vnode.type.prototype.render ? DevNodeType.ClassComponent : DevNodeType.FunctionComponent;
    }
    return DevNodeType.Element;
}
function createRenderer(port, config, options, supports, profiler, filters, ids, bindings, roots, version) {
    let currentUnmounts = [];
    let prevOwners = new Map();
    /** Use this to check if we added a root */ let rootSize = roots.size;
    const domToVNode = new WeakMap();
    let unmountStats = {
        components: 0,
        elements: 0,
        text: 0
    };
    function onUnmount(vnode) {
        if (profiler.recordStats) {
            if (bindings.isComponent(vnode)) {
                unmountStats.components++;
            } else if (bindings.isElement(vnode)) {
                unmountStats.elements++;
            } else {
                unmountStats.text++;
            }
        }
        if (!shouldFilter(vnode, filters, config, bindings)) {
            if (hasVNodeId(ids, vnode)) {
                currentUnmounts.push(getVNodeId(ids, vnode));
            }
        }
        if (!bindings.isComponent(vnode)) {
            const dom = bindings.getDom(vnode);
            if (dom != null) domToVNode.delete(dom);
        }
        removeVNodeId(ids, vnode);
    }
    const inspect = (id)=>{
        return inspectVNode(ids, config, bindings, options, id, supports.hooks, version);
    };
    return {
        clear () {
            roots.forEach((dom, vnode)=>{
                onUnmount(vnode);
            });
        },
        getRootMappings () {
            return Array.from(roots.entries()).map((entry)=>{
                return newRootData(getVNodeId(ids, entry[0]), entry[1]);
            });
        },
        getVNodeById: (id)=>getVNodeById(ids, id),
        getUniqueListIdById: (id)=>getUniqueListIdById(ids, id),
        getUniqueListIdBySnapshotId: (snapshotId)=>getUniqueListIdBySnapshotId(ids, snapshotId),
        getIdByUniqueId: (uniqueId)=>getIdByUniqueId(ids, uniqueId),
        getDisplayName (vnode) {
            return bindings.getDisplayName(vnode, config);
        },
        log: (id, children)=>logVNode(ids, config, id, children),
        inspect,
        findDomForVNode (id) {
            const vnode = getVNodeById(ids, id);
            if (!vnode) return null;
            let first = null;
            let last = null;
            // Traverse tree until we find the first DOM node
            let stack = [
                vnode
            ];
            let item;
            while((item = stack.shift()) !== undefined){
                if (item === null) continue;
                if (!bindings.isComponent(item)) {
                    first = bindings.getDom(item);
                    break;
                }
                stack.push(...bindings.getActualChildren(item));
            }
            // If we traversed through every child, then there is
            // no last child present.
            if (first !== null) {
                stack = [
                    vnode
                ];
                while((item = stack.pop()) !== undefined){
                    if (item === null) continue;
                    if (!bindings.isComponent(item)) {
                        last = bindings.getDom(item);
                        break;
                    }
                    stack.push(...bindings.getActualChildren(item));
                }
            }
            // Only set last if node is different. If both are the same
            // we assume that we cannot show correct padding, margin and
            // border visualizations and skip that.
            return [
                first,
                first === last ? null : last
            ];
        },
        findVNodeIdForDom (node) {
            const vnode = domToVNode.get(node);
            if (vnode) {
                if (shouldFilter(vnode, filters, config, bindings)) {
                    let p = vnode;
                    let found = null;
                    while((p = bindings.getVNodeParent(p)) != null){
                        if (!shouldFilter(p, filters, config, bindings)) {
                            found = p;
                            break;
                        }
                    }
                    if (found != null) {
                        return getVNodeId(ids, found);
                    }
                } else {
                    return getVNodeId(ids, vnode);
                }
            }
            return -1;
        },
        refresh () {
            this.applyFilters(filters);
        },
        applyFilters (nextFilters) {
            /** Queue events and flush in one go */ const queue = [];
            roots.forEach((dom, root)=>{
                const rootId = getVNodeId(ids, root);
                unmountStats = {
                    components: 0,
                    elements: 0,
                    text: 0
                };
                traverse(root, (vnode)=>this.onUnmount(vnode), bindings);
                const commit = {
                    operations: [],
                    rootId,
                    strings: new Map(),
                    unmountIds: currentUnmounts,
                    stats: profiler.recordStats ? createStats() : null
                };
                if (commit.stats !== null) {
                    commit.stats.unmounts = unmountStats;
                }
                const unmounts = flush(commit);
                if (unmounts) {
                    currentUnmounts = [];
                    queue.push(unmounts);
                }
            });
            filters.regex = nextFilters.regex;
            filters.type = nextFilters.type;
            roots.forEach((dom, root)=>{
                const commit = createCommit(ids, roots, prevOwners, root, filters, domToVNode, config, profiler, bindings, {
                    start: new Map(),
                    end: new Map()
                }, null);
                const ev = flush(commit);
                if (!ev) return;
                queue.push(ev);
            });
            queue.forEach((ev)=>port.send(ev.type, ev.data));
            port.send("root-order-page", null);
        },
        onCommit (vnode, owners, timingsByVNode, renderReasonPre) {
            const commit = createCommit(ids, roots, owners, vnode, filters, domToVNode, config, profiler, bindings, timingsByVNode, renderReasonPre);
            prevOwners = owners;
            timingsByVNode.start.clear();
            timingsByVNode.end.clear();
            if (commit.stats !== null) {
                commit.stats.unmounts = unmountStats;
                unmountStats = {
                    components: 0,
                    elements: 0,
                    text: 0
                };
            }
            commit.unmountIds.push(...currentUnmounts);
            currentUnmounts = [];
            const ev = flush(commit);
            if (!ev) return;
            if (profiler.updateRects.size > 0) {
                // TODO: make this work
                // startDrawing(profiler.updateRects);
                profiler.pendingHighlightUpdates.clear();
            }
            port.send(ev.type, ev.data);
            if (rootSize !== roots.size) {
                rootSize = roots.size;
                port.send("root-order-page", null);
            }
        },
        onUnmount,
        update (id, type, path, value) {
            if (isSerializedBigint(value)) {
                value = BigInt(value.value);
            }
            const vnode = getVNodeById(ids, id);
            if (vnode !== null) {
                if (bindings.isComponent(vnode)) {
                    const c = bindings.getComponent(vnode);
                    if (c) {
                        if (type === "props") {
                            vnode.props = setInCopy(vnode.props || {}, path.slice(), value);
                        } else if (type === "state") {
                            const res = setInCopy(c.state || {}, path.slice(), value);
                            bindings.setNextState(c, res);
                        } else if (type === "context") {
                            // TODO: Investigate if we should disallow modifying context
                            // from devtools and make it readonly.
                            setIn(c.context || {}, path.slice(), value);
                        }
                        c.forceUpdate();
                    }
                }
            }
        },
        updateHook (id, index, value) {
            if (isSerializedBigint(value)) {
                value = BigInt(value.value);
            }
            const vnode = getVNodeById(ids, id);
            if (vnode !== null && bindings.isComponent(vnode)) {
                const c = bindings.getComponent(vnode);
                if (c) {
                    const s = bindings.getHookState(vnode, index);
                    // Only useState and useReducer hooks marked as editable so state can
                    // cast to more specific ReducerHookState value.
                    s[0] = value;
                    c.forceUpdate();
                }
            }
        },
        updateSignal (id, index, value) {
            if (isSerializedBigint(value)) {
                value = BigInt(value.value);
            }
            const vnode = getVNodeById(ids, id);
            if (vnode !== null && bindings.isComponent(vnode)) {
                const c = bindings.getComponent(vnode);
                if (c !== null && "__$u" in c) {
                    let node = c.__$u.s;
                    let i = 0;
                    const seen = new Set();
                    while(node !== null && node !== undefined && !seen.has(node)){
                        if (i === index) {
                            node.S.value = value;
                            return;
                        }
                        seen.add(node);
                        node = node.n;
                        i++;
                    }
                }
            }
        },
        suspend (id, active) {
            let vnode = getVNodeById(ids, id);
            while(vnode !== null){
                if (bindings.isSuspenseVNode(vnode)) {
                    const c = bindings.getComponent(vnode);
                    if (c) {
                        c.setState(bindings.createSuspenseState(vnode, active));
                    }
                    // Get nearest non-filtered vnode
                    let nearest = vnode;
                    while(nearest && shouldFilter(nearest, filters, config, bindings)){
                        nearest = bindings.getVNodeParent(nearest);
                    }
                    if (nearest && hasVNodeId(ids, nearest)) {
                        const nearestId = getVNodeId(ids, nearest);
                        if (id !== nearestId) {
                            const inspectData = inspect(nearestId);
                            if (inspectData) {
                                inspectData.suspended = active;
                                port.send("inspect-result", inspectData);
                            }
                        }
                    }
                    break;
                }
                vnode = bindings.getVNodeParent(vnode);
            }
        }
    };
}

;// CONCATENATED MODULE: ./src/adapter/shared/stats.ts



var stats_DiffType = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(DiffType) {
    DiffType[DiffType["UNKNOWN"] = 0] = "UNKNOWN";
    DiffType[DiffType["KEYED"] = 1] = "KEYED";
    DiffType[DiffType["UNKEYED"] = 2] = "UNKEYED";
    DiffType[DiffType["MIXED"] = 3] = "MIXED";
    return DiffType;
}({})));
function getChildCountIdx(count) {
    return count > 4 ? 4 : count;
}
function stats_updateDiffStats(stats, diff, childCount) {
    const idx = getChildCountIdx(childCount);
    if (diff === 1) {
        stats.keyed[idx]++;
    } else if (diff === 2) {
        stats.unkeyed[idx]++;
    } else if (diff === 3) {
        stats.mixed[idx]++;
    }
}
function stats_updateOpStats(stats, kind, vnode, bindings) {
    if (bindings.isComponent(vnode)) {
        stats[kind].components++;
    } else if (bindings.isElement(vnode)) {
        stats[kind].elements++;
    } else {
        stats[kind].text++;
    }
}
// TODO: store update depth
function stats_createStats() {
    return {
        roots: [
            0,
            0,
            0,
            0,
            0
        ],
        classComponents: [
            0,
            0,
            0,
            0,
            0
        ],
        functionComponents: [
            0,
            0,
            0,
            0,
            0
        ],
        fragments: [
            0,
            0,
            0,
            0,
            0
        ],
        forwardRef: [
            0,
            0,
            0,
            0,
            0
        ],
        memo: [
            0,
            0,
            0,
            0,
            0
        ],
        suspense: [
            0,
            0,
            0,
            0,
            0
        ],
        elements: [
            0,
            0,
            0,
            0,
            0
        ],
        text: 0,
        keyed: [
            0,
            0,
            0,
            0,
            0
        ],
        unkeyed: [
            0,
            0,
            0,
            0,
            0
        ],
        mixed: [
            0,
            0,
            0,
            0,
            0
        ],
        mounts: {
            components: 0,
            elements: 0,
            text: 0
        },
        unmounts: {
            components: 0,
            elements: 0,
            text: 0
        },
        updates: {
            components: 0,
            elements: 0,
            text: 0
        },
        singleChildType: {
            roots: 0,
            classComponents: 0,
            functionComponents: 0,
            fragments: 0,
            forwardRef: 0,
            memo: 0,
            suspense: 0,
            elements: 0,
            text: 0
        }
    };
}
function stats_stats2ops(stats, out) {
    out.push(MsgTypes.COMMIT_STATS);
    pushStatsChildren(out, stats.roots);
    pushStatsChildren(out, stats.classComponents);
    pushStatsChildren(out, stats.functionComponents);
    pushStatsChildren(out, stats.fragments);
    pushStatsChildren(out, stats.forwardRef);
    pushStatsChildren(out, stats.memo);
    pushStatsChildren(out, stats.suspense);
    pushStatsChildren(out, stats.elements);
    out.push(stats.text);
    pushStatsChildren(out, stats.keyed);
    pushStatsChildren(out, stats.unkeyed);
    pushStatsChildren(out, stats.mixed);
    out.push(stats.mounts.components);
    out.push(stats.mounts.elements);
    out.push(stats.mounts.text);
    out.push(stats.updates.components);
    out.push(stats.updates.elements);
    out.push(stats.updates.text);
    out.push(stats.unmounts.components);
    out.push(stats.unmounts.elements);
    out.push(stats.unmounts.text);
    // Single child types
    out.push(stats.singleChildType.roots);
    out.push(stats.singleChildType.classComponents);
    out.push(stats.singleChildType.functionComponents);
    out.push(stats.singleChildType.fragments);
    out.push(stats.singleChildType.forwardRef);
    out.push(stats.singleChildType.memo);
    out.push(stats.singleChildType.suspense);
    out.push(stats.singleChildType.elements);
    out.push(stats.singleChildType.text);
}
function pushStatsChildren(out, stats) {
    out.push(stats[0]);
    out.push(stats[1]);
    out.push(stats[2]);
    out.push(stats[3]);
    out.push(stats[4]);
}
function stats_getDiffType(child, prev) {
    if (prev !== 3) {
        if (child.key != null) {
            return prev === 0 || prev === 1 ? 1 : 3;
        } else {
            return prev === 0 || prev === 2 ? 2 : 3;
        }
    }
    return prev;
}
function stats_recordComponentStats(config, bindings, stats, vnode, children) {
    const childrenLen = children.length;
    const idx = getChildCountIdx(childrenLen);
    if (bindings.isComponent(vnode)) {
        if (vnode.type === config.Fragment) {
            stats.fragments[idx]++;
        } else if (vnode.type.prototype && vnode.type.prototype.render) {
            stats.classComponents[idx]++;
        } else {
            stats.functionComponents[idx]++;
        }
    } else if (bindings.isElement(vnode)) {
        stats.elements[idx]++;
    } else {
        stats.text++;
    }
    const devType = getDevtoolsType(vnode, bindings);
    switch(devType){
        case DevNodeType.ForwardRef:
            stats.forwardRef[idx]++;
            break;
        case DevNodeType.Memo:
            stats.memo[idx]++;
            break;
        case DevNodeType.Suspense:
            stats.suspense[idx]++;
            break;
    }
    if (childrenLen === 1) {
        const child = children[0];
        if (child != null) {
            if (typeof child.type === "function") {
                if (child.type.prototype && child.type.prototype.render) {
                    stats.singleChildType.classComponents++;
                } else {
                    if (child.type === config.Fragment) {
                        stats.singleChildType.fragments++;
                    } else {
                        const childType = getDevtoolsType(child, bindings);
                        switch(childType){
                            case DevNodeType.ForwardRef:
                                stats.singleChildType.forwardRef++;
                                break;
                            case DevNodeType.Memo:
                                stats.singleChildType.memo++;
                                break;
                            case DevNodeType.Suspense:
                                stats.singleChildType.suspense++;
                                break;
                        }
                    }
                    stats.singleChildType.functionComponents++;
                }
            } else if (child.type !== null) {
                stats.singleChildType.elements++;
            } else {
                stats.singleChildType.text++;
            }
        }
    }
}
function parseChildrenStats(i, ops) {
    const data = [
        ops[i++],
        ops[i++],
        ops[i++],
        ops[i++],
        ops[i++]
    ];
    return {
        i,
        data
    };
}
function parseTypeStats(i, ops) {
    const data = {
        components: ops[i++],
        elements: ops[i++],
        text: ops[i++]
    };
    return {
        i,
        data
    };
}
function parseStats(i, ops) {
    const roots = parseChildrenStats(i, ops);
    const klass = parseChildrenStats(roots.i, ops);
    const fnComps = parseChildrenStats(klass.i, ops);
    const fragments = parseChildrenStats(fnComps.i, ops);
    const forwardRef = parseChildrenStats(fragments.i, ops);
    const memo = parseChildrenStats(forwardRef.i, ops);
    const suspense = parseChildrenStats(memo.i, ops);
    const elements = parseChildrenStats(suspense.i, ops);
    i = elements.i;
    const text = ops[i++];
    const keyed = parseChildrenStats(i, ops);
    const unkeyed = parseChildrenStats(keyed.i, ops);
    const mixed = parseChildrenStats(unkeyed.i, ops);
    i = mixed.i;
    const mounts = parseTypeStats(i, ops);
    const updates = parseTypeStats(mounts.i, ops);
    const unmounts = parseTypeStats(updates.i, ops);
    i = unmounts.i;
    const singleRoots = ops[i++];
    const singleClassComponents = ops[i++];
    const singleFunctionComponents = ops[i++];
    const singleFragments = ops[i++];
    const singleForwardRef = ops[i++];
    const singleMemo = ops[i++];
    const singleSuspense = ops[i++];
    const singleElements = ops[i++];
    const singleText = ops[i++];
    const stats = {
        roots: roots.data,
        classComponents: klass.data,
        functionComponents: fnComps.data,
        fragments: fragments.data,
        forwardRef: forwardRef.data,
        memo: memo.data,
        suspense: suspense.data,
        elements: elements.data,
        text,
        keyed: keyed.data,
        unkeyed: unkeyed.data,
        mixed: mixed.data,
        mounts: mounts.data,
        updates: updates.data,
        unmounts: unmounts.data,
        singleChildType: {
            roots: singleRoots,
            classComponents: singleClassComponents,
            functionComponents: singleFunctionComponents,
            fragments: singleFragments,
            forwardRef: singleForwardRef,
            memo: singleMemo,
            suspense: singleSuspense,
            elements: singleElements,
            text: singleText
        }
    };
    return {
        i,
        stats
    };
}

;// CONCATENATED MODULE: ./src/adapter/protocol/operations.ts




/**
 * This is the heart of the devtools. Here we translate incoming events
 * and construct the tree data structure which all operations in the
 * Devtools UI are based upon.
 *
 * We currently expect all operations to be in order.
 */ function ops2Tree(oldTree, existingRoots, ops) {
    const pending = new Map(oldTree);
    const rootId = ops[0];
    const roots = [
        ...existingRoots
    ];
    const removals = [];
    const rendered = new Set();
    const reasons = new Map();
    let stats = null;
    let i = ops[1] + 1;
    const strings = parseTable(ops.slice(1, i + 1));
    for(i += 1; i < ops.length; i++){
        switch(ops[i]){
            case events_types_MsgTypes.ADD_ROOT:
                roots.push(ops[i + 1]);
                i += 1;
                break;
            case events_types_MsgTypes.ADD_VNODE:
                {
                    const id = ops[i + 1];
                    const parentId = ops[i + 3];
                    const parent = pending.get(parentId);
                    if (parent) {
                        const clone = deepClone(parent);
                        pending.set(parent.id, clone);
                        clone.children.push(id);
                    }
                    pending.set(id, {
                        children: [],
                        depth: parent ? parent.depth + 1 : 0,
                        id,
                        hocs: null,
                        name: strings[ops[i + 5] - 1],
                        owner: ops[i + 4],
                        parent: parentId,
                        type: ops[i + 2],
                        key: ops[i + 6] > 0 ? strings[ops[i + 6] - 1] : "",
                        startTime: ops[i + 7] / 1000,
                        endTime: ops[i + 8] / 1000
                    });
                    rendered.add(id);
                    i += 8;
                    break;
                }
            case events_types_MsgTypes.UPDATE_VNODE_TIMINGS:
                {
                    const id = ops[i + 1];
                    pending.set(id, deepClone(pending.get(id)));
                    const x = pending.get(id);
                    x.startTime = ops[i + 2] / 1000;
                    x.endTime = ops[i + 3] / 1000;
                    rendered.add(id);
                    i += 3;
                    break;
                }
            case events_types_MsgTypes.REMOVE_VNODE:
                {
                    const unmounts = ops[i + 1];
                    i += 2;
                    const len = i + unmounts;
                    for(; i < len; i++){
                        const nodeId = ops[i];
                        removals.push(nodeId);
                        const node = pending.get(nodeId);
                        if (node) {
                            // Remove node from parent children array
                            const parent = pending.get(node.parent);
                            if (parent) {
                                const idx = parent.children.indexOf(nodeId);
                                if (idx > -1) {
                                    const clone = deepClone(parent);
                                    pending.set(parent.id, clone);
                                    clone.children.splice(idx, 1);
                                }
                            }
                            // Check if node was a root
                            const rootIdx = roots.indexOf(node.id);
                            if (rootIdx > -1) {
                                roots.splice(rootIdx, 1);
                            }
                            // Delete children recursively
                            const stack = [
                                node.id
                            ];
                            let item;
                            while(item = stack.pop()){
                                const child = pending.get(item);
                                if (!child) continue;
                                pending.delete(child.id);
                                stack.push(...child.children);
                            }
                            pending.delete(nodeId);
                        }
                    }
                    // Subtract one because of outer loop
                    if (len > 0) i--;
                    break;
                }
            case events_types_MsgTypes.REORDER_CHILDREN:
                {
                    const parentId = ops[i + 1];
                    const count = ops[i + 2];
                    const parent = deepClone(pending.get(parentId));
                    parent.children = ops.slice(i + 3, i + 3 + count);
                    pending.set(parentId, parent);
                    i = i + 2 + count;
                    break;
                }
            case events_types_MsgTypes.RENDER_REASON:
                {
                    const id = ops[i + 1];
                    const type = ops[i + 2];
                    const count = ops[i + 3];
                    let items = null;
                    if (count > 0) {
                        items = ops.slice(i + 4, i + 4 + count).map((x)=>strings[x - 1]);
                    }
                    reasons.set(id, {
                        type,
                        items
                    });
                    i = i + 3 + count;
                    break;
                }
            case events_types_MsgTypes.COMMIT_STATS:
                {
                    const statsData = parseStats(i + 1, ops);
                    i = statsData.i;
                    stats = statsData.stats;
                    break;
                }
            case events_types_MsgTypes.HOC_NODES:
                {
                    const vnodeId = ops[i + 1];
                    const vnode = pending.get(vnodeId);
                    const count = ops[i + 2];
                    if (vnode) {
                        const hocs = [];
                        for(let j = 0; j < count; j++){
                            hocs.push(strings[ops[i + 3 + j] - 1]);
                        }
                        vnode.hocs = hocs;
                    }
                    i = i + 2 + count;
                    break;
                }
            default:
                throw new Error("Unknown event: " + ops[i]);
        }
    }
    return {
        rootId,
        roots,
        tree: pending,
        removals,
        rendered,
        reasons,
        stats
    };
}

;// CONCATENATED MODULE: ./src/adapter/protocol/legacy/operationsV1.ts



function applyOperationsV1(store, data) {
    const nodes = new Map(store.nodes.value);
    let i = data[1] + 1;
    const strings = parseTable(data.slice(1, i + 1));
    const inspected = store.inspectData.value != null ? store.inspectData.value.id : -2;
    for(; i < data.length; i++){
        switch(data[i]){
            case events_types_MsgTypes.ADD_ROOT:
                {
                    const id = data[i + 1];
                    store.roots.value.push(id);
                    i += 1;
                    break;
                }
            case events_types_MsgTypes.ADD_VNODE:
                {
                    const id = data[i + 1];
                    const type = data[i + 2];
                    const name = strings[data[i + 5] - 1];
                    const key = data[i + 6] > 0 ? strings[data[i + 6] - 1] : "";
                    let parentId = data[i + 3];
                    if (!nodes.has(id)) {
                        // Roots have their own id as parentId
                        if (id !== parentId) {
                            const parent = nodes.get(parentId);
                            if (!parent) {
                                // throw new Error(`Parent node ${parentId} not found in store.`);
                                // eslint-disable-next-line no-console
                                console.warn(`Parent node ${parentId} not found in store.`);
                                parentId = -1;
                            } else {
                                const clone = deepClone(parent);
                                nodes.set(clone.id, clone);
                                clone.children.push(id);
                            }
                        }
                        const parent = nodes.get(parentId);
                        const depth = parent ? parent.depth + 1 : 1;
                        nodes.set(id, {
                            children: [],
                            depth,
                            id,
                            hocs: null,
                            name,
                            owner: -1,
                            parent: parentId,
                            type,
                            key,
                            startTime: -1,
                            endTime: -1
                        });
                    }
                    i += 6;
                    break;
                }
            case events_types_MsgTypes.UPDATE_VNODE_TIMINGS:
                {
                    // Unused event
                    const id = data[i + 1];
                    if (id === inspected) {
                        store.notify("inspect", id);
                    }
                    i += 2;
                    break;
                }
            case events_types_MsgTypes.REMOVE_VNODE:
                {
                    const unmounts = data[i + 1];
                    i += 2;
                    const len = i + unmounts;
                    for(; i < len; i++){
                        const nodeId = data[i];
                        const node = nodes.get(nodeId);
                        if (node) {
                            // Remove node from parent children array
                            const parentId = node.parent;
                            const parent = nodes.get(parentId);
                            if (parent) {
                                const idx = parent.children.indexOf(nodeId);
                                if (idx > -1) {
                                    const clone = deepClone(parent);
                                    nodes.set(clone.id, clone);
                                    clone.children.splice(idx, 1);
                                }
                            }
                            const stack = node.children;
                            while(stack.length > 0){
                                const childId = stack.pop();
                                if (childId != null) {
                                    const childNode = nodes.get(childId);
                                    if (childNode) {
                                        stack.push(...childNode.children);
                                        nodes.delete(childId);
                                    }
                                }
                            }
                            // Remove node from store
                            nodes.delete(nodeId);
                        }
                    }
                    // Subtract one because of outer loop
                    if (len > 0) i--;
                    break;
                }
            case events_types_MsgTypes.REORDER_CHILDREN:
                {
                    const parentId = data[i + 1];
                    const count = data[i + 2];
                    const parent = nodes.get(parentId);
                    if (parent) {
                        const clone = deepClone(parent);
                        nodes.set(clone.id, clone);
                        clone.children = data.slice(i + 3, i + 3 + count);
                    }
                    i = i + 3 + count;
                    break;
                }
        }
    }
    store.roots.value = [
        ...store.roots.value
    ];
    store.nodes.value = nodes;
}

;// CONCATENATED MODULE: ./src/adapter/protocol/events.ts
// import { batch } from "@preact/signals-core";



const { postPluginMessage } = window;
function sumArrays(a, b) {
    for(let i = 0; i < b.length; i++){
        a[i] += b[i];
    }
}
function sumOps(a, b) {
    a.components += b.components;
    a.elements += b.elements;
    a.text += b.text;
}
/**
 * This is the heart of the devtools. Here we translate incoming events
 * and construct the tree data structure which all operations in the
 * Devtools UI are based upon.
 *
 * We currently expect all operations to be in order.
 */ function applyOperationsV2(store, data) {
    const { rootId: commitRootId, rendered, roots, tree, reasons, stats } = ops2Tree(store.nodes.value, store.roots.value, data);
    // Update store data
    store.roots.value = roots;
    store.nodes.value = tree;
    if (store.inspectData.value) {
        const id = store.inspectData.value.id;
        if (tree.has(id)) {
            store.notify("inspect", id);
        }
    }
    // If we are profiling, we'll make a frozen copy of the mutable
    // elements tree because the profiler can step through time
    if (store.profiler.isRecording.value) {
        recordProfilerCommit(store.nodes.value, store.profiler, rendered, commitRootId);
        const commitIdx = store.profiler.commits.peek().length - 1;
        const map = store.profiler.renderReasons.value.set(commitIdx, reasons);
        store.profiler.renderReasons.value = new Map(map);
    }
    if (stats !== null) {
        if (store.stats.data.value === null) {
            store.stats.data.value = stats;
        } else {
            const v = store.stats.data.value;
            sumArrays(v.roots, stats.roots);
            sumArrays(v.classComponents, stats.classComponents);
            sumArrays(v.functionComponents, stats.functionComponents);
            sumArrays(v.fragments, stats.fragments);
            sumArrays(v.forwardRef, stats.forwardRef);
            sumArrays(v.memo, stats.memo);
            sumArrays(v.suspense, stats.suspense);
            sumArrays(v.elements, stats.elements);
            v.text += stats.text;
            sumArrays(v.keyed, stats.keyed);
            sumArrays(v.unkeyed, stats.unkeyed);
            sumArrays(v.mixed, stats.mixed);
            sumOps(v.mounts, stats.mounts);
            sumOps(v.updates, stats.updates);
            sumOps(v.unmounts, stats.unmounts);
            const single = v.singleChildType;
            const singleNew = stats.singleChildType;
            single.roots += singleNew.roots;
            single.classComponents += singleNew.classComponents;
            single.functionComponents += singleNew.functionComponents;
            single.fragments += singleNew.fragments;
            single.forwardRef += singleNew.forwardRef;
            single.memo += singleNew.memo;
            single.suspense += singleNew.suspense;
            single.elements += singleNew.elements;
            store.stats.data.value = {
                ...v
            };
        }
    }
}
function applyEvent(store, type, data) {
    if (false) {}
    switch(type){
        case "attach":
            if (!store.profiler.isSupported.value) {
                store.profiler.isSupported.value = !!data.supportsProfiling;
            }
            if (!store.profiler.supportsRenderReasons.value) {
                store.profiler.supportsRenderReasons.value = !!data.supportsRenderReasons;
            }
            if (!store.supports.hooks.value) {
                store.supports.hooks.value = !!data.supportsHooks;
            }
            if (store.profiler.highlightUpdates.value) {
                store.emit("start-highlight-updates", null);
            }
            break;
        case "operation":
            applyOperationsV1(store, data);
            break;
        case "operation_v2":
            // batch(() => {
            // What for signals works with react-lynx
            applyOperationsV2(store, data);
            break;
        case "inspect-result":
            {
                const { props, state, context } = store.sidebar;
                store.inspectData.value = data;
                if (store.selection.selected.value !== data.id) {
                    store.selection.selectById(data.id);
                    // Reset collapsible state
                    props.uncollapsed.value = [];
                    state.uncollapsed.value = [];
                    context.uncollapsed.value = [];
                }
                break;
            }
        case "select-node":
            store.selection.selectById(data);
            break;
        case "stop-picker":
            store.isPicking.value = false;
            break;
        case "root-order":
            {
                const oldRoots = store.roots.value;
                const newOrder = new Set(data);
                for(let i = 0; i < oldRoots.length; i++){
                    const id = oldRoots[i];
                    if (!newOrder.has(id)) {
                        data.push(id);
                    }
                }
                store.roots.value = data;
                break;
            }
        case "init":
            {
                // We have to clear the state manually since browser will reload the extension on reload, but HDT does not reload plugin on react-lynx app reload
                store.roots.value = [];
                break;
            }
        case "preact-devtools-highlight":
            {
                const { uniqueId } = data || {};
                if (uniqueId != null) {
                    globalThis.preactDevtoolsLDTCtx.highlightUniqueId = uniqueId;
                    try {
                        var _globalThis_preactDevtoolsLDTCtx_devtoolsProps;
                        if ((_globalThis_preactDevtoolsLDTCtx_devtoolsProps = globalThis.preactDevtoolsLDTCtx.devtoolsProps) === null || _globalThis_preactDevtoolsLDTCtx_devtoolsProps === void 0 ? void 0 : _globalThis_preactDevtoolsLDTCtx_devtoolsProps.onPreactDevtoolsPanelUINodeIdSelected) {
                            var _globalThis_preactDevtoolsLDTCtx_devtoolsProps_onPreactDevtoolsPanelUINodeIdSelected, _globalThis_preactDevtoolsLDTCtx_devtoolsProps1;
                            (_globalThis_preactDevtoolsLDTCtx_devtoolsProps1 = globalThis.preactDevtoolsLDTCtx.devtoolsProps) === null || _globalThis_preactDevtoolsLDTCtx_devtoolsProps1 === void 0 ? void 0 : (_globalThis_preactDevtoolsLDTCtx_devtoolsProps_onPreactDevtoolsPanelUINodeIdSelected = _globalThis_preactDevtoolsLDTCtx_devtoolsProps1.onPreactDevtoolsPanelUINodeIdSelected) === null || _globalThis_preactDevtoolsLDTCtx_devtoolsProps_onPreactDevtoolsPanelUINodeIdSelected === void 0 ? void 0 : _globalThis_preactDevtoolsLDTCtx_devtoolsProps_onPreactDevtoolsPanelUINodeIdSelected.call(_globalThis_preactDevtoolsLDTCtx_devtoolsProps1, uniqueId);
                        } else {
                            postPluginMessage === null || postPluginMessage === void 0 ? void 0 : postPluginMessage("uitree-drawer")("Extensions.uitree-drawer", {
                                UINodeId: uniqueId
                            });
                            postPluginMessage === null || postPluginMessage === void 0 ? void 0 : postPluginMessage("uitree-panel")("Extensions.uitree-panel", {
                                UINodeId: uniqueId
                            });
                        }
                    } catch (err) {
                        console.error("preact-devtools-highlight error", err);
                    }
                }
                break;
            }
        case "element-picked-vnode-id":
            {
                const { id } = data || {};
                if (id != null) {
                    store.selection.selectById(id);
                }
                break;
            }
    }
}

;// CONCATENATED MODULE: ./src/constants.ts
const ClientToDevtools = "preact-client-to-devtools";
const DevtoolsToClient = "preact-devtools-to-client";
const ContentScriptName = "preact-content-script";
const DevtoolsPanelName = "preact-devtools-panel";
const DevtoolsPanelInlineName = "preact-devtools-panel/inline";
const PageHookName = "preact-page-hook";
const PROFILE_RELOAD = "preact-devtools_profile-and-reload";
const STATS_RELOAD = "preact-devtools_stats-and-reload";
var constants_NodeType = /*#__PURE__*/ (/* unused pure expression or super */ null && (function(NodeType) {
    NodeType[NodeType["Element"] = 1] = "Element";
    NodeType[NodeType["Text"] = 3] = "Text";
    NodeType[NodeType["CData"] = 4] = "CData";
    NodeType[NodeType["XMLProcessingInstruction"] = 7] = "XMLProcessingInstruction";
    NodeType[NodeType["Comment"] = 8] = "Comment";
    NodeType[NodeType["Document"] = 9] = "Document";
    NodeType[NodeType["DocumentType"] = 10] = "DocumentType";
    NodeType[NodeType["DocumentFragment"] = 11] = "DocumentFragment";
    return NodeType;
}({})));

;// CONCATENATED MODULE: ./src/shells/inline/index.ts






function setupFrontendStore(ctx) {
    const store = createStore();
    function handleClientEvents(e) {
        if (e.data && (e.data.source === PageHookName || e.data.source === DevtoolsToClient)) {
            const data = e.data;
            applyEvent(store, data.type, data.data);
        }
    }
    ctx.addEventListener("message", handleClientEvents);
    const unsubscribe = store.subscribe((name, data)=>{
        ctx.postMessage({
            type: name,
            data,
            source: DevtoolsToClient
        }, "*");
    });
    return {
        store,
        destroy: ()=>{
            ctx.removeEventListener("message", handleClientEvents);
            unsubscribe();
        }
    };
}
function setupInlineDevtools(container, ctx) {
    const { store } = setupFrontendStore(ctx);
    E(preact_module_(DevTools, {
        store,
        ctx
    }), container);
    return store;
}

;// CONCATENATED MODULE: ./ldt-plugin/src/components/preact-logo-text-svg.ts
const { React } = window;
const PreactLogoTextSvg = ()=>{
    return React.createElement("svg", {
        width: "100%",
        height: "100%",
        viewBox: "-256 -256 1900 512",
        version: "1.1",
        xmlns: "http://www.w3.org/2000/svg",
        xmlnsXlink: "http://www.w3.org/1999/xlink",
        xmlSpace: "preserve"
    }, React.createElement("path", {
        d: "M0,-256 221.7025033688164,-128 221.7025033688164,128 0,256 -221.7025033688164,128 -221.7025033688164,-128z",
        fill: "#673ab8"
    }), React.createElement("ellipse", {
        cx: "0",
        cy: "0",
        strokeWidth: "16px",
        rx: "75px",
        ry: "196px",
        fill: "none",
        stroke: "white",
        transform: "rotate(52.5)"
    }), React.createElement("ellipse", {
        cx: "0",
        cy: "0",
        strokeWidth: "16px",
        rx: "75px",
        ry: "196px",
        fill: "none",
        stroke: "white",
        transform: "rotate(-52.5)"
    }), React.createElement("circle", {
        cx: "0",
        cy: "0",
        r: "34",
        fill: "white"
    }), React.createElement("text", {
        x: "250",
        y: "128",
        fontSize: "350",
        fontFamily: "Helvetica Neue, helvetica, arial",
        fontWeight: "300",
        fill: "#673ab8",
        children: "PREACT"
    }));
};

;// CONCATENATED MODULE: ./ldt-plugin/src/components/lynx-black-logo-svg.ts
const { React: lynx_black_logo_svg_React } = window;
const LynxBlackLogoSvg = ()=>{
    return lynx_black_logo_svg_React.createElement("svg", {
        width: "92px",
        height: "110px",
        viewBox: "0 0 92 110",
        version: "1.1",
        xmlns: "http://www.w3.org/2000/svg",
        xmlnsXlink: "http://www.w3.org/1999/xlink"
    }, lynx_black_logo_svg_React.createElement("g", {
        id: "page-1",
        stroke: "none",
        strokeWidth: "1",
        fill: "none",
        fillRule: "evenodd"
    }, lynx_black_logo_svg_React.createElement("g", {
        id: "logo",
        fill: "#1C1E21",
        fillRule: "nonzero"
    }, lynx_black_logo_svg_React.createElement("path", {
        d: "M33.8278683,111 C44.1235652,79.1309152 94.3376658,76.4186526 66.8975263,34.3584924 C58.8696925,21.7113126 62.6528092,10.3549689 66.1599691,0.992640448 C66.3857519,0.0684621011 65.6582295,-0.313263738 65.0762115,0.294483979 C64.4941936,0.902231697 52.0711207,13.3535258 45.4180534,19.7373882 C37.4755153,26.1463642 24.3449896,21.9574253 18.0531748,31.5960028 C12.8401002,40.4610831 5.97128491,42.7162792 2.45910761,43.6404575 C-1.05306969,44.5646359 -2.23717518,48.6330297 8.88137468,65.2381037 C14.5510323,72.691803 26.6630266,61.0893465 31.8710838,68.2517287 C43.9027998,89.2868316 36.3516186,92.069412 33.8278683,111 Z",
        id: "path"
    }), lynx_black_logo_svg_React.createElement("path", {
        d: "M40,110 C55.439341,82.5800141 95.7562244,103.899992 83.8237838,46 C86.2182535,86.8970968 52.65577,80.5566946 40,110 Z",
        id: "path"
    }), lynx_black_logo_svg_React.createElement("path", {
        d: "M48,111 C63.8700855,95.0638035 86.4793162,117.224204 92,74 C79.1835897,106.867453 59.3973789,90.9109495 48,111 Z",
        id: "path"
    }))));
};

;// CONCATENATED MODULE: ./ldt-plugin/src/components/not-supported.ts
const { React: not_supported_React } = window;
const NotSupported = (param)=>{
    let { minSdkVersion } = param;
    return not_supported_React.createElement("div", {
        style: {
            margin: "auto",
            maxWidth: "600px",
            fontSize: "20px",
            padding: "32px",
            backgroundColor: "white",
            color: "black"
        }
    }, [
        `The current version of LynxSDK`,
        not_supported_React.createElement("span", {
            style: {
                fontWeight: 600
            }
        }, ` ${window.info.sdkVersion} `),
        `is not supported by Preact Devtools. The minimum required LynxSDK version of ${window.info.App} is ${minSdkVersion}. Please upgrade to the latest version.`
    ]);
};

;// CONCATENATED MODULE: ./ldt-plugin/src/setup.ts
function setupDevtoolPanel() {
    const devtoolsProps = window.preactDevtoolsLDTCtx.devtoolsProps;
    const listeners = {};
    preactDevtoolsLDTCtx.addEventListener = (type, callback)=>{
        if (!listeners[type]) {
            listeners[type] = [];
        }
        listeners[type].push(callback);
    };
    preactDevtoolsLDTCtx.removeEventListener = (type, callback)=>{
        var _listeners_type;
        if ((_listeners_type = listeners[type]) === null || _listeners_type === void 0 ? void 0 : _listeners_type.length) {
            listeners[type].splice(listeners[type].indexOf(callback), 1);
        }
    };
    preactDevtoolsLDTCtx.postMessage = (param, _targetOrigin)=>{
        let { source, type, data } = param;
        var _listeners_message;
        for(let i = 0; i < (((_listeners_message = listeners["message"]) === null || _listeners_message === void 0 ? void 0 : _listeners_message.length) ?? 0); i++){
            var _listeners_message_i, _listeners_message1;
            (_listeners_message1 = listeners["message"]) === null || _listeners_message1 === void 0 ? void 0 : (_listeners_message_i = _listeners_message1[i]) === null || _listeners_message_i === void 0 ? void 0 : _listeners_message_i.call(_listeners_message1, {
                source: window,
                data: {
                    source,
                    type,
                    data
                }
            });
        }
        devtoolsProps.postMessage("Remote.Customized.CDP", {
            method: "Lynx.sendVMEvent",
            params: {
                vmType: "JSContext",
                event: "PreactDevtools",
                data: JSON.stringify({
                    source,
                    type,
                    data
                })
            }
        });
    };
    devtoolsProps.addEventListener("Remote.Customized.CDP", (msg)=>{
        const msgObj = JSON.parse(msg);
        if ((msgObj === null || msgObj === void 0 ? void 0 : msgObj.method) === "Lynx.onVMEvent") {
            const { event, vmType: _vmType, data: _data } = msgObj.params;
            if (event === "PreactDevtools") {
                var _listeners_message;
                const dataObj = JSON.parse(msgObj.params.data);
                if (false) {}
                const { source, type, data } = dataObj;
                for(let i = 0; i < (((_listeners_message = listeners["message"]) === null || _listeners_message === void 0 ? void 0 : _listeners_message.length) ?? 0); i++){
                    var _listeners_message_i, _listeners_message1;
                    (_listeners_message1 = listeners["message"]) === null || _listeners_message1 === void 0 ? void 0 : (_listeners_message_i = _listeners_message1[i]) === null || _listeners_message_i === void 0 ? void 0 : _listeners_message_i.call(_listeners_message1, {
                        source: window,
                        data: {
                            source,
                            type,
                            data
                        }
                    });
                }
            }
        }
    });
}

;// CONCATENATED MODULE: ./ldt-plugin/src/plugin-entry.ts





const plugin_entry_minSdkVersion = "2.18.8";
const plugin_entry_isSupported = (param)=>{
    let { info, compareVersions } = param;
    return compareVersions(info.sdkVersion, plugin_entry_minSdkVersion) >= 0;
};
const { React: plugin_entry_React } = window;
const PreactDevtoolsPanel = (param)=>{
    let { isOSSLynxDevtool = false, addEventListener, postMessage, addOnScreenCastPanelUINodeIdSelectedListener, onPreactDevtoolsPanelUINodeIdSelected } = param;
    const supported = isOSSLynxDevtool || plugin_entry_isSupported({
        info: window.info,
        compareVersions: window.compareVersions
    });
    plugin_entry_React.useEffect(()=>{
        if (!supported) {
            return;
        }
        // @ts-expect-error
        window.preactDevtoolsLDTCtx = {};
        window.preactDevtoolsLDTCtx.devtoolsProps = {
            addEventListener,
            postMessage,
            isOSSLynxDevtool,
            addOnScreenCastPanelUINodeIdSelectedListener,
            onPreactDevtoolsPanelUINodeIdSelected
        };
        setupDevtoolPanel();
        const container = document.getElementById("preact-devtools-container");
        setupInlineDevtools(container, window.preactDevtoolsLDTCtx);
    }, []);
    return plugin_entry_React.createElement("div", {
        id: "preact-devtools-container",
        style: {
            height: "100%",
            fontSize: "14px",
            ...supported ? {} : {
                overflow: "scroll"
            }
        }
    }, supported ? null : [
        plugin_entry_React.createElement("div", {
            style: {
                margin: "auto",
                maxWidth: "600px",
                padding: "48px",
                fontSize: "40px",
                backgroundColor: "white",
                color: "black",
                display: "flex",
                justifyContent: "space-between",
                alignItems: "center"
            }
        }, [
            plugin_entry_React.createElement("div", {
                style: {
                    display: "flex",
                    alignItems: "center"
                }
            }, plugin_entry_React.createElement(PreactLogoTextSvg, {})),
            "\u2764\uFE0F",
            plugin_entry_React.createElement("div", {
                style: {
                    display: "flex",
                    alignItems: "center",
                    paddingLeft: "16px"
                }
            }, plugin_entry_React.createElement(LynxBlackLogoSvg, {}))
        ]),
        plugin_entry_React.createElement("div", {
            style: {
                width: "100%",
                fontSize: "32px",
                padding: "32px",
                backgroundColor: "white",
                color: "black",
                display: "flex",
                justifyContent: "center",
                alignItems: "flex-start"
            }
        }, plugin_entry_React.createElement("a", {
            href: "https://github.com/lynx-family/lynx-stack/tree/main/packages/preact-devtools",
            target: "_blank"
        }, "Preact Devtools for ReactLynx")),
        plugin_entry_React.createElement(NotSupported, {
            minSdkVersion: plugin_entry_minSdkVersion
        })
    ]);
};
/* ESM default export */ const plugin_entry = (PreactDevtoolsPanel);

var __webpack_exports__default = __webpack_exports__.Z;
export { __webpack_exports__default as default };
